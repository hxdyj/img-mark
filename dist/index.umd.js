(function(Mn,q){typeof exports=="object"&&typeof module!="undefined"?q(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],q):q((Mn=typeof globalThis!="undefined"?globalThis:Mn||self).kezhi={},Mn.Vue)})(this,function(Mn,q){"use strict";var Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ic=window.device,x={},Mo=[],nt=(window.device=x,window.document.documentElement),Mc=window.navigator.userAgent.toLowerCase(),cu=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function Ao(o,p){return o.indexOf(p)!==-1}function Ye(o){return Ao(Mc,o)}function fu(o){return nt.className.match(new RegExp(o,"i"))}function Re(o){var p;fu(o)||(p=nt.className.replace(/^\s+|\s+$/g,""),nt.className=p+" "+o)}function lu(o){fu(o)&&(nt.className=nt.className.replace(" "+o,""))}function Tt(){x.landscape()?(lu("portrait"),Re("landscape"),su("landscape")):(lu("landscape"),Re("portrait"),su("portrait")),pu()}function su(o){for(var p=0;p<Mo.length;p++)Mo[p](o)}x.macos=function(){return Ye("mac")},x.ios=function(){return x.iphone()||x.ipod()||x.ipad()},x.iphone=function(){return!x.windows()&&Ye("iphone")},x.ipod=function(){return Ye("ipod")},x.ipad=function(){var o=navigator.platform==="MacIntel"&&1<navigator.maxTouchPoints;return Ye("ipad")||o},x.android=function(){return!x.windows()&&Ye("android")},x.androidPhone=function(){return x.android()&&Ye("mobile")},x.androidTablet=function(){return x.android()&&!Ye("mobile")},x.blackberry=function(){return Ye("blackberry")||Ye("bb10")},x.blackberryPhone=function(){return x.blackberry()&&!Ye("tablet")},x.blackberryTablet=function(){return x.blackberry()&&Ye("tablet")},x.windows=function(){return Ye("windows")},x.windowsPhone=function(){return x.windows()&&Ye("phone")},x.windowsTablet=function(){return x.windows()&&Ye("touch")&&!x.windowsPhone()},x.fxos=function(){return(Ye("(mobile")||Ye("(tablet"))&&Ye(" rv:")},x.fxosPhone=function(){return x.fxos()&&Ye("mobile")},x.fxosTablet=function(){return x.fxos()&&Ye("tablet")},x.meego=function(){return Ye("meego")},x.cordova=function(){return window.cordova&&location.protocol==="file:"},x.nodeWebkit=function(){return Ec(window.process)==="object"},x.mobile=function(){return x.androidPhone()||x.iphone()||x.ipod()||x.windowsPhone()||x.blackberryPhone()||x.fxosPhone()||x.meego()},x.tablet=function(){return x.ipad()||x.androidTablet()||x.blackberryTablet()||x.windowsTablet()||x.fxosTablet()},x.desktop=function(){return!x.tablet()&&!x.mobile()},x.television=function(){for(var o=0;o<cu.length;){if(Ye(cu[o]))return!0;o++}return!1},x.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Ao(screen.orientation.type,"portrait"):x.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:1<window.innerHeight/window.innerWidth},x.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Ao(screen.orientation.type,"landscape"):x.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1},x.noConflict=function(){return window.device=Ic,this},x.ios()?x.ipad()?Re("ios ipad tablet"):x.iphone()?Re("ios iphone mobile"):x.ipod()&&Re("ios ipod mobile"):x.macos()?Re("macos desktop"):x.android()?x.androidTablet()?Re("android tablet"):Re("android mobile"):x.blackberry()?x.blackberryTablet()?Re("blackberry tablet"):Re("blackberry mobile"):x.windows()?x.windowsTablet()?Re("windows tablet"):x.windowsPhone()?Re("windows mobile"):Re("windows desktop"):x.fxos()?x.fxosTablet()?Re("fxos tablet"):Re("fxos mobile"):x.meego()?Re("meego mobile"):x.nodeWebkit()?Re("node-webkit"):x.television()?Re("television"):x.desktop()&&Re("desktop"),x.cordova()&&Re("cordova"),x.onChangeOrientation=function(o){typeof o=="function"&&Mo.push(o)};var Rr="resize";function Bo(o){for(var p=0;p<o.length;p++)if(x[o[p]]())return o[p];return"unknown"}function pu(){x.orientation=Bo(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Rr="orientationchange"),window.addEventListener?window.addEventListener(Rr,Tt,!1):window.attachEvent?window.attachEvent(Rr,Tt):window[Rr]=Tt,Tt(),x.type=Bo(["mobile","tablet","desktop"]),x.os=Bo(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),pu();var Lt,jt,rt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Q={exports:{}};jt=(Lt=Q).exports,function(){var o,p="Expected a function",v="__lodash_hash_undefined__",c="__lodash_placeholder__",b=128,Y=9007199254740991,O=NaN,A=4294967295,B=[["ary",b],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],I="[object Arguments]",V="[object Array]",Qe="[object Boolean]",Ze="[object Date]",xe="[object Error]",Te="[object Function]",fe="[object GeneratorFunction]",X="[object Map]",pe="[object Number]",Z="[object Object]",Ae="[object Promise]",Xe="[object RegExp]",ye="[object Set]",gn="[object String]",Jn="[object Symbol]",Qn="[object WeakMap]",R="[object ArrayBuffer]",te="[object DataView]",W="[object Float32Array]",Sn="[object Float64Array]",Dn="[object Int8Array]",_r="[object Int16Array]",Ce="[object Int32Array]",he="[object Uint8Array]",Be="[object Uint8ClampedArray]",de="[object Uint16Array]",ue="[object Uint32Array]",Ee=/\b__p \+= '';/g,cn=/\b(__p \+=) '' \+/g,Se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fn=/&(?:amp|lt|gt|quot|#39);/g,ct=/[&<>"']/g,Mt=RegExp(fn.source),F=RegExp(ct.source),Ke=/<%-([\s\S]+?)%>/g,yr=/<%([\s\S]+?)%>/g,vn=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bt=/^\w*$/,wr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/[\\^$.*+?()[\]{}|]/g,er=RegExp(ft.source),Ie=/^\s+/,Wt=/\s/,Pt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ht=/,? & /,st=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xr=/[()=,{}\[\]\/\s]/,Er=/\\(\\)?/g,nr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jn=/\w*$/,Nt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Ut=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,Zo=/^(?:0|[1-9]\d*)$/,Vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ir=/($^)/,Ko=/['\n\r\u2028\u2029\\]/g,Mr="\\ud800-\\udfff",qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",L="\\u2700-\\u27bf",ir="a-z\\xdf-\\xf6\\xf8-\\xff",D="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="['\u2019]",en="["+Mr+"]",d="["+me+"]",C="["+qt+"]",tr="["+L+"]",T="["+ir+"]",me="[^"+Mr+me+"\\d+"+L+ir+D+"]",L="\\ud83c[\\udffb-\\udfff]",ir="[^"+Mr+"]",ht="(?:\\ud83c[\\udde6-\\uddff]){2}",mr="[\\ud800-\\udbff][\\udc00-\\udfff]",D="["+D+"]",ge="\\u200d",ee="(?:"+T+"|"+me+")",me="(?:"+D+"|"+me+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Pe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",rr="(?:"+C+"|"+L+")?",se="["+pt+"]?",se=se+rr+("(?:"+ge+"(?:"+[ir,ht,mr].join("|")+")"+se+rr+")*"),rr="(?:"+[tr,ht,mr].join("|")+")"+se,tr="(?:"+[ir+C+"?",C,ht,mr,en].join("|")+")",or=RegExp(s,"g"),Zt=RegExp(C,"g"),Wn=RegExp(L+"(?="+L+")|"+tr+se,"g"),Go=RegExp([D+"?"+T+"+"+We+"(?="+[d,D,"$"].join("|")+")",me+"+"+Pe+"(?="+[d,D+ee,"$"].join("|")+")",D+"?"+ee+"+"+We,D+"+"+Pe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",rr].join("|"),"g"),Vc=RegExp("["+ge+Mr+qt+pt+"]"),qc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kc=-1,be={},we=(be[W]=be[Sn]=be[Dn]=be[_r]=be[Ce]=be[he]=be[Be]=be[de]=be[ue]=!0,be[I]=be[V]=be[R]=be[Qe]=be[te]=be[Ze]=be[xe]=be[Te]=be[X]=be[pe]=be[Z]=be[Xe]=be[ye]=be[gn]=be[Qn]=!1,{}),Gc=(we[I]=we[V]=we[R]=we[te]=we[Qe]=we[Ze]=we[W]=we[Sn]=we[Dn]=we[_r]=we[Ce]=we[X]=we[pe]=we[Z]=we[Xe]=we[ye]=we[gn]=we[Jn]=we[he]=we[Be]=we[de]=we[ue]=!0,we[xe]=we[Te]=we[Qn]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Jc=parseFloat,Qc=parseInt,ir=typeof rt=="object"&&rt&&rt.Object===Object&&rt,ht=typeof self=="object"&&self&&self.Object===Object&&self,Ne=ir||ht||Function("return this")(),mr=jt&&!jt.nodeType&&jt,br=mr&&Lt&&!Lt.nodeType&&Lt,ju=br&&br.exports===mr,Jo=ju&&ir.process,en=function(){try{var g=br&&br.require&&br.require("util").types;return g||Jo&&Jo.binding&&Jo.binding("util")}catch{}}(),Ru=en&&en.isArrayBuffer,Xu=en&&en.isDate,Eu=en&&en.isMap,Iu=en&&en.isRegExp,Mu=en&&en.isSet,Au=en&&en.isTypedArray;function ln(g,z,y){switch(y.length){case 0:return g.call(z);case 1:return g.call(z,y[0]);case 2:return g.call(z,y[0],y[1]);case 3:return g.call(z,y[0],y[1],y[2])}return g.apply(z,y)}function ef(g,z,y,H){for(var G=-1,oe=g==null?0:g.length;++G<oe;){var re=g[G];z(H,re,y(re),g)}return H}function _n(g,z){for(var y=-1,H=g==null?0:g.length;++y<H&&z(g[y],y,g)!==!1;);return g}function nf(g,z){for(var y=g==null?0:g.length;y--&&z(g[y],y,g)!==!1;);return g}function Bu(g,z){for(var y=-1,H=g==null?0:g.length;++y<H;)if(!z(g[y],y,g))return!1;return!0}function ur(g,z){for(var y=-1,H=g==null?0:g.length,G=0,oe=[];++y<H;){var re=g[y];z(re,y,g)&&(oe[G++]=re)}return oe}function Kt(g,z){return!!(g!=null&&g.length)&&-1<Ar(g,z,0)}function Qo(g,z,y){for(var H=-1,G=g==null?0:g.length;++H<G;)if(y(z,g[H]))return!0;return!1}function De(g,z){for(var y=-1,H=g==null?0:g.length,G=Array(H);++y<H;)G[y]=z(g[y],y,g);return G}function ar(g,z){for(var y=-1,H=z.length,G=g.length;++y<H;)g[G+y]=z[y];return g}function ei(g,z,y,H){var G=-1,oe=g==null?0:g.length;for(H&&oe&&(y=g[++G]);++G<oe;)y=z(y,g[G],G,g);return y}function rf(g,z,y,H){var G=g==null?0:g.length;for(H&&G&&(y=g[--G]);G--;)y=z(y,g[G],G,g);return y}function ni(g,z){for(var y=-1,H=g==null?0:g.length;++y<H;)if(z(g[y],y,g))return!0;return!1}var tf=ri("length");function Wu(g,z,y){var H;return y(g,function(G,oe,re){if(z(G,oe,re))return H=oe,!1}),H}function Gt(g,z,y,H){for(var G=g.length,oe=y+(H?1:-1);H?oe--:++oe<G;)if(z(g[oe],oe,g))return oe;return-1}function Ar(g,z,y){if(z!=z)return Gt(g,Pu,y);for(var H=g,G=z,oe=y-1,re=H.length;++oe<re;)if(H[oe]===G)return oe;return-1}function of(g,z,y,H){for(var G=y-1,oe=g.length;++G<oe;)if(H(g[G],z))return G;return-1}function Pu(g){return g!=g}function Hu(g,z){var y=g==null?0:g.length;return y?oi(g,z)/y:O}function ri(g){return function(z){return z==null?o:z[g]}}function ti(g){return function(z){return g==null?o:g[z]}}function Nu(g,z,y,H,G){return G(g,function(oe,re,gt){y=H?(H=!1,oe):z(y,oe,re,gt)}),y}function oi(g,z){for(var y,H=-1,G=g.length;++H<G;){var oe=z(g[H]);oe!==o&&(y=y===o?oe:y+oe)}return y}function ii(g,z){for(var y=-1,H=Array(g);++y<g;)H[y]=z(y);return H}function Fu(g){return g&&g.slice(0,qu(g)+1).replace(Ie,"")}function sn(g){return function(z){return g(z)}}function ui(g,z){return De(z,function(y){return g[y]})}function dt(g,z){return g.has(z)}function Uu(g,z){for(var y=-1,H=g.length;++y<H&&-1<Ar(z,g[y],0););return y}function $u(g,z){for(var y=g.length;y--&&-1<Ar(z,g[y],0););return y}var uf=ti({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),af=ti({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cf(g){return"\\"+Gc[g]}function Br(g){return Vc.test(g)}function ai(g){var z=-1,y=Array(g.size);return g.forEach(function(H,G){y[++z]=[G,H]}),y}function Vu(g,z){return function(y){return g(z(y))}}function cr(g,z){for(var y=-1,H=g.length,G=0,oe=[];++y<H;){var re=g[y];re!==z&&re!==c||(g[y]=c,oe[G++]=y)}return oe}function Jt(g){var z=-1,y=Array(g.size);return g.forEach(function(H){y[++z]=H}),y}function Wr(g){return(Br(g)?function(z){for(var y=Wn.lastIndex=0;Wn.test(z);)++y;return y}:tf)(g)}function kn(g){return Br(g)?g.match(Wn)||[]:g.split("")}function qu(g){for(var z=g.length;z--&&Wt.test(g.charAt(z)););return z}var ff=ti({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Pr=function g(le){var y=(le=le==null?Ne:Pr.defaults(Ne.Object(),le,Pr.pick(Ne,Zc))).Array,Rn=le.Date,H=le.Error,G=le.Function,oe=le.Math,re=le.Object,gt=le.RegExp,lf=le.String,yn=le.TypeError,Qt=y.prototype,xn=G.prototype,Hr=re.prototype,Nr=le["__core-js_shared__"],eo=xn.toString,_e=Hr.hasOwnProperty,sf=0,Zu=(xn=/[^.]+$/.exec(Nr&&Nr.keys&&Nr.keys.IE_PROTO||""))?"Symbol(src)_1."+xn:"",no=Hr.toString,pf=eo.call(re),hf=Ne._,df=gt("^"+eo.call(_e).replace(ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xn=ju?le.Buffer:o,Ue=le.Symbol,ro=le.Uint8Array,Ku=xn?xn.allocUnsafe:o,to=Vu(re.getPrototypeOf,re),Gu=re.create,Ju=Hr.propertyIsEnumerable,oo=Qt.splice,Qu=Ue?Ue.isConcatSpreadable:o,vt=Ue?Ue.iterator:o,xr=Ue?Ue.toStringTag:o,io=function(){try{var e=Or(re,"defineProperty");return e({},"",{}),e}catch{}}(),Fr=le.clearTimeout!==Ne.clearTimeout&&le.clearTimeout,Fi=Rn&&Rn.now!==Ne.Date.now&&Rn.now,ci=le.setTimeout!==Ne.setTimeout&&le.setTimeout,uo=oe.ceil,ao=oe.floor,fi=re.getOwnPropertySymbols,xn=xn?xn.isBuffer:o,ea=le.isFinite,gf=Qt.join,vf=Vu(re.keys,re),Me=oe.max,$e=oe.min,_f=Rn.now,yf=le.parseInt,na=oe.random,wf=Qt.reverse,Rn=Or(le,"DataView"),_t=Or(le,"Map"),yt=Or(le,"Promise"),Ur=Or(le,"Set"),le=Or(le,"WeakMap"),wt=Or(re,"create"),co=le&&new le,$r={},mf=zr(Rn),bf=zr(_t),xf=zr(yt),Cf=zr(Ur),Sf=zr(le),Ue=Ue?Ue.prototype:o,mt=Ue?Ue.valueOf:o,ra=Ue?Ue.toString:o;function u(e){if(ze(e)&&!J(e)&&!(e instanceof ae)){if(e instanceof On)return e;if(_e.call(e,"__wrapped__"))return tc(e)}return new On(e)}var Vr=function(e){return ke(e)?Gu?Gu(e):(li.prototype=e,e=new li,li.prototype=o,e):{}};function li(){}function fo(){}function On(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function Cr(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Pn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Hn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Sr(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new Hn;++n<r;)this.add(e[n])}function zn(e){e=this.__data__=new Pn(e),this.size=e.size}function ta(e,n){var r,t=J(e),i=!t&&Yr(e),a=!t&&!i&&hr(e),f=!t&&!i&&!a&&Gr(e),l=t||i||a||f,h=l?ii(e.length,lf):[],_=h.length;for(r in e)!n&&!_e.call(e,r)||l&&(r=="length"||a&&(r=="offset"||r=="parent")||f&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||$n(r,_))||h.push(r);return h}function oa(e){var n=e.length;return n?e[bi(0,n-1)]:o}function Df(e,n){return So(nn(e),Dr(n,0,e.length))}function kf(e){return So(nn(e))}function si(e,n,r){(r===o||Yn(e[n],r))&&(r!==o||n in e)||Nn(e,n,r)}function bt(e,n,r){var t=e[n];_e.call(e,n)&&Yn(t,r)&&(r!==o||n in e)||Nn(e,n,r)}function lo(e,n){for(var r=e.length;r--;)if(Yn(e[r][0],n))return r;return-1}function Of(e,n,r,t){return fr(e,function(i,a,f){n(t,i,r(i),f)}),t}function ia(e,n){return e&&En(n,He(n),e)}function Nn(e,n,r){n=="__proto__"&&io?io(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function pi(e,n){for(var r=-1,t=n.length,i=y(t),a=e==null;++r<t;)i[r]=a?o:Zi(e,n[r]);return i}function Dr(e,n,r){return e==e&&(r!==o&&(e=e<=r?e:r),n!==o&&(e=n<=e?e:n)),e}function wn(e,n,r,m,i,a){var f,l=1&n,h=2&n,_=4&n;if((f=r?i?r(e,m,i,a):r(e):f)!==o)return f;if(!ke(e))return e;var w,m=J(e);if(m){if(f=function(E){var k=E.length,j=new E.constructor(k);return k&&typeof E[0]=="string"&&_e.call(E,"index")&&(j.index=E.index,j.input=E.input),j}(e),!l)return nn(e,f)}else{var S=Ve(e),P=S==Te||S==fe;if(hr(e))return Ya(e,l);if(S==Z||S==I||P&&!i){if(f=h||P?{}:qa(e),!l)return h?(M=P=e,M=(w=f)&&En(M,tn(M),w),En(P,$a(P),M)):(P=ia(f,w=e),En(w,Ei(w),P))}else{if(!we[S])return i?e:{};f=function(E,k,j){var N=E.constructor;switch(k){case R:return zi(E);case Qe:case Ze:return new N(+E);case te:return function(K,ce){return ce=ce?zi(K.buffer):K.buffer,new K.constructor(ce,K.byteOffset,K.byteLength)}(E,j);case W:case Sn:case Dn:case _r:case Ce:case he:case Be:case de:case ue:return Ta(E,j);case X:return new N;case pe:case gn:return new N(E);case Xe:return function(K){var ce=new K.constructor(K.source,jn.exec(K));return ce.lastIndex=K.lastIndex,ce}(E);case ye:return new N;case Jn:return function(K){return mt?re(mt.call(K)):{}}(E)}}(e,S,l)}}var M=(a=a||new zn).get(e);if(M)return M;a.set(e,f),bc(e)?e.forEach(function(E){f.add(wn(E,n,r,E,e,a))}):wc(e)&&e.forEach(function(E,k){f.set(k,wn(E,n,r,k,e,a))});var $=m?o:(_?h?ji:Li:h?tn:He)(e);return _n($||e,function(E,k){$&&(E=e[k=E]),bt(f,k,wn(E,n,r,k,e,a))}),f}function ua(e,n,r){var t=r.length;if(e==null)return!t;for(e=re(e);t--;){var i=r[t],a=n[i],f=e[i];if(f===o&&!(i in e)||!a(f))return!1}return!0}function aa(e,n,r){if(typeof e!="function")throw new yn(p);return zt(function(){e.apply(o,r)},n)}function xt(e,n,r,t){var i=-1,a=Kt,f=!0,l=e.length,h=[],_=n.length;if(!l)return h;r&&(n=De(n,sn(r))),t?(a=Qo,f=!1):200<=n.length&&(a=dt,f=!1,n=new Sr(n));e:for(;++i<l;){var m=e[i],w=r==null?m:r(m),m=t||m!==0?m:0;if(f&&w==w){for(var S=_;S--;)if(n[S]===w)continue e;h.push(m)}else a(n,w,t)||h.push(m)}return h}u.templateSettings={escape:Ke,evaluate:yr,interpolate:vn,variable:"",imports:{_:u}},(u.prototype=fo.prototype).constructor=u,(On.prototype=Vr(fo.prototype)).constructor=On,(ae.prototype=Vr(fo.prototype)).constructor=ae,Cr.prototype.clear=function(){this.__data__=wt?wt(null):{},this.size=0},Cr.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Cr.prototype.get=function(e){var n,r=this.__data__;return wt?(n=r[e])===v?o:n:_e.call(r,e)?r[e]:o},Cr.prototype.has=function(e){var n=this.__data__;return wt?n[e]!==o:_e.call(n,e)},Cr.prototype.set=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wt&&n===o?v:n,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(e){var n=this.__data__;return!((e=lo(n,e))<0)&&(e==n.length-1?n.pop():oo.call(n,e,1),--this.size,!0)},Pn.prototype.get=function(e){var n=this.__data__;return(e=lo(n,e))<0?o:n[e][1]},Pn.prototype.has=function(e){return-1<lo(this.__data__,e)},Pn.prototype.set=function(e,n){var r=this.__data__,t=lo(r,e);return t<0?(++this.size,r.push([e,n])):r[t][1]=n,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Cr,map:new(_t||Pn),string:new Cr}},Hn.prototype.delete=function(e){return e=Co(this,e).delete(e),this.size-=e?1:0,e},Hn.prototype.get=function(e){return Co(this,e).get(e)},Hn.prototype.has=function(e){return Co(this,e).has(e)},Hn.prototype.set=function(e,n){var r=Co(this,e),t=r.size;return r.set(e,n),this.size+=r.size==t?0:1,this},Sr.prototype.add=Sr.prototype.push=function(e){return this.__data__.set(e,v),this},Sr.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.clear=function(){this.__data__=new Pn,this.size=0},zn.prototype.delete=function(r){var n=this.__data__,r=n.delete(r);return this.size=n.size,r},zn.prototype.get=function(e){return this.__data__.get(e)},zn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.set=function(e,n){var r=this.__data__;if(r instanceof Pn){var t=r.__data__;if(!_t||t.length<199)return t.push([e,n]),this.size=++r.size,this;r=this.__data__=new Hn(t)}return r.set(e,n),this.size=r.size,this};var fr=Xa(Xn),ca=Xa(di,!0);function zf(e,n){var r=!0;return fr(e,function(t,i,a){return r=!!n(t,i,a)}),r}function so(e,n,r){for(var t=-1,i=e.length;++t<i;){var a,f,l=e[t],h=n(l);h!=null&&(a===o?h==h&&!hn(h):r(h,a))&&(a=h,f=l)}return f}function fa(e,n){var r=[];return fr(e,function(t,i,a){n(t,i,a)&&r.push(t)}),r}function Fe(e,n,r,t,i){var a=-1,f=e.length;for(r=r||Wf,i=i||[];++a<f;){var l=e[a];0<n&&r(l)?1<n?Fe(l,n-1,r,t,i):ar(i,l):t||(i[i.length]=l)}return i}var hi=Ea(),la=Ea(!0);function Xn(e,n){return e&&hi(e,n,He)}function di(e,n){return e&&la(e,n,He)}function po(e,n){return ur(n,function(r){return Vn(e[r])})}function kr(e,n){for(var r=0,t=(n=sr(n,e)).length;e!=null&&r<t;)e=e[In(n[r++])];return r&&r==t?e:o}function sa(e,n,r){return n=n(e),J(e)?n:ar(n,r(e))}function Ge(e){{if(e==null)return e===o?"[object Undefined]":"[object Null]";if(xr&&xr in re(e)){var n=e,r=_e.call(n,xr),t=n[xr];try{n[xr]=o;var i=!0}catch{}var a=no.call(n);return i&&(r?n[xr]=t:delete n[xr]),a}return no.call(e)}}function gi(e,n){return n<e}function Yf(e,n){return e!=null&&_e.call(e,n)}function Tf(e,n){return e!=null&&n in re(e)}function vi(e,n,r){for(var t=r?Qo:Kt,i=e[0].length,a=e.length,f=a,l=y(a),h=1/0,_=[];f--;){var w=e[f];f&&n&&(w=De(w,sn(n))),h=$e(w.length,h),l[f]=!r&&(n||120<=i&&120<=w.length)?new Sr(f&&w):o}var w=e[0],m=-1,S=l[0];e:for(;++m<i&&_.length<h;){var M=w[m],P=n?n(M):M,M=r||M!==0?M:0;if(!(S?dt(S,P):t(_,P,r))){for(f=a;--f;){var $=l[f];if(!($?dt($,P):t(e[f],P,r)))continue e}S&&S.push(P),_.push(M)}}return _}function Ct(e,n,r){return n=(e=Ja(e,n=sr(n,e)))==null?e:e[In(bn(n))],n==null?o:ln(n,e,r)}function pa(e){return ze(e)&&Ge(e)==I}function St(e,n,r,t,i){{if(e===n)return!0;if(e==null||n==null||!ze(e)&&!ze(n))return e!=e&&n!=n;var a=St,f=J(e),w=J(n),l=f?V:Ve(e),w=w?V:Ve(n),h=(l=l==I?Z:l)==Z,_=(w=w==I?Z:w)==Z,w;if((w=l==w)&&hr(e)){if(!hr(n))return!1;h=!(f=!0)}if(w&&!h){if(i=i||new zn,f||Gr(e))return Ua(e,n,r,t,a,i);var m=e,S=n,P=l,M=r,$=t,E=a,k=i;switch(P){case te:if(m.byteLength!=S.byteLength||m.byteOffset!=S.byteOffset)return!1;m=m.buffer,S=S.buffer;case R:return!!(m.byteLength==S.byteLength&&E(new ro(m),new ro(S)));case Qe:case Ze:case pe:return Yn(+m,+S);case xe:return m.name==S.name&&m.message==S.message;case Xe:case gn:return m==S+"";case X:var j=ai;case ye:var N=1&M;return j=j||Jt,m.size!=S.size&&!N?!1:(N=k.get(m),N?N==S:(M|=2,k.set(m,S),N=Ua(j(m),j(S),M,$,E,k),k.delete(m),N));case Jn:if(mt)return mt.call(m)==mt.call(S)}return!1}if(!(1&r)&&(f=h&&_e.call(e,"__wrapped__"),l=_&&_e.call(n,"__wrapped__"),f||l))return h=f?e.value():e,_=l?n.value():n,i=i||new zn,a(h,_,r,t,i);if(w){i=i||new zn;var K=e,ce=n,Oe=r,un=t,je=a,qe=i,Qr=1&Oe,et=Li(K),iu=et.length,f=Li(ce).length;if(iu!=f&&!Qr)return!1;for(var Ro=iu;Ro--;){var dr=et[Ro];if(!(Qr?dr in ce:_e.call(ce,dr)))return!1}if(f=qe.get(K),l=qe.get(ce),f&&l)return f==ce&&l==K;for(var Xo=!0,uu=(qe.set(K,ce),qe.set(ce,K),Qr);++Ro<iu;){dr=et[Ro];var au,Eo=K[dr],Io=ce[dr];if(!((au=un?Qr?un(Io,Eo,dr,ce,K,qe):un(Eo,Io,dr,K,ce,qe):au)===o?Eo===Io||je(Eo,Io,Oe,un,qe):au)){Xo=!1;break}uu=uu||dr=="constructor"}return Xo&&!uu&&(f=K.constructor,l=ce.constructor,f!=l&&"constructor"in K&&"constructor"in ce&&!(typeof f=="function"&&f instanceof f&&typeof l=="function"&&l instanceof l)&&(Xo=!1)),qe.delete(K),qe.delete(ce),Xo}return!1}}function _i(e,n,r,t){var i=r.length,a=i,f=!t;if(e==null)return!a;for(e=re(e);i--;){var l=r[i];if(f&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var h=(l=r[i])[0],_=e[h],w=l[1];if(f&&l[2]){if(_===o&&!(h in e))return!1}else{var m,S=new zn;if(!((m=t?t(_,w,h,e,n,S):m)===o?St(w,_,3,t,S):m))return!1}}return!0}function ha(e){return!(!ke(e)||(n=e,Zu&&Zu in n))&&(Vn(e)?df:Ut).test(zr(e));var n}function da(e){return typeof e=="function"?e:e==null?on:typeof e=="object"?J(e)?_a(e[0],e[1]):va(e):Xc(e)}function yi(e){if(!Ot(e))return vf(e);var n,r=[];for(n in re(e))_e.call(e,n)&&n!="constructor"&&r.push(n);return r}function Lf(e){if(!ke(e)){var n=e,r=[];if(n!=null)for(var t in re(n))r.push(t);return r}var i,a=Ot(e),f=[];for(i in e)(i!="constructor"||!a&&_e.call(e,i))&&f.push(i);return f}function wi(e,n){return e<n}function ga(e,n){var r=-1,t=rn(e)?y(e.length):[];return fr(e,function(i,a,f){t[++r]=n(i,a,f)}),t}function va(e){var n=Xi(e);return n.length==1&&n[0][2]?Ka(n[0][0],n[0][1]):function(r){return r===e||_i(r,e,n)}}function _a(e,n){return Ii(e)&&Za(n)?Ka(In(e),n):function(r){var t=Zi(r,e);return t===o&&t===n?Ki(r,e):St(n,t,3)}}function ho(e,n,r,t,i){e!==n&&hi(n,function(a,f){var l,h,_,w,m,S,P,M,$,E,k,j,N;i=i||new zn,ke(a)?(h=n,w=r,m=ho,S=t,P=i,k=Ai(l=e,_=f),j=Ai(h,_),(N=P.get(j))||(N=S?S(k,j,_+"",l,h,P):o,(h=N===o)&&(M=J(j),$=!M&&hr(j),E=!M&&!$&&Gr(j),N=j,M||$||E?N=J(k)?k:Le(k)?nn(k):$?Ya(j,!(h=!1)):E?Ta(j,!(h=!1)):[]:Yt(j)||Yr(j)?Yr(N=k)?N=Sc(k):ke(k)&&!Vn(k)||(N=qa(j)):h=!1),h&&(P.set(j,N),m(N,j,w,S,P),P.delete(j))),si(l,_,N)):(M=t?t(Ai(e,f),a,f+"",e,n,i):o,si(e,f,M=M===o?a:M))},tn)}function ya(e,n){var r=e.length;if(r)return $n(n+=n<0?r:0,r)?e[n]:o}function wa(a,n,r){n=n.length?De(n,function(l){return J(l)?function(h){return kr(h,l.length===1?l[0]:l)}:l}):[on];var t=-1;n=De(n,sn(U()));var i=ga(a,function(l,h,_){return{criteria:De(n,function(w){return w(l)}),index:++t,value:l}}),a=function(l,h){for(var _=r,w=-1,m=l.criteria,S=h.criteria,P=m.length,M=_.length;++w<P;){var $=La(m[w],S[w]);if($){if(M<=w)return $;var E=_[w];return $*(E=="desc"?-1:1)}}return l.index-h.index},f=i.length;for(i.sort(a);f--;)i[f]=i[f].value;return i}function ma(e,n,r){for(var t=-1,i=n.length,a={};++t<i;){var f=n[t],l=kr(e,f);r(l,f)&&Dt(a,sr(f,e),l)}return a}function mi(e,n,r,t){var i=t?of:Ar,a=-1,f=n.length,l=e;for(e===n&&(n=nn(n)),r&&(l=De(e,sn(r)));++a<f;)for(var h=0,_=n[a],w=r?r(_):_;-1<(h=i(l,w,h,t));)l!==e&&oo.call(l,h,1),oo.call(e,h,1);return e}function ba(e,n){for(var r=e?n.length:0,t=r-1;r--;){var i,a=n[r];r!=t&&a===i||($n(i=a)?oo.call(e,a,1):Si(e,a))}}function bi(e,n){return e+ao(na()*(n-e+1))}function xi(e,n){var r="";if(!e||n<1||Y<n)return r;for(;n%2&&(r+=e),(n=ao(n/2))&&(e+=e),n;);return r}function ie(e,n){return Bi(Ga(e,n,on),e+"")}function jf(e){return oa(Jr(e))}function Rf(e,n){return e=Jr(e),So(e,Dr(n,0,e.length))}function Dt(e,n,r,t){if(!ke(e))return e;for(var i=-1,a=(n=sr(n,e)).length,f=a-1,l=e;l!=null&&++i<a;){var h,_=In(n[i]),w=r;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;i!=f&&(h=l[_],(w=t?t(h,_,l):o)===o&&(w=ke(h)?h:$n(n[i+1])?[]:{})),bt(l,_,w),l=l[_]}return e}var xa=co?function(e,n){return co.set(e,n),e}:on,Ue=io?function(e,n){return io(e,"toString",{configurable:!0,enumerable:!1,value:Ji(n),writable:!0})}:on;function Xf(e){return So(Jr(e))}function mn(e,n,r){for(var t=-1,i=e.length,a=((r=i<r?i:r)<0&&(r+=i),i=r<(n=n<0?i<-n?0:i+n:n)?0:r-n>>>0,n>>>=0,y(i));++t<i;)a[t]=e[t+n];return a}function Ef(e,n){var r;return fr(e,function(t,i,a){return!(r=n(t,i,a))}),!!r}function go(e,n,r){var t=0,i=e==null?t:e.length;if(typeof n=="number"&&n==n&&i<=2147483647){for(;t<i;){var a=t+i>>>1,f=e[a];f!==null&&!hn(f)&&(r?f<=n:f<n)?t=1+a:i=a}return i}return Ci(e,n,on,r)}function Ci(e,n,r,t){var i=0,a=e==null?0:e.length;if(a===0)return 0;for(var f=(n=r(n))!=n,l=n===null,h=hn(n),_=n===o;i<a;){var w=ao((i+a)/2),m=r(e[w]),S=m!==o,P=m===null,$=m==m,M=hn(m),$=f?t||$:_?$&&(t||S):l?$&&S&&(t||!P):h?$&&S&&!P&&(t||!M):!P&&!M&&(t?m<=n:m<n);$?i=w+1:a=w}return $e(a,4294967294)}function Ca(e,n){for(var r=-1,t=e.length,i=0,a=[];++r<t;){var f,l=e[r],h=n?n(l):l;r&&Yn(h,f)||(f=h,a[i++]=l===0?0:l)}return a}function Sa(e){return typeof e=="number"?e:hn(e)?O:+e}function pn(e){if(typeof e=="string")return e;if(J(e))return De(e,pn)+"";if(hn(e))return ra?ra.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function lr(e,n,r){var t=-1,i=Kt,a=e.length,f=!0,l=[],h=l;if(r)f=!1,i=Qo;else if(200<=a){var _=n?null:Af(e);if(_)return Jt(_);f=!1,i=dt,h=new Sr}else h=n?[]:l;e:for(;++t<a;){var m=e[t],w=n?n(m):m,m=r||m!==0?m:0;if(f&&w==w){for(var S=h.length;S--;)if(h[S]===w)continue e;n&&h.push(w),l.push(m)}else i(h,w,r)||(h!==l&&h.push(w),l.push(m))}return l}function Si(e,n){return(e=Ja(e,n=sr(n,e)))==null||delete e[In(bn(n))]}function Da(e,n,r,t){return Dt(e,n,r(kr(e,n)),t)}function vo(e,n,r,t){for(var i=e.length,a=t?i:-1;(t?a--:++a<i)&&n(e[a],a,e););return r?mn(e,t?0:a,t?a+1:i):mn(e,t?a+1:0,t?i:a)}function ka(e,n){var r=e;return ei(n,function(t,i){return i.func.apply(i.thisArg,ar([t],i.args))},r=e instanceof ae?e.value():r)}function Di(e,n,r){var t=e.length;if(t<2)return t?lr(e[0]):[];for(var i=-1,a=y(t);++i<t;)for(var f=e[i],l=-1;++l<t;)l!=i&&(a[i]=xt(a[i]||f,e[l],n,r));return lr(Fe(a,1),n,r)}function Oa(e,n,r){for(var t=-1,i=e.length,a=n.length,f={};++t<i;){var l=t<a?n[t]:o;r(f,e[t],l)}return f}function ki(e){return Le(e)?e:[]}function Oi(e){return typeof e=="function"?e:on}function sr(e,n){return J(e)?e:Ii(e,n)?[e]:rc(ve(e))}var Ui=ie;function pr(e,n,r){var t=e.length;return r=r===o?t:r,!n&&t<=r?e:mn(e,n,r)}var za=Fr||function(e){return Ne.clearTimeout(e)};function Ya(e,n){return n?e.slice():(n=e.length,n=Ku?Ku(n):new e.constructor(n),e.copy(n),n)}function zi(e){var n=new e.constructor(e.byteLength);return new ro(n).set(new ro(e)),n}function Ta(e,n){return n=n?zi(e.buffer):e.buffer,new e.constructor(n,e.byteOffset,e.length)}function La(e,n){if(e!==n){var r=e!==o,t=e===null,i=e==e,a=hn(e),f=n!==o,l=n===null,h=n==n,_=hn(n);if(!l&&!_&&!a&&n<e||a&&f&&h&&!l&&!_||t&&f&&h||!r&&h||!i)return 1;if(!t&&!a&&!_&&e<n||_&&r&&i&&!t&&!a||l&&r&&i||!f&&i||!h)return-1}return 0}function ja(e,n,r,t){for(var i=-1,a=e.length,f=r.length,l=-1,h=n.length,_=Me(a-f,0),w=y(h+_),m=!t;++l<h;)w[l]=n[l];for(;++i<f;)(m||i<a)&&(w[r[i]]=e[i]);for(;_--;)w[l++]=e[i++];return w}function Ra(e,n,r,t){for(var i=-1,a=e.length,f=-1,l=r.length,h=-1,_=n.length,w=Me(a-l,0),m=y(w+_),S=!t;++i<w;)m[i]=e[i];for(var P=i;++h<_;)m[P+h]=n[h];for(;++f<l;)(S||i<a)&&(m[P+r[f]]=e[i++]);return m}function nn(e,n){var r=-1,t=e.length;for(n=n||y(t);++r<t;)n[r]=e[r];return n}function En(e,n,r,t){for(var i=!r,a=(r=r||{},-1),f=n.length;++a<f;){var l=n[a],h=t?t(r[l],e[l],l,r,e):o;(i?Nn:bt)(r,l,h=h===o?e[l]:h)}return r}function _o(e,n){return function(r,t){var i=J(r)?ef:Of,a=n?n():{};return i(r,e,U(t,2),a)}}function qr(e){return ie(function(n,r){var t=-1,i=r.length,f=1<i?r[i-1]:o,a=2<i?r[2]:o,f=3<e.length&&typeof f=="function"?(i--,f):o;for(a&&Je(r[0],r[1],a)&&(f=i<3?o:f,i=1),n=re(n);++t<i;){var l=r[t];l&&e(n,l,t,f)}return n})}function Xa(e,n){return function(r,t){if(r==null)return r;if(!rn(r))return e(r,t);for(var i=r.length,a=n?i:-1,f=re(r);(n?a--:++a<i)&&t(f[a],a,f)!==!1;);return r}}function Ea(e){return function(n,r,t){for(var i=-1,a=re(n),f=t(n),l=f.length;l--;){var h=f[e?l:++i];if(r(a[h],h,a)===!1)break}return n}}function Ia(e){return function(n){var t=Br(n=ve(n))?kn(n):o,r=t?t[0]:n.charAt(0),t=t?pr(t,1).join(""):n.slice(1);return r[e]()+t}}function Zr(e){return function(n){return ei(jc(Lc(n).replace(or,"")),e,"")}}function kt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Vr(e.prototype),t=e.apply(r,n);return ke(t)?t:r}}function If(e,n,r){var t=kt(e);return function i(){for(var a=arguments.length,f=y(a),l=a,h=Kr(i);l--;)f[l]=arguments[l];return h=a<3&&f[0]!==h&&f[a-1]!==h?[]:cr(f,h),(a-=h.length)<r?Pa(e,n,yo,i.placeholder,o,f,h,o,o,r-a):ln(this&&this!==Ne&&this instanceof i?t:e,this,f)}}function Ma(e){return function(n,f,t){var i,a=re(n),f=(rn(n)||(i=U(f,3),n=He(n),f=function(l){return i(a[l],l,a)}),e(n,f,t));return-1<f?a[i?n[f]:f]:o}}function Aa(e){return Un(function(n){var r=n.length,t=r,i=On.prototype.thru;for(e&&n.reverse();t--;){var a=n[t];if(typeof a!="function")throw new yn(p);i&&!h&&xo(a)=="wrapper"&&(h=new On([],!0))}for(t=h?t:r;++t<r;)var f=xo(a=n[t]),l=f=="wrapper"?Ri(a):o,h=l&&Mi(l[0])&&l[1]==424&&!l[4].length&&l[9]==1?h[xo(l[0])].apply(h,l[3]):a.length==1&&Mi(a)?h[f]():h.thru(a);return function(){var _=arguments,w=_[0];if(h&&_.length==1&&J(w))return h.plant(w).value();for(var m=0,S=r?n[m].apply(this,_):w;++m<r;)S=n[m].call(this,S);return S}})}function yo(e,n,r,t,i,a,f,l,h,_){var w=n&b,m=1&n,S=2&n,P=24&n,M=512&n,$=S?o:kt(e);return function E(){for(var k=y(ce=arguments.length),j=ce;j--;)k[j]=arguments[j];if(P&&(K=function(Oe,un){for(var je=Oe.length,qe=0;je--;)Oe[je]===un&&++qe;return qe}(k,N=Kr(E))),t&&(k=ja(k,t,i,P)),a&&(k=Ra(k,a,f,P)),ce-=K,P&&ce<_)return K=cr(k,N),Pa(e,n,yo,E.placeholder,r,k,K,l,h,_-ce);var N=m?r:this,K=S?N[e]:e,ce=k.length;return l?k=function(Oe,un){for(var je=Oe.length,qe=$e(un.length,je),Qr=nn(Oe);qe--;){var et=un[qe];Oe[qe]=$n(et,je)?Qr[et]:o}return Oe}(k,l):M&&1<ce&&k.reverse(),w&&h<ce&&(k.length=h),(K=this&&this!==Ne&&this instanceof E?$||kt(K):K).apply(N,k)}}function Ba(e,n){return function(r,t){return r=r,i=e,a=n(t),f={},Xn(r,function(l,h,_){i(f,a(l),h,_)}),f;var i,a,f}}function wo(e,n){return function(r,t){var i;if(r===o&&t===o)return n;if(r!==o&&(i=r),t!==o){if(i===o)return t;t=typeof r=="string"||typeof t=="string"?(r=pn(r),pn(t)):(r=Sa(r),Sa(t)),i=e(r,t)}return i}}function Yi(e){return Un(function(n){return n=De(n,sn(U())),ie(function(r){var t=this;return e(n,function(i){return ln(i,t,r)})})})}function mo(e,n){var r=(n=n===o?" ":pn(n)).length;return r<2?r?xi(n,e):n:(r=xi(n,uo(e/Wr(n))),Br(n)?pr(kn(r),0,e).join(""):r.slice(0,e))}function Mf(e,n,r,t){var i=1&n,a=kt(e);return function f(){for(var l=-1,h=arguments.length,_=-1,w=t.length,m=y(w+h),S=this&&this!==Ne&&this instanceof f?a:e;++_<w;)m[_]=t[_];for(;h--;)m[_++]=arguments[++l];return ln(S,i?r:this,m)}}function Wa(e){return function(n,r,t){t&&typeof t!="number"&&Je(n,r,t)&&(r=t=o),n=qn(n),r===o?(r=n,n=0):r=qn(r),t=t===o?n<r?1:-1:qn(t);for(var i=n,a=t,f=e,l=-1,h=Me(uo((r-i)/(a||1)),0),_=y(h);h--;)_[f?h:++l]=i,i+=a;return _}}function bo(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=Cn(n),r=Cn(r)),e(n,r)}}function Pa(e,n,r,t,m,S,f,l,h,_){var w=8&n,m=(4&(n=(n|(w?32:64))&~(w?64:32))||(n&=-4),[e,n,m,w?S:o,w?f:o,w?o:S,w?o:f,l,h,_]),S=r.apply(o,m);return Mi(e)&&Qa(S,m),S.placeholder=t,ec(S,e,n)}function Ti(e){var n=oe[e];return function(r,t){var i;return r=Cn(r),(t=t==null?0:$e(ne(t),292))&&ea(r)?(i=(ve(r)+"e").split("e"),+((i=(ve(n(i[0]+"e"+(+i[1]+t)))+"e").split("e"))[0]+"e"+(+i[1]-t))):n(r)}}var Af=Ur&&1/Jt(new Ur([,-0]))[1]==1/0?function(e){return new Ur(e)}:nu;function Ha(e){return function(n){var r,t,i,a=Ve(n);return a==X?ai(n):a==ye?(a=n,r=-1,t=Array(a.size),a.forEach(function(f){t[++r]=[f,f]}),t):De(e(i=n),function(f){return[f,i[f]]})}}function Fn(e,n,r,t,i,a,f,l){var h=2&n;if(!h&&typeof e!="function")throw new yn(p);var _,w,m,S,P,M=t?t.length:0,$=(M||(n&=-97,t=i=o),f=f===o?f:Me(ne(f),0),l=l===o?l:ne(l),M-=i?i.length:0,64&n&&(E=t,_=i,t=i=o),h?o:Ri(e)),E=[e,n,r,t,i,E,_,a,f,l];return $&&function(k,j){var N=k[1],K=j[1],ce=N|K,Oe=ce<131,un=K==b&&N==8||K==b&&N==256&&k[7].length<=j[8]||K==384&&j[7].length<=j[8]&&N==8;if(!(!Oe&&!un)){1&K&&(k[2]=j[2],ce|=1&N?0:4),Oe=j[3];{var je;Oe&&(je=k[3],k[3]=je?ja(je,Oe,j[4]):Oe,k[4]=je?cr(k[3],c):j[4])}(Oe=j[5])&&(je=k[5],k[5]=je?Ra(je,Oe,j[6]):Oe,k[6]=je?cr(k[5],c):j[6]),(Oe=j[7])&&(k[7]=Oe),K&b&&(k[8]=k[8]==null?j[8]:$e(k[8],j[8])),k[9]==null&&(k[9]=j[9]),k[0]=j[0],k[1]=ce}}(E,$),e=E[0],n=E[1],r=E[2],t=E[3],i=E[4],!(l=E[9]=E[9]===o?h?0:e.length:Me(E[9]-M,0))&&24&n&&(n&=-25),_=n&&n!=1?n==8||n==16?If(e,n,l):n!=32&&n!=33||i.length?yo.apply(o,E):Mf(e,n,r,t):(m=r,S=1&n,P=kt(w=e),function k(){return(this&&this!==Ne&&this instanceof k?P:w).apply(S?m:this,arguments)}),ec(($?xa:Qa)(_,E),e,n)}function Na(e,n,r,t){return e===o||Yn(e,Hr[r])&&!_e.call(t,r)?n:e}function Fa(e,n,r,t,i,a){return ke(e)&&ke(n)&&(a.set(n,e),ho(e,n,o,Fa,a),a.delete(n)),e}function Bf(e){return Yt(e)?o:e}function Ua(e,n,r,t,i,a){var f=1&r,l=e.length,h=n.length;if(l!=h&&!(f&&l<h))return!1;var h=a.get(e),_=a.get(n);if(h&&_)return h==n&&_==e;var w=-1,m=!0,S=2&r?new Sr:o;for(a.set(e,n),a.set(n,e);++w<l;){var P,M=e[w],$=n[w];if((P=t?f?t($,M,w,n,e,a):t(M,$,w,e,n,a):P)!==o){if(P)continue;m=!1;break}if(S){if(!ni(n,function(E,k){return!dt(S,k)&&(M===E||i(M,E,r,t,a))&&S.push(k)})){m=!1;break}}else if(M!==$&&!i(M,$,r,t,a)){m=!1;break}}return a.delete(e),a.delete(n),m}function Un(e){return Bi(Ga(e,o,uc),e+"")}function Li(e){return sa(e,He,Ei)}function ji(e){return sa(e,tn,$a)}var Ri=co?function(e){return co.get(e)}:nu;function xo(e){for(var n=e.name+"",r=$r[n],t=_e.call($r,n)?r.length:0;t--;){var i=r[t],a=i.func;if(a==null||a==e)return i.name}return n}function Kr(e){return(_e.call(u,"placeholder")?u:e).placeholder}function U(){var e=(e=u.iteratee||Qi)===Qi?da:e;return arguments.length?e(arguments[0],arguments[1]):e}function Co(i,n){var r,t,i=i.__data__;return((t=typeof(r=n))=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null)?i[typeof n=="string"?"string":"hash"]:i.map}function Xi(e){for(var n=He(e),r=n.length;r--;){var t=n[r],i=e[t];n[r]=[t,i,Za(i)]}return n}function Or(e,n){return n=n,e=(e=e)==null?o:e[n],ha(e)?e:o}var Ei=fi?function(e){return e==null?[]:(e=re(e),ur(fi(e),function(n){return Ju.call(e,n)}))}:ru,$a=fi?function(e){for(var n=[];e;)ar(n,Ei(e)),e=to(e);return n}:ru,Ve=Ge;function Va(e,n,r){for(var t=-1,i=(n=sr(n,e)).length,a=!1;++t<i;){var f=In(n[t]);if(!(a=e!=null&&r(e,f)))break;e=e[f]}return a||++t!=i?a:!!(i=e==null?0:e.length)&&To(i)&&$n(f,i)&&(J(e)||Yr(e))}function qa(e){return typeof e.constructor!="function"||Ot(e)?{}:Vr(to(e))}function Wf(e){return J(e)||Yr(e)||!!(Qu&&e&&e[Qu])}function $n(e,n){var r=typeof e;return!!(n=n==null?Y:n)&&(r=="number"||r!="symbol"&&Zo.test(e))&&-1<e&&e%1==0&&e<n}function Je(e,n,r){var t;if(ke(r))return t=typeof n,(t=="number"?rn(r)&&$n(n,r.length):t=="string"&&n in r)&&Yn(r[n],e)}function Ii(e,n){var r;if(!J(e))return r=typeof e,r=="number"||r=="symbol"||r=="boolean"||e==null||hn(e)||Bt.test(e)||!At.test(e)||n!=null&&e in re(n)}function Mi(e){var n=xo(e),r=u[n];if(typeof r=="function"&&n in ae.prototype)return e===r?1:(n=Ri(r),n&&e===n[0])}(Rn&&Ve(new Rn(new ArrayBuffer(1)))!=te||_t&&Ve(new _t)!=X||yt&&Ve(yt.resolve())!=Ae||Ur&&Ve(new Ur)!=ye||le&&Ve(new le)!=Qn)&&(Ve=function(r){var n=Ge(r),r=n==Z?r.constructor:o,r=r?zr(r):"";if(r)switch(r){case mf:return te;case bf:return X;case xf:return Ae;case Cf:return ye;case Sf:return Qn}return n});var Pf=Nr?Vn:tu;function Ot(e){var n=e&&e.constructor;return e===(typeof n=="function"&&n.prototype||Hr)}function Za(e){return e==e&&!ke(e)}function Ka(e,n){return function(r){return r!=null&&r[e]===n&&(n!==o||e in re(r))}}function Ga(e,n,r){return n=Me(n===o?e.length-1:n,0),function(){for(var t=arguments,i=-1,a=Me(t.length-n,0),f=y(a);++i<a;)f[i]=t[n+i];for(var i=-1,l=y(n+1);++i<n;)l[i]=t[i];return l[n]=r(f),ln(e,this,l)}}function Ja(e,n){return n.length<2?e:kr(e,mn(n,0,-1))}function Ai(e,n){if((n!=="constructor"||typeof e[n]!="function")&&n!="__proto__")return e[n]}var Qa=nc(xa),zt=ci||function(e,n){return Ne.setTimeout(e,n)},Bi=nc(Ue);function ec(e,a,r){var t,i,a=a+"";return Bi(e,function(f,l){var h=l.length;if(!h)return f;var _=h-1;return l[_]=(1<h?"& ":"")+l[_],l=l.join(2<h?", ":" "),f.replace(Pt,`{
/* [wrapped with `+l+`] */
`)}(a,(t=(e=(e=a).match(lt))?e[1].split(Ht):[],i=r,_n(B,function(f){var l="_."+f[0];i&f[1]&&!Kt(t,l)&&t.push(l)}),t.sort())))}function nc(e){var n=0,r=0;return function(){var t=_f(),i=16-(t-r);if(r=t,0<i){if(800<=++n)return arguments[0]}else n=0;return e.apply(o,arguments)}}function So(e,n){var r=-1,t=e.length,i=t-1;for(n=n===o?t:n;++r<n;){var a=bi(r,i),f=e[a];e[a]=e[r],e[r]=f}return e.length=n,e}Wi=(Fr=zo(Fr=function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(wr,function(r,t,i,a){n.push(i?a.replace(Er,"$1"):t||r)}),n},function(e){return Wi.size===500&&Wi.clear(),e})).cache;var Wi,rc=Fr;function In(e){if(typeof e=="string"||hn(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function zr(e){if(e!=null){try{return eo.call(e)}catch{}try{return e+""}catch{}}return""}function tc(e){if(e instanceof ae)return e.clone();var n=new On(e.__wrapped__,e.__chain__);return n.__actions__=nn(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}Rn=ie(function(e,n){return Le(e)?xt(e,Fe(n,1,Le,!0)):[]}),yt=ie(function(e,n){var r=bn(n);return Le(r)&&(r=o),Le(e)?xt(e,Fe(n,1,Le,!0),U(r,2)):[]}),le=ie(function(e,n){var r=bn(n);return Le(r)&&(r=o),Le(e)?xt(e,Fe(n,1,Le,!0),o,r):[]});function oc(e,n,r){var t=e==null?0:e.length;return t?(r=r==null?0:ne(r),r<0&&(r=Me(t+r,0)),Gt(e,U(n,3),r)):-1}function ic(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var i=t-1;return r!==o&&(i=ne(r),i=r<0?Me(t+i,0):$e(i,t-1)),Gt(e,U(n,3),i,!0)}function uc(e){return e!=null&&e.length?Fe(e,1):[]}function ac(e){return e&&e.length?e[0]:o}Nr=ie(function(e){var n=De(e,ki);return n.length&&n[0]===e[0]?vi(n):[]}),ci=ie(function(e){var n=bn(e),r=De(e,ki);return n===bn(r)?n=o:r.pop(),r.length&&r[0]===e[0]?vi(r,U(n,2)):[]}),Ue=ie(function(e){var n=bn(e),r=De(e,ki);return(n=typeof n=="function"?n:o)&&r.pop(),r.length&&r[0]===e[0]?vi(r,o,n):[]});function bn(e){var n=e==null?0:e.length;return n?e[n-1]:o}Fr=ie(cc);function cc(e,n){return e&&e.length&&n&&n.length?mi(e,n):e}var Hf=Un(function(e,n){var r=e==null?0:e.length,t=pi(e,n);return ba(e,De(n,function(i){return $n(i,r)?+i:i}).sort(La)),t});function Pi(e){return e==null?e:wf.call(e)}var Nf=ie(function(e){return lr(Fe(e,1,Le,!0))}),Ff=ie(function(e){var n=bn(e);return Le(n)&&(n=o),lr(Fe(e,1,Le,!0),U(n,2))}),Uf=ie(function(e){var n=typeof(n=bn(e))=="function"?n:o;return lr(Fe(e,1,Le,!0),o,n)});function Hi(e){if(!e||!e.length)return[];var n=0;return e=ur(e,function(r){return Le(r)&&(n=Me(r.length,n),1)}),ii(n,function(r){return De(e,ri(r))})}function fc(e,n){return!e||!e.length?[]:(e=Hi(e),n==null?e:De(e,function(r){return ln(n,o,r)}))}var $f=ie(function(e,n){return Le(e)?xt(e,n):[]}),Vf=ie(function(e){return Di(ur(e,Le))}),qf=ie(function(e){var n=bn(e);return Le(n)&&(n=o),Di(ur(e,Le),U(n,2))}),Zf=ie(function(e){var n=typeof(n=bn(e))=="function"?n:o;return Di(ur(e,Le),o,n)}),Kf=ie(Hi),Gf=ie(function(e){var n=e.length,n=typeof(n=1<n?e[n-1]:o)=="function"?(e.pop(),n):o;return fc(e,n)});function lc(e){return e=u(e),e.__chain__=!0,e}function Do(e,n){return n(e)}var Jf=Un(function(e){function n(a){return pi(a,e)}var r=e.length,t=r?e[0]:0,i=this.__wrapped__;return!(1<r||this.__actions__.length)&&i instanceof ae&&$n(t)?((i=i.slice(t,+t+(r?1:0))).__actions__.push({func:Do,args:[n],thisArg:o}),new On(i,this.__chain__).thru(function(a){return r&&!a.length&&a.push(o),a})):this.thru(n)}),Qf=_o(function(e,n,r){_e.call(e,r)?++e[r]:Nn(e,r,1)}),el=Ma(oc),nl=Ma(ic);function sc(e,n){return(J(e)?_n:fr)(e,U(n,3))}function pc(e,n){return(J(e)?nf:ca)(e,U(n,3))}var rl=_o(function(e,n,r){_e.call(e,r)?e[r].push(n):Nn(e,r,[n])}),tl=ie(function(e,n,r){var t=-1,i=typeof n=="function",a=rn(e)?y(e.length):[];return fr(e,function(f){a[++t]=i?ln(n,f,r):Ct(f,n,r)}),a}),ol=_o(function(e,n,r){Nn(e,r,n)});function ko(e,n){return(J(e)?De:ga)(e,U(n,3))}var il=_o(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]}),ul=ie(function(e,n){if(e==null)return[];var r=n.length;return 1<r&&Je(e,n[0],n[1])?n=[]:2<r&&Je(n[0],n[1],n[2])&&(n=[n[0]]),wa(e,Fe(n,1),[])}),Oo=Fi||function(){return Ne.Date.now()};function hc(e,n,r){return n=r?o:n,n=e&&n==null?e.length:n,Fn(e,b,o,o,o,o,n)}function dc(e,n){var r;if(typeof n!="function")throw new yn(p);return e=ne(e),function(){return 0<--e&&(r=n.apply(this,arguments)),e<=1&&(n=o),r}}var Ni=ie(function(e,n,r){var t,i=1;return r.length&&(t=cr(r,Kr(Ni)),i|=32),Fn(e,i,n,r,t)}),gc=ie(function(e,n,r){var t,i=3;return r.length&&(t=cr(r,Kr(gc)),i|=32),Fn(n,i,e,r,t)});function vc(e,n,r){var t,i,a,f,l,h,_=0,w=!1,m=!1,S=!0;if(typeof e!="function")throw new yn(p);function P(j){var N=t,K=i;return t=i=o,_=j,f=e.apply(K,N)}function M(j){var N=j-h;return h===o||n<=N||N<0||m&&a<=j-_}function $(){var j,N=Oo();if(M(N))return E(N);l=zt($,(j=n-((N=N)-h),m?$e(j,a-(N-_)):j))}function E(j){return l=o,S&&t?P(j):(t=i=o,f)}function k(){var j=Oo(),N=M(j);if(t=arguments,i=this,h=j,N){if(l===o)return _=j=h,l=zt($,n),w?P(j):f;if(m)return za(l),l=zt($,n),P(h)}return l===o&&(l=zt($,n)),f}return n=Cn(n)||0,ke(r)&&(w=!!r.leading,m="maxWait"in r,a=m?Me(Cn(r.maxWait)||0,n):a,S="trailing"in r?!!r.trailing:S),k.cancel=function(){l!==o&&za(l),_=0,t=h=i=l=o},k.flush=function(){return l===o?f:E(Oo())},k}var Fi=ie(function(e,n){return aa(e,1,n)}),al=ie(function(e,n,r){return aa(e,Cn(n)||0,r)});function zo(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new yn(p);function r(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;return a.has(i)?a.get(i):(t=e.apply(this,t),r.cache=a.set(i,t)||a,t)}return r.cache=new(zo.Cache||Hn),r}function Yo(e){if(typeof e!="function")throw new yn(p);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}zo.Cache=Hn;var Ui=Ui(function(e,n){var r=(n=n.length==1&&J(n[0])?De(n[0],sn(U())):De(Fe(n,1),sn(U()))).length;return ie(function(t){for(var i=-1,a=$e(t.length,r);++i<a;)t[i]=n[i].call(this,t[i]);return ln(e,this,t)})}),$i=ie(function(e,n){var r=cr(n,Kr($i));return Fn(e,32,o,n,r)}),_c=ie(function(e,n){var r=cr(n,Kr(_c));return Fn(e,64,o,n,r)}),cl=Un(function(e,n){return Fn(e,256,o,o,o,n)});function Yn(e,n){return e===n||e!=e&&n!=n}var fl=bo(gi),ll=bo(function(e,n){return n<=e}),Yr=pa(function(){return arguments}())?pa:function(e){return ze(e)&&_e.call(e,"callee")&&!Ju.call(e,"callee")},J=y.isArray,sl=Ru?sn(Ru):function(e){return ze(e)&&Ge(e)==R};function rn(e){return e!=null&&To(e.length)&&!Vn(e)}function Le(e){return ze(e)&&rn(e)}var hr=xn||tu,xn=Xu?sn(Xu):function(e){return ze(e)&&Ge(e)==Ze};function Vi(e){if(!ze(e))return!1;var n=Ge(e);return n==xe||n=="[object DOMException]"||typeof e.message=="string"&&typeof e.name=="string"&&!Yt(e)}function Vn(e){return ke(e)?(e=Ge(e),e==Te||e==fe||e=="[object AsyncFunction]"||e=="[object Proxy]"):!1}function yc(e){return typeof e=="number"&&e==ne(e)}function To(e){return typeof e=="number"&&-1<e&&e%1==0&&e<=Y}function ke(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function ze(e){return e!=null&&typeof e=="object"}var wc=Eu?sn(Eu):function(e){return ze(e)&&Ve(e)==X};function mc(e){return typeof e=="number"||ze(e)&&Ge(e)==pe}function Yt(e){return!ze(e)||Ge(e)!=Z?!1:(e=to(e),e===null?!0:(e=_e.call(e,"constructor")&&e.constructor,typeof e=="function"&&e instanceof e&&eo.call(e)==pf))}var qi=Iu?sn(Iu):function(e){return ze(e)&&Ge(e)==Xe},bc=Mu?sn(Mu):function(e){return ze(e)&&Ve(e)==ye};function Lo(e){return typeof e=="string"||!J(e)&&ze(e)&&Ge(e)==gn}function hn(e){return typeof e=="symbol"||ze(e)&&Ge(e)==Jn}var Gr=Au?sn(Au):function(e){return ze(e)&&To(e.length)&&!!be[Ge(e)]},pl=bo(wi),hl=bo(function(e,n){return e<=n});function xc(e){if(!e)return[];if(rn(e))return(Lo(e)?kn:nn)(e);if(vt&&e[vt]){for(var n,r=e[vt](),t=[];!(n=r.next()).done;)t.push(n.value);return t}var i=Ve(e);return(i==X?ai:i==ye?Jt:Jr)(e)}function qn(e){return e?(e=Cn(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0}function ne(n){var n=qn(n),r=n%1;return n==n?r?n-r:n:0}function Cc(e){return e?Dr(ne(e),0,A):0}function Cn(e){if(typeof e=="number")return e;if(hn(e))return O;if(typeof(e=ke(e)?ke(n=typeof e.valueOf=="function"?e.valueOf():e)?n+"":n:e)!="string")return e===0?e:+e;e=Fu(e);var n=Ft.test(e);return n||$t.test(e)?Qc(e.slice(2),n?2:8):Nt.test(e)?O:+e}function Sc(e){return En(e,tn(e))}function ve(e){return e==null?"":pn(e)}var dl=qr(function(e,n){if(Ot(n)||rn(n))En(n,He(n),e);else for(var r in n)_e.call(n,r)&&bt(e,r,n[r])}),Dc=qr(function(e,n){En(n,tn(n),e)}),jo=qr(function(e,n,r,t){En(n,tn(n),e,t)}),gl=qr(function(e,n,r,t){En(n,He(n),e,t)}),vl=Un(pi),_l=ie(function(e,n){e=re(e);var r=-1,t=n.length,i=2<t?n[2]:o;for(i&&Je(n[0],n[1],i)&&(t=1);++r<t;)for(var a=n[r],f=tn(a),l=-1,h=f.length;++l<h;){var _=f[l],w=e[_];(w===o||Yn(w,Hr[_])&&!_e.call(e,_))&&(e[_]=a[_])}return e}),yl=ie(function(e){return e.push(o,Fa),ln(kc,o,e)});function Zi(e,n,r){return e=e==null?o:kr(e,n),e===o?r:e}function Ki(e,n){return e!=null&&Va(e,n,Tf)}var wl=Ba(function(e,n,r){e[n=n!=null&&typeof n.toString!="function"?no.call(n):n]=r},Ji(on)),ml=Ba(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=no.call(n)),_e.call(e,n)?e[n].push(r):e[n]=[r]},U),bl=ie(Ct);function He(e){return(rn(e)?ta:yi)(e)}function tn(e){return rn(e)?ta(e,!0):Lf(e)}var xl=qr(function(e,n,r){ho(e,n,r)}),kc=qr(function(e,n,r,t){ho(e,n,r,t)}),Cl=Un(function(e,n){var r={};if(e==null)return r;for(var t=!1,i=(n=De(n,function(a){return a=sr(a,e),t=t||1<a.length,a}),En(e,ji(e),r),t&&(r=wn(r,7,Bf)),n.length);i--;)Si(r,n[i]);return r}),Sl=Un(function(e,n){return e==null?{}:ma(r=e,n,function(t,i){return Ki(r,i)});var r});function Oc(e,n){if(e==null)return{};var r=De(ji(e),function(t){return[t]});return n=U(n),ma(e,r,function(t,i){return n(t,i[0])})}var zc=Ha(He),Yc=Ha(tn);function Jr(e){return e==null?[]:ui(e,He(e))}var Dl=Zr(function(e,n,r){return n=n.toLowerCase(),e+(r?Tc(n):n)});function Tc(e){return Gi(ve(e).toLowerCase())}function Lc(e){return(e=ve(e))&&e.replace(Vt,uf).replace(Zt,"")}var kl=Zr(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),Ol=Zr(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),zl=Ia("toLowerCase"),Yl=Zr(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()}),Tl=Zr(function(e,n,r){return e+(r?" ":"")+Gi(n)}),Ll=Zr(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),Gi=Ia("toUpperCase");function jc(e,n,r){return e=ve(e),(n=r?o:n)===o?(r=e,qc.test(r)?e.match(Go)||[]:e.match(st)||[]):e.match(n)||[]}var Rc=ie(function(e,n){try{return ln(e,o,n)}catch(r){return Vi(r)?r:new H(r)}}),jl=Un(function(e,n){return _n(n,function(r){r=In(r),Nn(e,r,Ni(e[r],e))}),e});function Ji(e){return function(){return e}}var Rl=Aa(),Xl=Aa(!0);function on(e){return e}function Qi(e){return da(typeof e=="function"?e:wn(e,1))}var El=ie(function(e,n){return function(r){return Ct(r,e,n)}}),Il=ie(function(e,n){return function(r){return Ct(e,r,n)}});function eu(e,n,r){var t=He(n),i=po(n,t),a=(r!=null||ke(n)&&(i.length||!t.length)||(r=n,n=e,e=this,i=po(n,He(n))),!(ke(r)&&"chain"in r&&!r.chain)),f=Vn(e);return _n(i,function(l){var h=n[l];e[l]=h,f&&(e.prototype[l]=function(){var _,w=this.__chain__;return a||w?(((_=e(this.__wrapped__)).__actions__=nn(this.__actions__)).push({func:h,args:arguments,thisArg:e}),_.__chain__=w,_):h.apply(e,ar([this.value()],arguments))})}),e}function nu(){}var Ml=Yi(De),Al=Yi(Bu),Bl=Yi(ni);function Xc(e){return Ii(e)?ri(In(e)):(n=e,function(r){return kr(r,n)});var n}var Wl=Wa(),Pl=Wa(!0);function ru(){return[]}function tu(){return!1}var Hl=wo(function(e,n){return e+n},0),Nl=Ti("ceil"),Fl=wo(function(e,n){return e/n},1),Ul=Ti("floor"),ou,$l=wo(function(e,n){return e*n},1),Vl=Ti("round"),ql=wo(function(e,n){return e-n},0);return u.after=function(e,n){if(typeof n!="function")throw new yn(p);return e=ne(e),function(){if(--e<1)return n.apply(this,arguments)}},u.ary=hc,u.assign=dl,u.assignIn=Dc,u.assignInWith=jo,u.assignWith=gl,u.at=vl,u.before=dc,u.bind=Ni,u.bindAll=jl,u.bindKey=gc,u.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return J(e)?e:[e]},u.chain=lc,u.chunk=function(e,n,r){n=(r?Je(e,n,r):n===o)?1:Me(ne(n),0);var t=e==null?0:e.length;if(!t||n<1)return[];for(var i=0,a=0,f=y(uo(t/n));i<t;)f[a++]=mn(e,i,i+=n);return f},u.compact=function(e){for(var n=-1,r=e==null?0:e.length,t=0,i=[];++n<r;){var a=e[n];a&&(i[t++]=a)}return i},u.concat=function(){var e=arguments.length;if(!e)return[];for(var n=y(e-1),r=arguments[0],t=e;t--;)n[t-1]=arguments[t];return ar(J(r)?nn(r):[r],Fe(n,1))},u.cond=function(e){var n=e==null?0:e.length,r=U();return e=n?De(e,function(t){if(typeof t[1]!="function")throw new yn(p);return[r(t[0]),t[1]]}):[],ie(function(t){for(var i=-1;++i<n;){var a=e[i];if(ln(a[0],this,t))return ln(a[1],this,t)}})},u.conforms=function(e){return n=wn(e,1),r=He(n),function(t){return ua(t,n,r)};var n,r},u.constant=Ji,u.countBy=Qf,u.create=function(e,n){return e=Vr(e),n==null?e:ia(e,n)},u.curry=function e(n,r,t){return n=Fn(n,8,o,o,o,o,o,r=t?o:r),n.placeholder=e.placeholder,n},u.curryRight=function e(n,r,t){return n=Fn(n,16,o,o,o,o,o,r=t?o:r),n.placeholder=e.placeholder,n},u.debounce=vc,u.defaults=_l,u.defaultsDeep=yl,u.defer=Fi,u.delay=al,u.difference=Rn,u.differenceBy=yt,u.differenceWith=le,u.drop=function(e,n,r){var t=e==null?0:e.length;return t?mn(e,(n=r||n===o?1:ne(n))<0?0:n,t):[]},u.dropRight=function(e,n,r){var t=e==null?0:e.length;return t?mn(e,0,(n=t-(n=r||n===o?1:ne(n)))<0?0:n):[]},u.dropRightWhile=function(e,n){return e&&e.length?vo(e,U(n,3),!0,!0):[]},u.dropWhile=function(e,n){return e&&e.length?vo(e,U(n,3),!0):[]},u.fill=function(e,n,r,t){if(!(h=e==null?0:e.length))return[];r&&typeof r!="number"&&Je(e,n,r)&&(r=0,t=h);var i=e,a=n,f=r,l=t,h=i.length;for((f=ne(f))<0&&(f=h<-f?0:h+f),(l=l===o||h<l?h:ne(l))<0&&(l+=h),l=l<f?0:Cc(l);f<l;)i[f++]=a;return i},u.filter=function(e,n){return(J(e)?ur:fa)(e,U(n,3))},u.flatMap=function(e,n){return Fe(ko(e,n),1)},u.flatMapDeep=function(e,n){return Fe(ko(e,n),1/0)},u.flatMapDepth=function(e,n,r){return r=r===o?1:ne(r),Fe(ko(e,n),r)},u.flatten=uc,u.flattenDeep=function(e){return e!=null&&e.length?Fe(e,1/0):[]},u.flattenDepth=function(e,n){return e!=null&&e.length?Fe(e,n=n===o?1:ne(n)):[]},u.flip=function(e){return Fn(e,512)},u.flow=Rl,u.flowRight=Xl,u.fromPairs=function(e){for(var n=-1,r=e==null?0:e.length,t={};++n<r;){var i=e[n];t[i[0]]=i[1]}return t},u.functions=function(e){return e==null?[]:po(e,He(e))},u.functionsIn=function(e){return e==null?[]:po(e,tn(e))},u.groupBy=rl,u.initial=function(e){return e!=null&&e.length?mn(e,0,-1):[]},u.intersection=Nr,u.intersectionBy=ci,u.intersectionWith=Ue,u.invert=wl,u.invertBy=ml,u.invokeMap=tl,u.iteratee=Qi,u.keyBy=ol,u.keys=He,u.keysIn=tn,u.map=ko,u.mapKeys=function(e,n){var r={};return n=U(n,3),Xn(e,function(t,i,a){Nn(r,n(t,i,a),t)}),r},u.mapValues=function(e,n){var r={};return n=U(n,3),Xn(e,function(t,i,a){Nn(r,i,n(t,i,a))}),r},u.matches=function(e){return va(wn(e,1))},u.matchesProperty=function(e,n){return _a(e,wn(n,1))},u.memoize=zo,u.merge=xl,u.mergeWith=kc,u.method=El,u.methodOf=Il,u.mixin=eu,u.negate=Yo,u.nthArg=function(e){return e=ne(e),ie(function(n){return ya(n,e)})},u.omit=Cl,u.omitBy=function(e,n){return Oc(e,Yo(U(n)))},u.once=function(e){return dc(2,e)},u.orderBy=function(e,n,r,t){return e==null?[]:wa(e,n=J(n)?n:n==null?[]:[n],r=J(r=t?o:r)?r:r==null?[]:[r])},u.over=Ml,u.overArgs=Ui,u.overEvery=Al,u.overSome=Bl,u.partial=$i,u.partialRight=_c,u.partition=il,u.pick=Sl,u.pickBy=Oc,u.property=Xc,u.propertyOf=function(e){return function(n){return e==null?o:kr(e,n)}},u.pull=Fr,u.pullAll=cc,u.pullAllBy=function(e,n,r){return e&&e.length&&n&&n.length?mi(e,n,U(r,2)):e},u.pullAllWith=function(e,n,r){return e&&e.length&&n&&n.length?mi(e,n,o,r):e},u.pullAt=Hf,u.range=Wl,u.rangeRight=Pl,u.rearg=cl,u.reject=function(e,n){return(J(e)?ur:fa)(e,Yo(U(n,3)))},u.remove=function(e,n){var r=[];if(!e||!e.length)return r;var t=-1,i=[],a=e.length;for(n=U(n,3);++t<a;){var f=e[t];n(f,t,e)&&(r.push(f),i.push(t))}return ba(e,i),r},u.rest=function(e,n){if(typeof e!="function")throw new yn(p);return ie(e,n=n===o?n:ne(n))},u.reverse=Pi,u.sampleSize=function(e,n,r){return n=(r?Je(e,n,r):n===o)?1:ne(n),(J(e)?Df:Rf)(e,n)},u.set=function(e,n,r){return e==null?e:Dt(e,n,r)},u.setWith=function(e,n,r,t){return t=typeof t=="function"?t:o,e==null?e:Dt(e,n,r,t)},u.shuffle=function(e){return(J(e)?kf:Xf)(e)},u.slice=function(e,n,r){var t=e==null?0:e.length;return t?(r=r&&typeof r!="number"&&Je(e,n,r)?(n=0,t):(n=n==null?0:ne(n),r===o?t:ne(r)),mn(e,n,r)):[]},u.sortBy=ul,u.sortedUniq=function(e){return e&&e.length?Ca(e):[]},u.sortedUniqBy=function(e,n){return e&&e.length?Ca(e,U(n,2)):[]},u.split=function(e,n,r){return r&&typeof r!="number"&&Je(e,n,r)&&(n=r=o),(r=r===o?A:r>>>0)?(e=ve(e))&&(typeof n=="string"||n!=null&&!qi(n))&&!(n=pn(n))&&Br(e)?pr(kn(e),0,r):e.split(n,r):[]},u.spread=function(e,n){if(typeof e!="function")throw new yn(p);return n=n==null?0:Me(ne(n),0),ie(function(i){var t=i[n],i=pr(i,0,n);return t&&ar(i,t),ln(e,this,i)})},u.tail=function(e){var n=e==null?0:e.length;return n?mn(e,1,n):[]},u.take=function(e,n,r){return e&&e.length?mn(e,0,(n=r||n===o?1:ne(n))<0?0:n):[]},u.takeRight=function(e,n,r){var t=e==null?0:e.length;return t?mn(e,(n=t-(n=r||n===o?1:ne(n)))<0?0:n,t):[]},u.takeRightWhile=function(e,n){return e&&e.length?vo(e,U(n,3),!1,!0):[]},u.takeWhile=function(e,n){return e&&e.length?vo(e,U(n,3)):[]},u.tap=function(e,n){return n(e),e},u.throttle=function(e,n,r){var t=!0,i=!0;if(typeof e!="function")throw new yn(p);return ke(r)&&(t="leading"in r?!!r.leading:t,i="trailing"in r?!!r.trailing:i),vc(e,n,{leading:t,maxWait:n,trailing:i})},u.thru=Do,u.toArray=xc,u.toPairs=zc,u.toPairsIn=Yc,u.toPath=function(e){return J(e)?De(e,In):hn(e)?[e]:nn(rc(ve(e)))},u.toPlainObject=Sc,u.transform=function(e,n,r){var t,i=J(e),a=i||hr(e)||Gr(e);return n=U(n,4),r==null&&(t=e&&e.constructor,r=a?i?new t:[]:ke(e)&&Vn(t)?Vr(to(e)):{}),(a?_n:Xn)(e,function(f,l,h){return n(r,f,l,h)}),r},u.unary=function(e){return hc(e,1)},u.union=Nf,u.unionBy=Ff,u.unionWith=Uf,u.uniq=function(e){return e&&e.length?lr(e):[]},u.uniqBy=function(e,n){return e&&e.length?lr(e,U(n,2)):[]},u.uniqWith=function(e,n){return n=typeof n=="function"?n:o,e&&e.length?lr(e,o,n):[]},u.unset=function(e,n){return e==null||Si(e,n)},u.unzip=Hi,u.unzipWith=fc,u.update=function(e,n,r){return e==null?e:Da(e,n,Oi(r))},u.updateWith=function(e,n,r,t){return t=typeof t=="function"?t:o,e==null?e:Da(e,n,Oi(r),t)},u.values=Jr,u.valuesIn=function(e){return e==null?[]:ui(e,tn(e))},u.without=$f,u.words=jc,u.wrap=function(e,n){return $i(Oi(n),e)},u.xor=Vf,u.xorBy=qf,u.xorWith=Zf,u.zip=Kf,u.zipObject=function(e,n){return Oa(e||[],n||[],bt)},u.zipObjectDeep=function(e,n){return Oa(e||[],n||[],Dt)},u.zipWith=Gf,u.entries=zc,u.entriesIn=Yc,u.extend=Dc,u.extendWith=jo,eu(u,u),u.add=Hl,u.attempt=Rc,u.camelCase=Dl,u.capitalize=Tc,u.ceil=Nl,u.clamp=function(e,n,r){return r===o&&(r=n,n=o),r!==o&&(r=(r=Cn(r))==r?r:0),n!==o&&(n=(n=Cn(n))==n?n:0),Dr(Cn(e),n,r)},u.clone=function(e){return wn(e,4)},u.cloneDeep=function(e){return wn(e,5)},u.cloneDeepWith=function(e,n){return wn(e,5,n=typeof n=="function"?n:o)},u.cloneWith=function(e,n){return wn(e,4,n=typeof n=="function"?n:o)},u.conformsTo=function(e,n){return n==null||ua(e,n,He(n))},u.deburr=Lc,u.defaultTo=function(e,n){return e==null||e!=e?n:e},u.divide=Fl,u.endsWith=function(e,n,r){e=ve(e),n=pn(n);var t=e.length,t=r=r===o?t:Dr(ne(r),0,t);return 0<=(r-=n.length)&&e.slice(r,t)==n},u.eq=Yn,u.escape=function(e){return(e=ve(e))&&F.test(e)?e.replace(ct,af):e},u.escapeRegExp=function(e){return(e=ve(e))&&er.test(e)?e.replace(ft,"\\$&"):e},u.every=function(e,n,r){return(J(e)?Bu:zf)(e,U(n=r&&Je(e,n,r)?o:n,3))},u.find=el,u.findIndex=oc,u.findKey=function(e,n){return Wu(e,U(n,3),Xn)},u.findLast=nl,u.findLastIndex=ic,u.findLastKey=function(e,n){return Wu(e,U(n,3),di)},u.floor=Ul,u.forEach=sc,u.forEachRight=pc,u.forIn=function(e,n){return e==null?e:hi(e,U(n,3),tn)},u.forInRight=function(e,n){return e==null?e:la(e,U(n,3),tn)},u.forOwn=function(e,n){return e&&Xn(e,U(n,3))},u.forOwnRight=function(e,n){return e&&di(e,U(n,3))},u.get=Zi,u.gt=fl,u.gte=ll,u.has=function(e,n){return e!=null&&Va(e,n,Yf)},u.hasIn=Ki,u.head=ac,u.identity=on,u.includes=function(e,n,r,t){return e=rn(e)?e:Jr(e),r=r&&!t?ne(r):0,t=e.length,r<0&&(r=Me(t+r,0)),Lo(e)?r<=t&&-1<e.indexOf(n,r):!!t&&-1<Ar(e,n,r)},u.indexOf=function(e,n,r){var t=e==null?0:e.length;return t?(r=r==null?0:ne(r),Ar(e,n,r=r<0?Me(t+r,0):r)):-1},u.inRange=function(e,n,r){return n=qn(n),r===o?(r=n,n=0):r=qn(r),(e=e=Cn(e))>=$e(n=n,r=r)&&e<Me(n,r)},u.invoke=bl,u.isArguments=Yr,u.isArray=J,u.isArrayBuffer=sl,u.isArrayLike=rn,u.isArrayLikeObject=Le,u.isBoolean=function(e){return e===!0||e===!1||ze(e)&&Ge(e)==Qe},u.isBuffer=hr,u.isDate=xn,u.isElement=function(e){return ze(e)&&e.nodeType===1&&!Yt(e)},u.isEmpty=function(e){if(e==null)return!0;if(rn(e)&&(J(e)||typeof e=="string"||typeof e.splice=="function"||hr(e)||Gr(e)||Yr(e)))return!e.length;var n,r=Ve(e);if(r==X||r==ye)return!e.size;if(Ot(e))return!yi(e).length;for(n in e)if(_e.call(e,n))return!1;return!0},u.isEqual=function(e,n){return St(e,n)},u.isEqualWith=function(e,n,r){var t=(r=typeof r=="function"?r:o)?r(e,n):o;return t===o?St(e,n,o,r):!!t},u.isError=Vi,u.isFinite=function(e){return typeof e=="number"&&ea(e)},u.isFunction=Vn,u.isInteger=yc,u.isLength=To,u.isMap=wc,u.isMatch=function(e,n){return e===n||_i(e,n,Xi(n))},u.isMatchWith=function(e,n,r){return r=typeof r=="function"?r:o,_i(e,n,Xi(n),r)},u.isNaN=function(e){return mc(e)&&e!=+e},u.isNative=function(e){if(Pf(e))throw new H("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ha(e)},u.isNil=function(e){return e==null},u.isNull=function(e){return e===null},u.isNumber=mc,u.isObject=ke,u.isObjectLike=ze,u.isPlainObject=Yt,u.isRegExp=qi,u.isSafeInteger=function(e){return yc(e)&&-Y<=e&&e<=Y},u.isSet=bc,u.isString=Lo,u.isSymbol=hn,u.isTypedArray=Gr,u.isUndefined=function(e){return e===o},u.isWeakMap=function(e){return ze(e)&&Ve(e)==Qn},u.isWeakSet=function(e){return ze(e)&&Ge(e)=="[object WeakSet]"},u.join=function(e,n){return e==null?"":gf.call(e,n)},u.kebabCase=kl,u.last=bn,u.lastIndexOf=function(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var i=t;if(r!==o&&(i=(i=ne(r))<0?Me(t+i,0):$e(i,t-1)),n!=n)return Gt(e,Pu,i,!0);for(var a=e,f=n,l=i+1;l--;)if(a[l]===f)return l;return l},u.lowerCase=Ol,u.lowerFirst=zl,u.lt=pl,u.lte=hl,u.max=function(e){return e&&e.length?so(e,on,gi):o},u.maxBy=function(e,n){return e&&e.length?so(e,U(n,2),gi):o},u.mean=function(e){return Hu(e,on)},u.meanBy=function(e,n){return Hu(e,U(n,2))},u.min=function(e){return e&&e.length?so(e,on,wi):o},u.minBy=function(e,n){return e&&e.length?so(e,U(n,2),wi):o},u.stubArray=ru,u.stubFalse=tu,u.stubObject=function(){return{}},u.stubString=function(){return""},u.stubTrue=function(){return!0},u.multiply=$l,u.nth=function(e,n){return e&&e.length?ya(e,ne(n)):o},u.noConflict=function(){return Ne._===this&&(Ne._=hf),this},u.noop=nu,u.now=Oo,u.pad=function(e,n,r){e=ve(e);var t=(n=ne(n))?Wr(e):0;return!n||n<=t?e:mo(ao(n=(n-t)/2),r)+e+mo(uo(n),r)},u.padEnd=function(e,n,r){e=ve(e);var t=(n=ne(n))?Wr(e):0;return n&&t<n?e+mo(n-t,r):e},u.padStart=function(e,n,r){e=ve(e);var t=(n=ne(n))?Wr(e):0;return n&&t<n?mo(n-t,r)+e:e},u.parseInt=function(e,n,r){return n=r||n==null?0:n&&+n,yf(ve(e).replace(Ie,""),n||0)},u.random=function(e,n,r){var t;return r&&typeof r!="boolean"&&Je(e,n,r)&&(n=r=o),r===o&&(typeof n=="boolean"?(r=n,n=o):typeof e=="boolean"&&(r=e,e=o)),e===o&&n===o?(e=0,n=1):(e=qn(e),n===o?(n=e,e=0):n=qn(n)),n<e&&(t=e,e=n,n=t),r||e%1||n%1?(t=na(),$e(e+t*(n-e+Jc("1e-"+((t+"").length-1))),n)):bi(e,n)},u.reduce=function(e,n,r){var t=J(e)?ei:Nu,i=arguments.length<3;return t(e,U(n,4),r,i,fr)},u.reduceRight=function(e,n,r){var t=J(e)?rf:Nu,i=arguments.length<3;return t(e,U(n,4),r,i,ca)},u.repeat=function(e,n,r){return n=(r?Je(e,n,r):n===o)?1:ne(n),xi(ve(e),n)},u.replace=function(){var e=arguments,n=ve(e[0]);return e.length<3?n:n.replace(e[1],e[2])},u.result=function(e,n,r){var t=-1,i=(n=sr(n,e)).length;for(i||(i=1,e=o);++t<i;){var a=e==null?o:e[In(n[t])];a===o&&(t=i,a=r),e=Vn(a)?a.call(e):a}return e},u.round=Vl,u.runInContext=g,u.sample=function(e){return(J(e)?oa:jf)(e)},u.size=function(e){if(e==null)return 0;if(rn(e))return Lo(e)?Wr(e):e.length;var n=Ve(e);return n==X||n==ye?e.size:yi(e).length},u.snakeCase=Yl,u.some=function(e,n,r){return(J(e)?ni:Ef)(e,U(n=r&&Je(e,n,r)?o:n,3))},u.sortedIndex=function(e,n){return go(e,n)},u.sortedIndexBy=function(e,n,r){return Ci(e,n,U(r,2))},u.sortedIndexOf=function(e,n){var r=e==null?0:e.length;if(r){var t=go(e,n);if(t<r&&Yn(e[t],n))return t}return-1},u.sortedLastIndex=function(e,n){return go(e,n,!0)},u.sortedLastIndexBy=function(e,n,r){return Ci(e,n,U(r,2),!0)},u.sortedLastIndexOf=function(e,n){if(e!=null&&e.length){var r=go(e,n,!0)-1;if(Yn(e[r],n))return r}return-1},u.startCase=Tl,u.startsWith=function(e,n,r){return e=ve(e),r=r==null?0:Dr(ne(r),0,e.length),n=pn(n),e.slice(r,r+n.length)==n},u.subtract=ql,u.sum=function(e){return e&&e.length?oi(e,on):0},u.sumBy=function(e,n){return e&&e.length?oi(e,U(n,2)):0},u.template=function(e,n,w){var t,i,h=u.templateSettings;w&&Je(e,n,w)&&(n=o),e=ve(e),n=jo({},n,h,Na);var a=He(w=jo({},n.imports,h.imports,Na)),f=ui(w,a),l=0,h=n.interpolate||Ir,_="__p += '",w=gt((n.escape||Ir).source+"|"+h.source+"|"+(h===vn?nr:Ir).source+"|"+(n.evaluate||Ir).source+"|$","g"),m="//# sourceURL="+(_e.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kc+"]")+`
`;if(e.replace(w,function(S,P,M,$,E,k){return M=M||$,_+=e.slice(l,k).replace(Ko,cf),P&&(t=!0,_+=`' +
__e(`+P+`) +
'`),E&&(i=!0,_+=`';
`+E+`;
__p += '`),M&&(_+=`' +
((__t = (`+M+`)) == null ? '' : __t) +
'`),l=k+S.length,S}),_+=`';
`,h=_e.call(n,"variable")&&n.variable){if(Xr.test(h))throw new H("Invalid `variable` option passed into `_.template`")}else _=`with (obj) {
`+_+`
}
`;if(_=(i?_.replace(Ee,""):_).replace(cn,"$1").replace(Se,"$1;"),_="function("+(h||"obj")+`) {
`+(h?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(t?", __e = _.escape":"")+(i?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_+`return __p
}`,(w=Rc(function(){return G(a,m+"return "+_).apply(o,f)})).source=_,Vi(w))throw w;return w},u.times=function(e,n){if((e=ne(e))<1||Y<e)return[];for(var r=A,t=$e(e,A),t=(n=U(n),e-=A,ii(t,n));++r<e;)n(r);return t},u.toFinite=qn,u.toInteger=ne,u.toLength=Cc,u.toLower=function(e){return ve(e).toLowerCase()},u.toNumber=Cn,u.toSafeInteger=function(e){return e?Dr(ne(e),-Y,Y):e===0?e:0},u.toString=ve,u.toUpper=function(e){return ve(e).toUpperCase()},u.trim=function(e,n,r){return(e=ve(e))&&(r||n===o)?Fu(e):e&&(n=pn(n))?(r=kn(e),e=kn(n),pr(r,Uu(r,e),$u(r,e)+1).join("")):e},u.trimEnd=function(e,n,r){return(e=ve(e))&&(r||n===o)?e.slice(0,qu(e)+1):e&&(n=pn(n))?pr(r=kn(e),0,$u(r,kn(n))+1).join(""):e},u.trimStart=function(e,n,r){return(e=ve(e))&&(r||n===o)?e.replace(Ie,""):e&&(n=pn(n))?pr(r=kn(e),Uu(r,kn(n))).join(""):e},u.truncate=function(e,i){var r,f=30,t="...",i=(ke(i)&&(r="separator"in i?i.separator:r,f="length"in i?ne(i.length):f,t="omission"in i?pn(i.omission):t),(e=ve(e)).length);if((i=Br(e)?(a=kn(e)).length:i)<=f)return e;if((i=f-Wr(t))<1)return t;var a,f=a?pr(a,0,i).join(""):e.slice(0,i);if(r===o)return f+t;if(a&&(i+=f.length-i),qi(r)){if(e.slice(i).search(r)){var l,h=f;for((r=r.global?r:gt(r.source,ve(jn.exec(r))+"g")).lastIndex=0;l=r.exec(h);)var _=l.index;f=f.slice(0,_===o?i:_)}}else e.indexOf(pn(r),i)==i||-1<(a=f.lastIndexOf(r))&&(f=f.slice(0,a));return f+t},u.unescape=function(e){return(e=ve(e))&&Mt.test(e)?e.replace(fn,ff):e},u.uniqueId=function(e){var n=++sf;return ve(e)+n},u.upperCase=Ll,u.upperFirst=Gi,u.each=sc,u.eachRight=pc,u.first=ac,eu(u,(ou={},Xn(u,function(e,n){_e.call(u.prototype,n)||(ou[n]=e)}),ou),{chain:!1}),u.VERSION="4.17.21",_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),_n(["drop","take"],function(e,n){ae.prototype[e]=function(r){r=r===o?1:Me(ne(r),0);var t=this.__filtered__&&!n?new ae(this):this.clone();return t.__filtered__?t.__takeCount__=$e(r,t.__takeCount__):t.__views__.push({size:$e(r,A),type:e+(t.__dir__<0?"Right":"")}),t},ae.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),_n(["filter","map","takeWhile"],function(e,n){var r=n+1,t=r==1||r==3;ae.prototype[e]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:U(i,3),type:r}),a.__filtered__=a.__filtered__||t,a}}),_n(["head","last"],function(e,n){var r="take"+(n?"Right":"");ae.prototype[e]=function(){return this[r](1).value()[0]}}),_n(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");ae.prototype[e]=function(){return this.__filtered__?new ae(this):this[r](1)}}),ae.prototype.compact=function(){return this.filter(on)},ae.prototype.find=function(e){return this.filter(e).head()},ae.prototype.findLast=function(e){return this.reverse().find(e)},ae.prototype.invokeMap=ie(function(e,n){return typeof e=="function"?new ae(this):this.map(function(r){return Ct(r,e,n)})}),ae.prototype.reject=function(e){return this.filter(Yo(U(e)))},ae.prototype.slice=function(e,n){e=ne(e);var r=this;return r.__filtered__&&(0<e||n<0)?new ae(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==o?(n=ne(n))<0?r.dropRight(-n):r.take(n-e):r)},ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ae.prototype.toArray=function(){return this.take(A)},Xn(ae.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),t=/^(?:head|last)$/.test(n),i=u[t?"take"+(n=="last"?"Right":""):n],a=t||/^find/.test(n);i&&(u.prototype[n]=function(){function f($){return $=i.apply(u,ar([$],_)),t&&m?$[0]:$}var l,h=this.__wrapped__,_=t?[1]:arguments,M=h instanceof ae,S=_[0],w=M||J(h),m=(w&&r&&typeof S=="function"&&S.length!=1&&(M=w=!1),this.__chain__),S=!!this.__actions__.length,P=a&&!m,M=M&&!S;return!a&&w?(h=M?h:new ae(this),(l=e.apply(h,_)).__actions__.push({func:Do,args:[f],thisArg:o}),new On(l,m)):P&&M?e.apply(this,_):(l=this.thru(f),P?t?l.value()[0]:l.value():l)})}),_n(["pop","push","shift","sort","splice","unshift"],function(e){var n=Qt[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",t=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var i,a=arguments;return t&&!this.__chain__?(i=this.value(),n.apply(J(i)?i:[],a)):this[r](function(f){return n.apply(J(f)?f:[],a)})}}),Xn(ae.prototype,function(e,n){var r,t=u[n];t&&(r=t.name+"",_e.call($r,r)||($r[r]=[]),$r[r].push({name:n,func:t}))}),$r[yo(o,2).name]=[{name:"wrapper",func:o}],ae.prototype.clone=function(){var e=new ae(this.__wrapped__);return e.__actions__=nn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nn(this.__views__),e},ae.prototype.reverse=function(){var e;return this.__filtered__?((e=new ae(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},ae.prototype.value=function(){var e=this.__wrapped__.value(),n=this.__dir__,r=J(e),t=n<0,i=r?e.length:0,a=function(j,N,K){for(var ce=-1,Oe=K.length;++ce<Oe;){var un=K[ce],je=un.size;switch(un.type){case"drop":j+=je;break;case"dropRight":N-=je;break;case"take":N=$e(N,j+je);break;case"takeRight":j=Me(j,N-je)}}return{start:j,end:N}}(0,i,this.__views__),f=a.start,l=(a=a.end)-f,h=t?a:f-1,_=this.__iteratees__,w=_.length,m=0,S=$e(l,this.__takeCount__);if(!r||!t&&i==l&&S==l)return ka(e,this.__actions__);var P=[];e:for(;l--&&m<S;){for(var M=-1,$=e[h+=n];++M<w;){var E=_[M],k=E.iteratee,E=E.type,k=k($);if(E==2)$=k;else if(!k){if(E==1)continue e;break e}}P[m++]=$}return P},u.prototype.at=Jf,u.prototype.chain=function(){return lc(this)},u.prototype.commit=function(){return new On(this.value(),this.__chain__)},u.prototype.next=function(){this.__values__===o&&(this.__values__=xc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},u.prototype.plant=function(e){for(var n,i=this;i instanceof fo;)var r=tc(i),t=(r.__index__=0,r.__values__=o,n?t.__wrapped__=r:n=r,r),i=i.__wrapped__;return t.__wrapped__=e,n},u.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof ae?(e=e,(e=(e=this.__actions__.length?new ae(this):e).reverse()).__actions__.push({func:Do,args:[Pi],thisArg:o}),new On(e,this.__chain__)):this.thru(Pi)},u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return ka(this.__wrapped__,this.__actions__)},u.prototype.first=u.prototype.head,vt&&(u.prototype[vt]=function(){return this}),u}();br?((br.exports=Pr)._=Pr,mr._=Pr):Ne._=Pr}.call(rt);const Zn=1e5,Kn=window.devicePixelRatio||1,Tr={daubConfig:{lineWidth:20,strokeStyle:"white"},tagConfig:{fontSize:20,showText:!0,fillStyle:"rgba(242, 88, 85, 0.5)",textFillStyle:"rgba(255, 255, 255, 0.6)",hoverStrokeStyle:"#F25856",hoverLineWidth:1,hoverLineDash:[5],highlightStrokeStyle:"yellow",highlightLineWidth:2,highlightLineDash:[5],customDraw(){}},layerConfig:{fillStyle:"rgba(0, 0, 0, 0.6)"},cropConfig:{lineDash:[],strokeStyle:"rgba(255, 255, 255, 1)",lineWidth:2,customDraw(){}},dotConfig:{lineDash:[],lineWidth:2,strokeStyle:"transparent",hoverFillStyle:"#69B1FF",fillStyle:"#24FF6E",radius:50}},tt={width:0,height:0},dn={x:void 0,y:void 0};function gr(o){o.clearRect(-Zn/2,-Zn/2,Zn,Zn)}function hu(o,p){let v=new Image;return p&&(v.crossOrigin="anonymous"),v.src=o,new Promise((c,b)=>{v.complete?c(v):(v.onload=function(){c(v)},v.onerror=function(){b("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25:"+v.src)})})}function Lr(o,p,v,c,b,Y){o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(p,v,c,b,Y)}function du(o,p){o.fillStyle=p.layerConfig.fillStyle,o.fillRect(-Zn/2,-Zn/2,Zn,Zn)}function gu(o,p,v,c,b){o.clearRect(p,v,c,b)}function vu(o,p,v,c,b,Y,O){Y=Q.exports.cloneDeep(Y.cropConfig),O&&O.cropConfig&&Object.assign(Y,O.cropConfig),o.setLineDash(Y.lineDash),o.strokeStyle=Y.strokeStyle,o.lineWidth=Y.lineWidth,o.strokeRect(p,v,c,b)}function _u(o){return o=o.getClientRects()[0],o?{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}:void 0}function Rt(o,p){o.canvas.width=p.width,o.canvas.height=p.height}function Tn(o,p=["width","height"],v=!1){try{var c=function(Y){let O=Object.prototype.toString.call(Y);return O.slice(8,O.length-1)}(o);let b=v?1/Kn:Kn;if(c==="Number")return o*b;p.forEach(Y=>{o[Y]*=b})}catch{}return o}function yu(o){return Array.from(o.touches||[]).map(p=>Tn({clientX:p.clientX,clientY:p.clientY},["clientX","clientY"]))}function wu(o,p,v,c,b,Y,O){O||(gr(o),du(o,Y)),gu(o,p,v,c,b),vu(o,p,v,c,b,Y)}function Wo(o,p,v,c){let b,Y;p.forEach((O,A)=>{o&&(b=p[A-1]||O,Y=O,o.beginPath(),o.lineJoin="round",o.lineCap="round",o.lineWidth=O.lineWidth||c.daubConfig.lineWidth,o.strokeStyle=O.strokeStyle||c.daubConfig.strokeStyle,o.moveTo(b._x||b.x,b._y||b.y),o.lineTo(Y._x||Y.x,Y._y||Y.y),o.stroke())})}function Gn(o,p,v,c,b,Y){Y||(gr(o),du(o,c)),p.forEach(O=>{var I;let A=An(O,O.__scale,v),B=(b&&(A[0]+=b.offsetX,A[1]+=b.offsetY),gu(o,...A),vu(o,...A,c,O),Q.exports.cloneDeep(c.cropConfig));O&&O.cropConfig&&Object.assign(B,O.cropConfig),(I=B.customDraw)==null||I.call(B,o,{target:O,positions:A})})}function ot(o,p,v=1,c={x:0,y:0}){let b=[],Y=[];return p.map(A=>{{var B=v,I=c;let V=Q.exports.cloneDeep(A);return V.startX=V.startX*B+I.x,V.endX=V.endX*B+I.x,V.startY=V.startY*B+I.y,V.endY=V.endY*B+I.y,V}}).forEach((A,B)=>{!function(I,V){if(I.x>=V.startX&&I.x<=V.endX&&I.y>=V.startY&&I.y<=V.endY)return 1}(o,A)||(b.push(p[B]),Y.push(B))}),{boxList:b,indexList:Y}}function Xt(o,p){let v=p[0],c=p[0]+p[2],b=p[1],Y=p[1]+p[3];return o.x>=v&&o.x<=c&&o.y>=b&&o.y<=Y}function Po(o,p){var v=Math.abs(p.x-o.x),c=Math.abs(p.y-o.y);return[Math.min(o.x,p.x),Math.min(o.y,p.y),v,c]}function Ln(O){let p=O;var{startX:O,startY:A,endX:v,endY:c}=p,b=Math.abs(O-v),Y=Math.abs(A-c),O=Math.min(O,v),A=Math.min(A,c);return p.startX=O,p.startY=A,p.endX=O+b,p.endY=A+Y,{info:p,position:[O,A,b,Y]}}function it(v,c){var v=Ln(v),c=Ln(c),b=Math.min(v.info.startY,c.info.startY),Y=Math.max(v.info.endY,c.info.endY);let O;Math.abs(Y-b)<v.position[3]+c.position[3]&&(O={startY:Math.max(v.info.startY,c.info.startY),endY:Math.min(v.info.endY,c.info.endY)}),Y=Math.min(v.info.startX,c.info.startX),b=Math.max(v.info.endX,c.info.endX),b=Math.abs(b-Y),Y=v.position[2]+c.position[2];let A;if((A=b<Y?{startX:Math.max(v.info.startX,c.info.startX),endX:Math.min(v.info.endX,c.info.endX)}:A)!==void 0&&O!==void 0)return Object.assign(O,A)}function An(O,p=1,v={x:0,y:0}){var O=Ln(O),{startX:c,startY:b}=O.info,Y=O.position[2],O=O.position[3];return[c*p+v.x,b*p+v.y,Y*p,O*p]}function Ho(o){return o=An(o),5<=o[2]&&5<=o[3]}function No(o,p,v,c,b,Y,O,A,B,I,V,Qe,Ze){let xe=Q.exports.cloneDeep(Y.tagConfig);if(Qe&&Object.assign(xe,Qe),o.font=xe.fontSize+"px sans-serif",A||B){if(!B||A&&A.type==="move"||(o.fillStyle=xe.fillStyle,o.fillRect(p,v,c,b),O&&xe.showText&&(Y=parseFloat(o.font.split(" ")[0]),o.fillStyle=xe.textFillStyle,o.fillText(V||O+"",p+4,v+b/2+Y/2))),I&&(o.strokeStyle=xe.highlightStrokeStyle,o.lineWidth=xe.highlightLineWidth,o.setLineDash(xe.highlightLineDash),o.strokeRect(p,v,c,b)),A&&Xt(A,[p,v,c,b])){if(A.type==="click")return{isShow:B=!B,isCrash:!0};A.type!=="move"||B||(o.strokeStyle=xe.hoverStrokeStyle,o.lineWidth=xe.hoverLineWidth,o.setLineDash(xe.hoverLineDash),o.strokeRect(p,v,c,b))}xe.customDraw(o,{target:Ze,positions:[p,v,c,b]})}}function Bn(o,p,v,c,b={offsetX:0,offsetY:0},Y){let O=!1,A=[];return p.forEach(B=>{let I=An(B,B.__scale,v);I[0]+=b.offsetX,I[1]+=b.offsetY;var V=No(o,...I,c,(B.__index||0)+1,Y,B.isShow,B.showOutLine,B.labelText,B.tagConfig,B);V!==void 0&&(B.isShow=V.isShow,V.isCrash&&(O=!0,A.push(B)))}),{isReDraw:O,redrawList:A}}function mu(o,p,v){return v=It({x:o[0],y:o[1]},p,v),o[0]=v.x,o[1]=v.y,o[2]/=p/Kn,o[3]/=p/Kn,o}function Et(o,p,v,c,b){p.forEach(V=>{o.beginPath();var O,A,B,I=Q.exports.cloneDeep(c.dotConfig),V=(V.dotConfig&&Object.assign(I,V.dotConfig),o.fillStyle=V.__isHover?I.hoverFillStyle:I.fillStyle,o.strokeStyle=I.strokeStyle,o.lineWidth=I.lineWidth,o.setLineDash(I.lineDash),[V,I=1,O={x:0,y:0},A,B]=[V,V.__scale,v,I.radius,b],[V.x*I+O.x+((B==null?void 0:B.offsetX)||0),V.y*I+O.y+((B==null?void 0:B.offsetY)||0),A*I,0,2*Math.PI]);o.arc(...V),o.fill(),o.stroke()})}function bu(o,p){return(o.x<=p.x?"left":"right")+"-"+(o.y<=p.y?"top":"bottom")}function xu(o,Y,v){var c=Po(o,Y),b=(Y.x-o.x)/v,Y=(Y.y-o.y)/v;let O=!1;return{isStartMove:O=5<c[2]||5<c[3]?!0:O,offsetInfo:{offsetX:b,offsetY:Y}}}function It(o,p,v){return{x:o.x/p+v.x,y:o.y/p+v.y}}function ut(o,p,v,c){return o=It({x:o.layerX,y:o.layerY},p,v),{x:o.x,y:o.y,type:c}}function Cu(o,p,v=-1,c){return o=An(o,o.__scale,p),p=c!=null?c:x.mobile()?6*Kn:6,c=p/2,[{index:v,name:"left-top",type:"vertex",positions:[o[0]-c,o[1]-c,p,p]},{index:v,name:"right-top",type:"vertex",positions:[o[0]+o[2]-c,o[1]-c,p,p]},{index:v,name:"left-bottom",type:"vertex",positions:[o[0]-c,o[1]+o[3]-c,p,p]},{index:v,name:"right-bottom",type:"vertex",positions:[o[0]+o[2]-c,o[1]+o[3]-c,p,p]},{index:v,name:"left",type:"border",positions:[o[0]-c,o[1]+c,p,o[3]-c]},{index:v,name:"top",type:"border",positions:[o[0]+c,o[1]-c,o[2]-c,p]},{index:v,name:"right",type:"border",positions:[o[0]+o[2]-c,o[1]+c,p,o[3]-c]},{index:v,name:"bottom",type:"border",positions:[o[0]+c,o[1]+o[3]-c,o[2]-c,p]}]}function Fo(o,p,v,c,b){o=ut(o,v,b,"move");let Y=p.map((A,B)=>Cu(A,c,B)).flat(),O=function(A,B){let I=!1,V=[],Qe=[];return B.forEach((Ze,xe)=>{Xt(A,Ze)&&(I=!0,V.push(Ze),Qe.push(xe))}),{hasIn:I,coverList:V,coverIndexList:Qe}}(o,Y.map(A=>A.positions));return{hasIn:O.hasIn,list:O.coverIndexList.map(A=>Y[A])}}function Uo(o){if(o=o.find(p=>p.type==="vertex")||o[0],o)return o;throw new Error("findOneBorderOrVertex list may be empty.")}function Su(o,p,v,c,b,Y,O){O||((O=Fo(p,v,c,b,Y)).hasIn?((p=Uo(O.list).name)!=="left-top"&&p!=="right-bottom"||(o.style.cursor="nwse-resize"),p!=="right-top"&&p!=="left-bottom"||(o.style.cursor="nesw-resize"),p!=="left"&&p!=="right"||(o.style.cursor="col-resize"),p!=="top"&&p!=="bottom"||(o.style.cursor="row-resize")):o.style.cursor="auto")}function Du(o,p,v,c,b,Y,O,A,B,I,V){if(p&&p.x!==void 0&&v&&v.x!==void 0){var p=xu(p,v,Y);if(p.isStartMove)return{offsetX:v,offsetY:Y}=p.offsetInfo,p=An(function(pe,xe,Z){if(!Z)return pe;let fe=Q.exports.cloneDeep(pe),X=Z.name;var{offsetX:pe,offsetY:Z}=xe;return X.includes("left")&&(fe.startX+=pe),X.includes("top")&&(fe.startY+=Z),X.includes("right")&&(fe.endX+=pe),X.includes("bottom")&&(fe.endY+=Z),fe}(c,{offsetX:v/b,offsetY:Y/b},B),b,O),Gn(o,I,O,V),V.mode=="crop"&&wu(o,...p,V,!0),Bn(o,A,O,V),V.mode=="tag"&&No(o,...p,V,(c.__index||0)+1,void 0,c.isShow,c.showOutLine,c.labelText,c.tagConfig,void 0),p}}function ku(o,p){return Math.abs(o-p)}function Ou(o){return{width:ku(o[0].clientX,o[1].clientX),height:ku(o[0].clientY,o[1].clientY)}}function $o(o,p,v=1){return Ln({startX:(o[0]-p.x)/v,startY:(o[1]-p.y)/v,endX:(o[0]+o[2]-p.x)/v,endY:(o[1]+o[3]-p.y)/v}).info}function an(o,p,v){return o.map((c,b)=>(c.__scale=p,c.__index=b,Ln(qo(c,v)).info))}function jr(o,p,v){return o.map((c,b)=>(c.__scale=p,c.__index=b,b=v,(c=c).x=vr(c.x,b),c.y=vr(c.y,b),c.raduis=vr(c.raduis||0,b),c))}function Vo(o,p,v){return o.map(c=>c.map(b=>({...b,_x:b.x*v+p.x,_y:b.y*v+p.y})))}function zu(o,p){for(const v of p)if(it(o,v))return!0;return!1}function Yu(o,p){return p=it(o,p),!(!p||p.startX!==o.startX||p.endX!==o.endX||p.startY!==o.startY||p.endY!==o.endY)}function Tu(o,p,v){let c=Q.exports.cloneDeep(v);return o==="img"&&(c.startX=c.startX+p.startX,c.startY=c.startY+p.startY,c.endX=c.endX+p.startX,c.endY=c.endY+p.startY),o==="crop"&&(c.startX=c.startX-p.startX,c.startY=c.startY-p.startY,c.endX=c.endX-p.startX,c.endY=c.endY-p.startY),c}function qo(o,p){return o.startX=vr(o.startX,p),o.endX=vr(o.endX,p),o.startY=vr(o.startY,p),o.endY=vr(o.endY,p),o}function vr(o,p){return parseFloat(o.toFixed(p))}function Lu(o,p,v){return v=Q.exports.cloneDeep(v.dotConfig),p.dotConfig&&Object.assign(v,p.dotConfig),o=(o.x-p.x)**2+(o.y-p.y)**2,o<=v.radius**2}var Rr=(o,p)=>{const v=o.__vccOpts||o;for(var[c,b]of p)v[c]=b;return v},at=o=>(q.pushScopeId("data-v-2de84109"),o=o(),q.popScopeId(),o);const Ac=["onTouchmove","onTouchstart","onTouchend"],Bc={key:0,class:"mode-panel"},Wc={class:"status"},Pc={class:"text"},Hc={class:"tip"},Nc=at(()=>q.createElementVNode("kbd",null,"Ctrl",-1)),Fc=q.createTextVNode(" + "),Uc=at(()=>q.createElementVNode("kbd",null,"B",-1)),$c=at(()=>q.createElementVNode("span",{style:{"font-size":"14px","margin-left":"10px"}},"\u5207\u6362\u6A21\u5F0F",-1));at=q.defineComponent({props:{cropConfig:{default:()=>Tr.cropConfig},daubConfig:{default:()=>Tr.daubConfig},layerConfig:{default:()=>Tr.layerConfig},tagConfig:{default:()=>Tr.tagConfig},dotConfig:{default:()=>Tr.dotConfig},drawingText:null,isShowTip:{type:Boolean,default:!1},enableScale:{type:Boolean,default:!0},enableMove:{type:Boolean,default:!0},enableDrawCrop:{type:Boolean,default:!0},enableDrawTag:{type:Boolean,default:!0},initScale:{type:Boolean,default:!0},enableInteractiveTagChangeStatus:{type:Boolean,default:!0},enableCropCross:{type:Boolean,default:!1},handleResizeCropCross:{default:"reset"},enableInteractiveCropDelete:{type:Boolean,default:!0},enableCropResize:{type:Boolean,default:!0},enableTagResize:{type:Boolean,default:!1},enableDrawCropOutOfImg:{type:Boolean,default:!0},enableDrawTagOutOfCrop:{type:Boolean,default:!0},enableDrawTagOutOfImg:{type:Boolean,default:!0},isImgCrop:{type:Boolean,default:!1},isCropSingle:{type:Boolean,default:!1},cropList:{default:()=>Array()},tagList:{default:()=>Array()},daubStack:{default:()=>Array()},dotList:{default:()=>Array()},mode:{default:"crop"},mobileOperation:{default:"move"},src:null,precision:{default:0},splitClickAndDoubleClickEvent:{type:Boolean,default:!1},disableDefaultShortcuts:{default:()=>Array()},customDrawTopCtx:null},emits:["update:cropList","update:daubStack","cropListChange","update:tagList","update:dotList","tagListChange","update:mode","update:mobileOperation","resizeStart","resizeEnd","delCrop","drawCropStart","drawTagStart","mouseOverInfo","onLoadImage"],setup(o,{expose:p,emit:v}){const c=o;let b=!1,Y,O,A=null,B=null,I={last:{down:void 0,up:void 0},prev:{down:void 0,up:void 0}};const V=x.mobile()?.1/Kn*1.5:.1;let Qe=V,Ze=!1;function xe(){B=null,Ze=!1,Qe=V,F.resizeHovering=void 0}let Te=!1,fe=null,X=null,pe,Z=Q.exports.cloneDeep(tt),Ae=Q.exports.cloneDeep(tt),Xe=Q.exports.cloneDeep(dn),ye=Q.exports.cloneDeep(dn),gn=Q.exports.cloneDeep(dn),Jn={x:0,y:0},Qn=0,R={x:0,y:0},te={x:0,y:0},W=1,Sn,Dn,_r=1,Ce,he=1,Be,de=[],ue=[],Ee=[],cn=[],Se=q.computed(()=>{let s=Q.exports.cloneDeep(Tr);return Object.assign(s.cropConfig,c.cropConfig),Object.assign(s.tagConfig,c.tagConfig),Object.assign(s.layerConfig,c.layerConfig),Object.assign(s.daubConfig,c.daubConfig),Object.assign(s.dotConfig,c.dotConfig),s.drawingText=c.drawingText,s.mode=c.mode,s}),fn=q.ref(),ct=q.ref(),Mt=q.ref(),F={isScaleing:!1,isDrawRecting:!1,isMoving:!1,resizeHovering:void 0,isMouseDown:()=>Xe.x!==void 0,isMouseUpDownPoints:()=>Xe.x!==void 0&&ye.x!==void 0};const Ke={dragCreatRectInterrupt(){st()},dragCreatOrResizeRect(s){var d,C;X&&(s=="drawDot"&&Et(X,Ee,R,Se.value),s=="drawCrop"&&(c.isCropSingle&&!F.isDrawRecting&&(ue=[]),F.isDrawRecting||v("drawCropStart"),F.isDrawRecting=!0,Be=function(T,L,D,ge,ee,me,We,Pe){if(L.x!==void 0&&D.x!==void 0){let se=mu(Po(L,D),ge,ee);if(se[2]=Tn(se[2],void 0,!0),se[3]=Tn(se[3],void 0,!0),5<se[2]||5<se[3])return Gn(T,me,We,Pe),wu(T,...se,Pe,!0),se}}(X,Xe,ye,he,te,ue,R,Se.value),Bn(X,de,R,Se.value),(d=c.customDrawTopCtx)==null||d.call(c,X,er)),s=="drawTag"&&(F.isDrawRecting||v("drawTagStart"),F.isDrawRecting=!0,Gn(X,ue,R,Se.value),Be=function(T,L,D,ge,ee,me,We,Pe){if(L.x!==void 0&&D.x!==void 0){let se=mu(Po(L,D),ge,ee);if(se[2]=Tn(se[2],void 0,!0),se[3]=Tn(se[3],void 0,!0),5<se[2]||5<se[3])return Bn(T,me,We,Pe),No(T,...se,Pe,me.length+1,void 0,!0,void 0,Pe.drawingText,void 0,void 0),se}}(X,Xe,ye,he,te,de,R,Se.value),(C=c.customDrawTopCtx)==null||C.call(c,X,er)),s=="resize")&&{crop(){var L;c.enableCropResize&&F.resizeHovering&&X?(B=ue[F.resizeHovering.index||0],F.resizeHovering&&B&&(F.isDrawRecting=!0,Be=Du(X,Xe,ye,B,B.__scale||1,he,R,de,F.resizeHovering,ue.filter((D,ge)=>{var ee;return ge!==((ee=F.resizeHovering)==null?void 0:ee.index)}),Se.value),(L=c.customDrawTopCtx)==null||L.call(c,X,er))):Ke.move()},tag(){var L;c.enableTagResize&&F.resizeHovering&&X?(B=de[F.resizeHovering.index||0],F.resizeHovering&&B&&(F.isDrawRecting=!0,Be=Du(X,Xe,ye,B,B.__scale||1,he,R,de.filter((D,ge)=>{var ee;return ge!==((ee=F.resizeHovering)==null?void 0:ee.index)}),F.resizeHovering,ue,Se.value),(L=c.customDrawTopCtx)==null||L.call(c,X,er))):Ke.move()},daub(){},dot(){}}[c.mode]()},changeMode(){c.mode==="tag"?v("update:mode","crop"):v("update:mode","tag")},scale(s,d){if(!pe||!fe||!X)throw new Error("can't find canvas ctx or img");F.isScaleing=!0,fe.translate(te.x,te.y),X.translate(te.x,te.y),te={x:te.x-(d.x/(he*s)-d.x/he),y:te.y-(d.y/(he*s)-d.y/he)},fe.scale(s,s),X.scale(s,s),fe.translate(-te.x,-te.y),X.translate(-te.x,-te.y),he*=s,gr(fe),gr(X),Lr(fe,pe,R.x,R.y,Ae.width*W,Ae.height*W),Ie(),Ze=!1,F.isScaleing=!1},move(){var s;if(c.enableMove&&fe&&X&&pe&&!F.isScaleing){F.isMoving=!0;let d=function(C,T,L,D,ge,ee,me,We,Pe,se,rr,tr,or){if(me.x!==void 0&&We.x!==void 0&&(me=xu(me,We,se),me.isStartMove))return{offsetX:We,offsetY:se}=me.offsetInfo,gr(C),Lr(C,L,(C={x:ee.x+We,y:ee.y+se}).x,C.y,D.width*ge,D.height*ge),Gn(T,Pe,ee,or,me.offsetInfo),Bn(T,rr,ee,or,{offsetX:We,offsetY:se}),Et(T,tr,ee,or,me.offsetInfo),{offsetX:We,offsetY:se}}(fe,X,pe,Ae,W,R,Xe,ye,ue,he,de,Ee,Se.value);(s=c.customDrawTopCtx)==null||s.call(c,X,C=>er(C).map(T=>(d&&(T[0]+=d.offsetX,T[1]+=d.offsetY),T))),d&&(Dn=Q.exports.cloneDeep(R))&&(Dn.x+=d.offsetX,Dn.y+=d.offsetY)}},scrollIntoView(s){if(fe&&X&&pe){var d=An(s,W,R);s.__scale=W;let C=Q.exports.take(Cu(s,R,void 0,0),4).map(L=>({x:L.positions[0]-te.x,y:L.positions[1]-te.y})),T=[0,0,((Z==null?void 0:Z.width)||0)/he,((Z==null?void 0:Z.height)||0)/he];C.every(L=>!Xt(L,T))&&(R={x:R.x-d[0]+te.x+(T[2]-d[2])/2,y:R.y-d[1]+te.y+(T[3]-d[3])/2},gr(fe),gr(X),Lr(fe,pe,R.x,R.y,pe.width*W,pe.height*W),Ie())}},hoverRect(s){if(X&&(Ze=function(d,C,T,L,D,ge,ee,me,We,Pe,se){if(C==="tag"&&!We){let rr=T.filter(Wn=>!Wn.isShow),tr=!1,or=ut(ee,L,ge,"move"),Zt=[];rr.forEach(Wn=>{var Go=An(Wn,Wn.__scale,D);Xt(or,Go)&&(Zt.push(Wn),tr=!0)}),tr?(Pe=!0,Bn(d,Zt,D,se,void 0,or)):Pe&&(Gn(d,me,D,se),Bn(d,T,D,se),Pe=!1)}return Pe}(X,c.mode,de,he,R,te,s,ue,F.isScaleing,Ze,Se.value),!b&&(c.enableCropResize&&c.mode==="crop"&&Su(fn.value,s,ue,he,R,te,F.isScaleing),c.enableTagResize&&c.mode==="tag"&&Su(fn.value,s,de,he,R,te,F.isScaleing),c.mode=="dot"))){s=ut(s,he,te,"move");let d={x:(s.x-R.x)/W,y:(s.y-R.y)/W,raduis:0};jr([d],W,c.precision),Ee.forEach(C=>{Lu(d,C,Se.value)?(C.__isHover=!0,fn.value.style.cursor="pointer"):(C.__isHover=!1,fn.value.style.cursor="auto")}),Et(X,Ee,R,Se.value)}}},yr={onMouseOverMove(s){x.mobile()?this.onHoldMouseLeftBtnMove(s):F.isMouseDown()||x.mobile()?c.mode==="dot"&&!b||this.onHoldMouseLeftBtnMove(s):Ke.hoverRect(s)},onHoldMouseLeftBtnMove(s){var d,C;ye={x:s.layerX,y:s.layerY},b?this.onDrawSwitchOnStartDraw():c.mode==="daub"?F.isScaleing||(s=It(gn,he,te),C={x:(d=It(ye,he,te)).x,y:d.y,lineWidth:c.daubConfig.lineWidth,strokeStyle:c.daubConfig.strokeStyle},X&&(Wo(X,[s,d],R,Se.value),gn=Q.exports.cloneDeep(ye),cn[cn.length-1].push(C))):F.resizeHovering?Ke.dragCreatOrResizeRect("resize"):Ke.move()},onDoubleClick(s){c.mode==="crop"&&c.enableInteractiveCropDelete&&pt(ot(s,ue,W,R).boxList),c.mode==="tag"&&ot(s,de,W,R).boxList.forEach(C=>{var T;(T=C==null?void 0:C.onDoubleClick)==null||T.call(C,"",C)})},onCick(s){if(c.mode=="dot"){var d=s;let C={x:(d.x-R.x)/W,y:(d.y-R.y)/W,raduis:0};return jr([C],W,c.precision),d=Ee.filter(T=>!Lu(C,T,Se.value)),d.length!==Ee.length?(Ee=d,void Ie()):(Ee.push(C),void Ke.dragCreatOrResizeRect("drawDot"))}c.mode==="tag"&&X&&(ot(s,de,W,R).boxList.forEach(T=>{var L;(L=T==null?void 0:T.onClick)==null||L.call(T,"",T)}),c.enableInteractiveTagChangeStatus&&(Gn(X,ue,R,Se.value),{isReDraw:d,redrawList:s}=Bn(X,de,R,Se.value,void 0,s),d&&(Ie(),Er("statusChange",nr(s)))))},onWheel(s,d,C){(c.enableScale||C)&&Ke.scale(s,d)},onDrawSwitchOnStartDraw(){c.mode==="dot"?Ke.move():c.mode==="crop"?c.enableDrawCrop&&Ke.dragCreatOrResizeRect("drawCrop"):c.enableDrawTag&&Ke.dragCreatOrResizeRect("drawTag")}},vn={shiftMode(){Ke.changeMode()},shiftDrawSwitch(s){q.nextTick(()=>{s==="on"&&((c.enableDrawCrop&&c.mode==="crop"||c.enableDrawTag&&c.mode==="tag")&&(fn.value.style.cursor="crosshair"),F.isMouseDown()||(b=!0)),s==="off"&&(F.isMoving||F.resizeHovering||Ke.dragCreatRectInterrupt(),b=!1)})},init(){(async function(){if(xe(),Te=!1,fe=null,X=null,pe=void 0,Z=Q.exports.cloneDeep(tt),Ae=Q.exports.cloneDeep(tt),Xe=Q.exports.cloneDeep(dn),ye=Q.exports.cloneDeep(dn),gn=Q.exports.cloneDeep(dn),R={x:0,y:0},te={x:0,y:0},W=1,Sn=void 0,Dn=void 0,_r=1,Ce=void 0,he=1,Be=void 0,de=[],ue=[],await q.nextTick(),1<c.cropList.length){let s={startX:1/0,startY:1/0,endX:-1/0,endY:-1/0};c.cropList.forEach(d=>{d=Ln(d),d.info.startX<s.startX&&(s.startX=d.info.startX),d.info.startY<s.startY&&(s.startY=d.info.startY),d.info.endX>s.endX&&(s.endX=d.info.endX),d.info.endY>s.endY&&(s.endY=d.info.endY)}),Sn=s}return c.cropList.length==1&&(Sn=c.cropList[0]),de=Q.exports.cloneDeep(c.tagList),ue=Q.exports.cloneDeep(c.cropList),Ee=Q.exports.cloneDeep(c.dotList),cn=Q.exports.cloneDeep(c.daubStack),wr(),x.mobile()||(window.addEventListener("keydown",At),window.addEventListener("keyup",Bt)),Wt(),fe=ct.value.getContext("2d"),X=Mt.value.getContext("2d"),fe&&X?(Z=Tn(_u(fe.canvas)))?(Rt(fe,Z),Rt(X,Z),v("onLoadImage",{status:"loading"}),hu(c.src).then(s=>{if(v("onLoadImage",{status:"success"}),!Z||!fe||!X)return Promise.reject("canvasWH or canvas var not has valid values.");if(pe=s,Ae={width:pe.width,height:pe.height},c.initScale){s=Z,L=pe,D=s.width/L.width,s=s.height/L.height;var d,C,T,L={scale:D<s?D:s,fit:D<s?"height":"width"};if(W=_r=L.scale,Sn)return D=An(Sn,_r,R),s=(Z.width-.05*Z.width)/D[2],d=(Z.height-.05*Z.height)/D[3],d=Z.width/Z.height>D[2]/D[3]?d:s,C=D[0]+D[2],T=D[1]+D[3],(d=d)==s?(R.x=(Z.width-C*d-.05*Z.width/2)/d,R.y=((Z.height-D[3]*d)/2-D[1]*d)/d):(R.x=((Z.width-D[2]*d)/2-D[0]*d)/d,R.y=(Z.height-T*d-.05*Z.height/2)/d),ue=an(ue,W,c.precision),de=an(de,W,c.precision),Ee=jr(Ee,W,c.precision),cn=Vo(cn,R,W),lt({deltaY:1,clientX:0,clientY:0,preventDefault(){},stopPropagation(){},__zoom:d},!0),!0;L.fit==="width"?R.x=(Z.width-Ae.width*W)/2:R.y=(Z.height-Ae.height*W)/2,Sn={startX:0,startY:0,endX:0+Ae.width,endY:0+Ae.height},c.isImgCrop&&Xr("add",ue=[Sn])}var L,D;return ue=an(ue,W,c.precision),de=an(de,W,c.precision),Ee=jr(Ee,W,c.precision),cn=Vo(cn,R,W),Lr(fe,pe,R.x,R.y,pe.width*W,pe.height*W),Ie(),!0}).catch(s=>{v("onLoadImage",{status:"error",msg:JSON.stringify(s)})})):Promise.reject("Error: can't get canvas height and width."):Promise.reject("Error: can't find canvas element.")})().then(()=>{Te=!0})},resize(){requestAnimationFrame(()=>{(async function(){if(ft(),await q.nextTick(),wr(),fe&&X&&pe){if(!(Z=Tn(_u(fe.canvas))))return Promise.reject("Error: can't get canvas height and width.");Rt(fe,Z),Rt(X,Z),fe.scale(he,he),X.scale(he,he),fe.translate(-te.x,-te.y),X.translate(-te.x,-te.y),Lr(fe,pe,R.x,R.y,pe.width*W,pe.height*W),ue=an(ue,W,c.precision),de=an(de,W,c.precision),Ee=jr(Ee,W,c.precision),Ie(),Te=!0}})()})}};function At(s){s.code!=="Space"||c.disableDefaultShortcuts.includes("space")||(s.target===document.body&&s.preventDefault(),vn.shiftDrawSwitch("on"))}function Bt(s){if(s.code==="KeyB"&&s.ctrlKey){if(c.disableDefaultShortcuts.includes("ctrl+b"))return;vn.shiftMode()}s.code!=="Space"||c.disableDefaultShortcuts.includes("space")||vn.shiftDrawSwitch("off")}function wr(){var s=fn.value.getBoundingClientRect();Ce={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y}}function ft(){B=null,Te=!1,Z=Q.exports.cloneDeep(tt),Xe=Q.exports.cloneDeep(dn),ye=Q.exports.cloneDeep(dn),gn=Q.exports.cloneDeep(dn),Ce=void 0}function er(s){return an(s,W,c.precision).map(C=>An(C,W,R))}function Ie(){var s;X&&(Gn(X,ue,R,Se.value),Bn(X,de,R,Se.value),Et(X,Ee,R,Se.value),cn.forEach(d=>{X&&Wo(X,d,R,Se.value)}),(s=c.customDrawTopCtx)==null||s.call(c,X,er))}function Wt(){x.mobile()&&(c.mobileOperation==="draw"&&vn.shiftDrawSwitch("on"),c.mobileOperation==="move"&&vn.shiftDrawSwitch("off"))}function Pt(){vn.resize()}function lt(s,d){c.enableScale&&(s.stopPropagation(),s.preventDefault());var C,T,L;if(!Ce)throw new Error("can't find  containerInfo.");!Te&&!s.__zoom||F.isDrawRecting||F.isMoving||(C=d?0:(s.clientX-Ce.left)*Kn,T=d?0:(s.clientY-Ce.top)*Kn,L=s.deltaY<0?1:-1,s=d?s.__zoom:Math.exp(L*Qe),he*s<.2||yr.onWheel(s,{x:C,y:T},d))}function Ht(s){if(F.resizeHovering){var d;let C={crop:{boxList:ue,trigger:Xr,getBoxFunc:jn},tag:{boxList:de,trigger:Er,getBoxFunc:nr},daub:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]},dot:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]}}[c.mode];C.boxList[F.resizeHovering.index]=s,v("resizeEnd",{index:F.resizeHovering.index,box:s}),c.mode==="tag"&&(d=bu(Xe,ye),Object.assign(s,{__oprateType:"resize",__vertexPosition:d})),C.trigger("resize",C.getBoxFunc([s]))}}function st(){Te&&(F.isMoving=!1,Dn&&(R=Q.exports.cloneDeep(Dn)),Dn=void 0,(F.isMouseUpDownPoints()||c.mode==="dot")&&{crop(){if(Be){let d={...B,...$o(Be,R,W)};B=null,F.resizeHovering?!c.enableCropCross&&zu(d,ue.filter((C,T)=>{var L;return T!==((L=F.resizeHovering)==null?void 0:L.index)}))?(c.handleResizeCropCross==="reset"&&Ie(),c.handleResizeCropCross==="delete"&&pt([ue[F.resizeHovering.index]])):Ht(d):(d=an([d],W,c.precision)[0],!c.enableCropCross&&zu(d,ue)?Ie():(ue.push(d),Xr("add",jn([d])))),Be=void 0}},tag(){var d,C;Be&&(d={...B,...$o(Be,R,W)},B=null,F.resizeHovering?Ht(d):(d=bu(Xe,ye),C=an([C=$o(Be,R,W)],W,c.precision)[0],Object.assign(C,{isShow:!0,__oprateType:"add",__vertexPosition:d}),de.push(C),Er("add",nr([C]))),Be=void 0)},daub(){Be=Be&&void 0;let d=Q.exports.cloneDeep(cn);v("update:daubStack",d.map(C=>C.map(T=>(T._x!=null&&T._y!=null?(delete T._x,delete T._y):(T.x=(T.x-R.x)/W,T.y=(T.y-R.y)/W),T))))},dot(){setTimeout(()=>{q.nextTick(()=>{let d=Q.exports.cloneDeep(Ee);v("update:dotList",d.map(C=>C))})},300)}}[c.mode](),F.resizeHovering=void 0,F.isDrawRecting=!1,Xe=Q.exports.cloneDeep(dn),ye=Q.exports.cloneDeep(dn),gn=Q.exports.cloneDeep(dn),fn.value.style.cursor="auto")}function Xr(s,d){var C=jn(ue);v("update:cropList",C),v("cropListChange",{type:s,list:d})}function Er(s,d){let C={type:s,list:d};if(s==="add"){let T=d.filter(L=>Reflect.get(L,"__parentCrop"))[0];T&&(C.parentCrop=jn([Reflect.get(T,"__parentCrop")])[0],delete T.__parentCrop)}v("tagListChange",C),s=nr(de),v("update:tagList",s)}function nr(s){let d=s||de,C=ue,T=[];return d.forEach(ee=>{let D=ee;if(!c.enableDrawTagOutOfCrop&&D.__oprateType&&D.__vertexPosition){if(ge=ot((ee=D,{x:(ge=(ge=D.__vertexPosition).split("-"))[0]==="left"?ee.startX:ee.endX,y:ge[1]==="top"?ee.startY:ee.endY}),C).boxList[0],!ge)return;ee=it(D,ge),ee&&Ho(ee)?(Object.assign(D,ee),D.__parentCrop=ge):D.__isValidity=!1}delete D.__oprateType,Reflect.deleteProperty(D,"__vertexPosition"),c.enableDrawTagOutOfCrop&&!c.enableDrawTagOutOfImg&&(ge={startX:0,startY:0,endX:(ee=Ae).width,endY:ee.height},(ee=it(D,ge))&&Ho(ee)?Object.assign(D,ee):D.__isValidity=!1);var ge,ee=Ln(D);T.push(qo(ee.info,c.precision))}),T.filter(L=>L.__isValidity!==!1)}function jn(s){return(s||ue).map(ge=>{let L=ge;c.enableDrawCropOutOfImg||(D={startX:0,startY:0,endX:(D=Ae).width,endY:D.height},(D=it(L,D))&&Ho(D)?L={...ge,...D}:L._del=!0),Reflect.deleteProperty(L,"__vertexPosition");var D,ge=Ln(L);return qo(ge.info,c.precision)}).filter(T=>!T._del)}function Nt(s){var d;Te&&fe&&X&&(d=new Date().getTime(),Y=d,I.prev.down?I.last.down=d:I.prev.down=d,d=Tn(d={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),Xe={x:d.layerX,y:d.layerY},gn=Q.exports.cloneDeep(Xe),c.mode=="daub"&&cn.push([]),c.mode==="crop"&&!b&&c.enableCropResize&&(s=Fo(d,ue,he,R,te)).hasIn&&(F.resizeHovering=Uo(s.list),v("resizeStart",{index:F.resizeHovering.index,box:ue[F.resizeHovering.index]})),c.mode==="tag"&&!b&&c.enableTagResize&&(s=Fo(d,de,he,R,te)).hasIn&&(F.resizeHovering=Uo(s.list),v("resizeStart",{index:F.resizeHovering.index,box:de[F.resizeHovering.index]})))}q.onBeforeUnmount(()=>{window.removeEventListener("resize",Pt),x.mobile()||(window.removeEventListener("keydown",At),window.removeEventListener("keyup",Bt)),xe()}),q.onMounted(()=>{vn.init(),window.addEventListener("resize",Pt)}),q.watch(()=>c.mode,s=>{s==="tag"&&(fn.value.style.cursor="auto")}),q.watch(()=>c.src,s=>{s&&vn.init()}),q.watch(()=>c.mobileOperation,s=>{Te&&Wt()}),q.watch(()=>c.tagList,s=>{Te&&(de=an(s,W,c.precision),Ie())},{deep:!0}),q.watch(()=>c.dotList,s=>{Te&&(Ee=jr(s,W,c.precision),Ie())},{deep:!0}),q.watch(()=>c.daubStack,s=>{Te&&(cn=Vo(Q.exports.cloneDeep(c.daubStack),R,W),Ie())},{deep:!0}),q.watch(()=>c.cropList,s=>{Te&&(ue=an(s,W,c.precision),Ie())});let Ft=Q.exports.throttle(function(s){if(s){s=ut(s,he,te,"over");let d=Q.exports.cloneDeep(s);d.x-=R.x,d.y-=R.y,d.x/=W,d.y/=W,v("mouseOverInfo",{canvas:s,img:d})}else v("mouseOverInfo",{canvas:null,img:null})},100,{leading:!1,trailing:!0});function Ut(s){Te&&(s=Tn(s={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),O=new Date().getTime(),yr.onMouseOverMove(s),Ft(s))}function $t(){var s;Te&&(s=new Date().getTime(),I.prev.up?I.last.up=s:I.prev.up=s,st())}function Zo(){Te&&(fn.value.style.cursor="auto",st(),Ft())}function Vt(){A&&clearTimeout(A),A=null}function Ir(s){if(wr(),Te){let d=ut(Tn({layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),he,te,"click");var s=O&&Y?O-Y:0;Y=void 0,O=void 0,100<s||(c.splitClickAndDoubleClickEvent?(Vt(),A=setTimeout(()=>{yr.onCick(d),A=null},230)):yr.onCick(d),s=c.splitClickAndDoubleClickEvent?320:360,I.prev.up&&I.prev.down&&I.last.up&&I.last.down&&(I.last.up-I.prev.down<s?(c.splitClickAndDoubleClickEvent&&Vt(),yr.onDoubleClick(d),I.prev.down=void 0,I.prev.up=void 0):(I.prev.down=I.last.down,I.prev.up=I.last.up),I.last.down=void 0,I.last.up=void 0))}}function Ko(s){wr(),Y=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Nt({layerX:d[0].clientX-((Ce==null?void 0:Ce.left)||0),layerY:d[0].clientY-((Ce==null?void 0:Ce.top)||0)}),s.touches.length==2){if(!Ce)throw new Error("can't find  containerInfo.");Ou(yu(s)),Jn={x:(d[0].clientX+d[1].clientX)/2,y:(d[0].clientY+d[1].clientY)/2}}}function Mr(s){O=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Ut({layerX:d[0].clientX-((Ce==null?void 0:Ce.left)||0),layerY:d[0].clientY-((Ce==null?void 0:Ce.top)||0)}),s.touches.length==2){if(!Ce)throw new Error("can't find  containerInfo.");var{width:d,height:s}=Ou(yu(s)),d=(s=s,Math.sqrt(Math.pow(d,2)+Math.pow(s,2))),s=-(d-Qn);Qn=d,lt({onTouchMove:!0,deltaY:s,preventDefault(){},stopPropagation(){},clientX:Jn.x,clientY:Jn.y})}}function qt(s){$t()}function pt(s){if(s.length!==0){let d=[],C=[];jn().forEach(L=>{(s.find(D=>(D=Ln(D).info,D.startX===L.startX&&D.endX===L.endX&&D.startY===L.startY&&D.endY===L.endY))?C:d).push(L)}),ue=an(d,W,c.precision),v("delCrop",C),Ie(),Xr("delete",jn(C))}}return p({render:Ie,removeTagItems:function(s){let d=[],C=[];s.length!==0&&nr().forEach(L=>{(s.find(D=>(D=Ln(D).info,D.startX===L.startX&&D.endX===L.endX&&D.startY===L.startY&&D.endY===L.endY))?C:d).push(L)}),de=an(d,W,c.precision),Ie(),Er("delete",C)},getTagListGroupByCropIndex:function(s="startPoint"){let d=nr(),C=jn();return d.forEach(T=>{var L;s==="startPoint"&&(L=ot({x:T.startX,y:T.startY},C),T.__groupIndex=L.indexList[0]),s==="allIn"&&(L=function(D,ge){let ee=[],me=[];return ge.forEach((We,Pe)=>{Yu(D,We)&&(me.push(We),ee.push(Pe))}),{boxList:me,indexList:ee}}(T,C),T.__groupIndex=L.indexList[0])}),Q.exports.groupBy(d,"__groupIndex")},getBase64ImageData:async function(s){const d=document.createElement("canvas");d.style.width=Ae.width+"px",d.style.height=Ae.height+"px",d.width=Ae.width,d.height=Ae.height;let C=d.getContext("2d");return hu(c.src,s).then(T=>{if(C){let L={x:0,y:0};return Lr(C,T,0,0,T.width,T.height),Gn(C,c.cropList,L,Se.value,void 0,!0),Bn(C,c.tagList,L,Se.value),c.daubStack.forEach(D=>{C&&Wo(C,D,L,Se.value)}),d.toDataURL("image/png")}throw new Error("ctx not exist")})},hooks:vn,scrollIntoView:Ke.scrollIntoView}),(s,d)=>(q.openBlock(),q.createElementBlock("div",{class:"comp-ocr-img",ref_key:"containerRef",ref:fn,onMousedown:Nt,onMouseenter:wr,onClick:Ir,onMouseup:$t,onMousemove:Ut,onMouseout:Zo,onMousewheel:lt,onTouchmove:q.withModifiers(Mr,["stop","prevent"]),onTouchstart:q.withModifiers(Ko,["stop"]),onTouchend:q.withModifiers(qt,["stop"])},[q.createElementVNode("canvas",{class:"canvas",ref_key:"canvasRef",ref:ct},null,512),q.createElementVNode("canvas",{class:"canvas2",ref_key:"canvas2Ref",ref:Mt},null,512),q.unref(c).isShowTip?(q.openBlock(),q.createElementBlock("div",Bc,[q.createElementVNode("div",Wc,[q.createElementVNode("div",{class:q.normalizeClass(["circle",{crop:o.mode==="crop",tag:o.mode==="tag"}])},null,2),q.createElementVNode("div",Pc,q.toDisplayString(o.mode==="crop"?"\u88C1\u526A\u6A21\u5F0F":"\u6807\u8BB0\u9519\u8BEF\u884C"),1)]),q.createElementVNode("div",Hc,[q.renderSlot(s.$slots,"tip",{},()=>[Nc,Fc,Uc,$c],!0)])])):q.createCommentVNode("",!0)],40,Ac))}}),Mn.ImgMark=Rr(at,[["__scopeId","data-v-2de84109"]]),Mn.boxIsAllInOtherBox=Yu,Mn.transformTagBoxRelativeTo=Tu,Mn.transformTagListBoxRelativeTo=function(o,p,v){return v.map(c=>Tu(o,p,c))},Object.defineProperties(Mn,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
