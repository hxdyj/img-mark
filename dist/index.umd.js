(function(Me,F){typeof exports=="object"&&typeof module!="undefined"?F(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],F):F((Me=typeof globalThis!="undefined"?globalThis:Me||self).kezhi={},Me.Vue)})(this,function(Me,F){"use strict";var Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Bl=window.device,C={},Bo=[],rt=(window.device=C,window.document.documentElement),Wl=window.navigator.userAgent.toLowerCase(),su=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function Wo(o,p){return o.indexOf(p)!==-1}function Ln(o){return Wo(Wl,o)}function pu(o){return rt.className.match(new RegExp(o,"i"))}function En(o){var p;pu(o)||(p=rt.className.replace(/^\s+|\s+$/g,""),rt.className=p+" "+o)}function hu(o){pu(o)&&(rt.className=rt.className.replace(" "+o,""))}function Yt(){C.landscape()?(hu("portrait"),En("landscape"),du("landscape")):(hu("landscape"),En("portrait"),du("portrait")),vu()}function du(o){for(var p=0;p<Bo.length;p++)Bo[p](o)}C.macos=function(){return Ln("mac")},C.ios=function(){return C.iphone()||C.ipod()||C.ipad()},C.iphone=function(){return!C.windows()&&Ln("iphone")},C.ipod=function(){return Ln("ipod")},C.ipad=function(){var o=navigator.platform==="MacIntel"&&1<navigator.maxTouchPoints;return Ln("ipad")||o},C.android=function(){return!C.windows()&&Ln("android")},C.androidPhone=function(){return C.android()&&Ln("mobile")},C.androidTablet=function(){return C.android()&&!Ln("mobile")},C.blackberry=function(){return Ln("blackberry")||Ln("bb10")},C.blackberryPhone=function(){return C.blackberry()&&!Ln("tablet")},C.blackberryTablet=function(){return C.blackberry()&&Ln("tablet")},C.windows=function(){return Ln("windows")},C.windowsPhone=function(){return C.windows()&&Ln("phone")},C.windowsTablet=function(){return C.windows()&&Ln("touch")&&!C.windowsPhone()},C.fxos=function(){return(Ln("(mobile")||Ln("(tablet"))&&Ln(" rv:")},C.fxosPhone=function(){return C.fxos()&&Ln("mobile")},C.fxosTablet=function(){return C.fxos()&&Ln("tablet")},C.meego=function(){return Ln("meego")},C.cordova=function(){return window.cordova&&location.protocol==="file:"},C.nodeWebkit=function(){return Al(window.process)==="object"},C.mobile=function(){return C.androidPhone()||C.iphone()||C.ipod()||C.windowsPhone()||C.blackberryPhone()||C.fxosPhone()||C.meego()},C.tablet=function(){return C.ipad()||C.androidTablet()||C.blackberryTablet()||C.windowsTablet()||C.fxosTablet()},C.desktop=function(){return!C.tablet()&&!C.mobile()},C.television=function(){for(var o=0;o<su.length;){if(Ln(su[o]))return!0;o++}return!1},C.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Wo(screen.orientation.type,"portrait"):C.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:1<window.innerHeight/window.innerWidth},C.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Wo(screen.orientation.type,"landscape"):C.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1},C.noConflict=function(){return window.device=Bl,this},C.ios()?C.ipad()?En("ios ipad tablet"):C.iphone()?En("ios iphone mobile"):C.ipod()&&En("ios ipod mobile"):C.macos()?En("macos desktop"):C.android()?C.androidTablet()?En("android tablet"):En("android mobile"):C.blackberry()?C.blackberryTablet()?En("blackberry tablet"):En("blackberry mobile"):C.windows()?C.windowsTablet()?En("windows tablet"):C.windowsPhone()?En("windows mobile"):En("windows desktop"):C.fxos()?C.fxosTablet()?En("fxos tablet"):En("fxos mobile"):C.meego()?En("meego mobile"):C.nodeWebkit()?En("node-webkit"):C.television()?En("television"):C.desktop()&&En("desktop"),C.cordova()&&En("cordova"),C.onChangeOrientation=function(o){typeof o=="function"&&Bo.push(o)};var Ir="resize";function Po(o){for(var p=0;p<o.length;p++)if(C[o[p]]())return o[p];return"unknown"}function vu(){C.orientation=Po(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Ir="orientationchange"),window.addEventListener?window.addEventListener(Ir,Yt,!1):window.attachEvent?window.attachEvent(Ir,Yt):window[Ir]=Yt,Yt(),C.type=Po(["mobile","tablet","desktop"]),C.os=Po(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),vu();var Lt,Tt,tt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},G={exports:{}};Tt=(Lt=G).exports,function(){var o,p="Expected a function",g="__lodash_hash_undefined__",l="__lodash_placeholder__",m=128,L=9007199254740991,z=NaN,A=4294967295,B=[["ary",m],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],E="[object Arguments]",q="[object Array]",ne="[object Boolean]",Kn="[object Date]",Cn="[object Error]",Tn="[object Function]",fn="[object GeneratorFunction]",I="[object Map]",hn="[object Number]",Z="[object Object]",jn="[object Promise]",Mn="[object RegExp]",wn="[object Set]",ve="[object String]",nr="[object Symbol]",er="[object WeakMap]",R="[object ArrayBuffer]",tn="[object DataView]",W="[object Float32Array]",Ce="[object Float64Array]",Se="[object Int8Array]",rr="[object Int16Array]",Sn="[object Int32Array]",sn="[object Uint8Array]",Pn="[object Uint8ClampedArray]",dn="[object Uint16Array]",an="[object Uint32Array]",Rn=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xn=/&(?:amp|lt|gt|quot|#39);/g,ce=/[&<>"']/g,Et=RegExp(xn.source),Mt=RegExp(ce.source),U=/<%-([\s\S]+?)%>/g,Gn=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/[\\^$.*+?()[\]{}|]/g,Go=RegExp(We.source),je=/^\s+/,Nn=/\s/,Wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pt=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yr=/[()=,{}\[\]\/\s]/,Xr=/\\(\\)?/g,Er=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pe=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,Ut=/^0o[0-7]+$/i,$t=/^(?:0|[1-9]\d*)$/,Jo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wr=/($^)/,Qo=/['\n\r\u2028\u2029\\]/g,Mr="\\ud800-\\udfff",Vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",d="\\u2700-\\u27bf",ur="a-z\\xdf-\\xf6\\xf8-\\xff",x="A-Z\\xc0-\\xd6\\xd8-\\xde",qt="\\ufe0e\\ufe0f",k="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zt="['\u2019]",ee="["+Mr+"]",Kt="["+k+"]",Ar="["+Vt+"]",Bn="["+d+"]",s="["+ur+"]",k="[^"+Mr+k+"\\d+"+d+ur+x+"]",d="\\ud83c[\\udffb-\\udfff]",ur="[^"+Mr+"]",pt="(?:\\ud83c[\\udde6-\\uddff]){2}",xr="[\\ud800-\\udbff][\\udc00-\\udfff]",x="["+x+"]",D="\\u200d",T="(?:"+s+"|"+k+")",k="(?:"+x+"|"+k+")",vn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",nn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",An="(?:"+Ar+"|"+d+")?",Dn="["+qt+"]?",Dn=Dn+An+("(?:"+D+"(?:"+[ur,pt,xr].join("|")+")"+Dn+An+")*"),An="(?:"+[Bn,pt,xr].join("|")+")"+Dn,Bn="(?:"+[ur+Ar+"?",Ar,pt,xr,ee].join("|")+")",_n=RegExp(Zt,"g"),st=RegExp(Ar,"g"),or=RegExp(d+"(?="+d+")|"+Bn+Dn,"g"),ir=RegExp([x+"?"+s+"+"+vn+"(?="+[Kt,x,"$"].join("|")+")",k+"+"+nn+"(?="+[Kt,x+T,"$"].join("|")+")",x+"?"+T+"+"+vn,x+"+"+nn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",An].join("|"),"g"),Gt=RegExp("["+D+Mr+Vt+qt+"]"),br=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ni=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kl=-1,mn={},bn=(mn[W]=mn[Ce]=mn[Se]=mn[rr]=mn[Sn]=mn[sn]=mn[Pn]=mn[dn]=mn[an]=!0,mn[E]=mn[q]=mn[R]=mn[ne]=mn[tn]=mn[Kn]=mn[Cn]=mn[Tn]=mn[I]=mn[hn]=mn[Z]=mn[Mn]=mn[wn]=mn[ve]=mn[er]=!1,{}),Gl=(bn[E]=bn[q]=bn[R]=bn[tn]=bn[ne]=bn[Kn]=bn[W]=bn[Ce]=bn[Se]=bn[rr]=bn[Sn]=bn[I]=bn[hn]=bn[Z]=bn[Mn]=bn[wn]=bn[ve]=bn[nr]=bn[sn]=bn[Pn]=bn[dn]=bn[an]=!0,bn[Cn]=bn[Tn]=bn[er]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Jl=parseFloat,Ql=parseInt,ur=typeof tt=="object"&&tt&&tt.Object===Object&&tt,pt=typeof self=="object"&&self&&self.Object===Object&&self,Fn=ur||pt||Function("return this")(),xr=Tt&&!Tt.nodeType&&Tt,mr=xr&&Lt&&!Lt.nodeType&&Lt,Xu=mr&&mr.exports===xr,ei=Xu&&ur.process,ee=function(){try{var v=mr&&mr.require&&mr.require("util").types;return v||ei&&ei.binding&&ei.binding("util")}catch{}}(),Eu=ee&&ee.isArrayBuffer,Mu=ee&&ee.isDate,Au=ee&&ee.isMap,Bu=ee&&ee.isRegExp,Wu=ee&&ee.isSet,Pu=ee&&ee.isTypedArray;function fe(v,Y,y){switch(y.length){case 0:return v.call(Y);case 1:return v.call(Y,y[0]);case 2:return v.call(Y,y[0],y[1]);case 3:return v.call(Y,y[0],y[1],y[2])}return v.apply(Y,y)}function nc(v,Y,y,H){for(var J=-1,on=v==null?0:v.length;++J<on;){var rn=v[J];Y(H,rn,y(rn),v)}return H}function ge(v,Y){for(var y=-1,H=v==null?0:v.length;++y<H&&Y(v[y],y,v)!==!1;);return v}function ec(v,Y){for(var y=v==null?0:v.length;y--&&Y(v[y],y,v)!==!1;);return v}function Hu(v,Y){for(var y=-1,H=v==null?0:v.length;++y<H;)if(!Y(v[y],y,v))return!1;return!0}function ar(v,Y){for(var y=-1,H=v==null?0:v.length,J=0,on=[];++y<H;){var rn=v[y];Y(rn,y,v)&&(on[J++]=rn)}return on}function Jt(v,Y){return!!(v!=null&&v.length)&&-1<Br(v,Y,0)}function ri(v,Y,y){for(var H=-1,J=v==null?0:v.length;++H<J;)if(y(Y,v[H]))return!0;return!1}function kn(v,Y){for(var y=-1,H=v==null?0:v.length,J=Array(H);++y<H;)J[y]=Y(v[y],y,v);return J}function lr(v,Y){for(var y=-1,H=Y.length,J=v.length;++y<H;)v[J+y]=Y[y];return v}function ti(v,Y,y,H){var J=-1,on=v==null?0:v.length;for(H&&on&&(y=v[++J]);++J<on;)y=Y(y,v[J],J,v);return y}function rc(v,Y,y,H){var J=v==null?0:v.length;for(H&&J&&(y=v[--J]);J--;)y=Y(y,v[J],J,v);return y}function oi(v,Y){for(var y=-1,H=v==null?0:v.length;++y<H;)if(Y(v[y],y,v))return!0;return!1}var tc=ii("length");function Nu(v,Y,y){var H;return y(v,function(J,on,rn){if(Y(J,on,rn))return H=on,!1}),H}function Qt(v,Y,y,H){for(var J=v.length,on=y+(H?1:-1);H?on--:++on<J;)if(Y(v[on],on,v))return on;return-1}function Br(v,Y,y){if(Y!=Y)return Qt(v,Fu,y);for(var H=v,J=Y,on=y-1,rn=H.length;++on<rn;)if(H[on]===J)return on;return-1}function oc(v,Y,y,H){for(var J=y-1,on=v.length;++J<on;)if(H(v[J],Y))return J;return-1}function Fu(v){return v!=v}function Uu(v,Y){var y=v==null?0:v.length;return y?ai(v,Y)/y:z}function ii(v){return function(Y){return Y==null?o:Y[v]}}function ui(v){return function(Y){return v==null?o:v[Y]}}function $u(v,Y,y,H,J){return J(v,function(on,rn,dt){y=H?(H=!1,on):Y(y,on,rn,dt)}),y}function ai(v,Y){for(var y,H=-1,J=v.length;++H<J;){var on=Y(v[H]);on!==o&&(y=y===o?on:y+on)}return y}function li(v,Y){for(var y=-1,H=Array(v);++y<v;)H[y]=Y(y);return H}function Vu(v){return v&&v.slice(0,Gu(v)+1).replace(je,"")}function se(v){return function(Y){return v(Y)}}function ci(v,Y){return kn(Y,function(y){return v[y]})}function ht(v,Y){return v.has(Y)}function qu(v,Y){for(var y=-1,H=v.length;++y<H&&-1<Br(Y,v[y],0););return y}function Zu(v,Y){for(var y=v.length;y--&&-1<Br(Y,v[y],0););return y}var ic=ui({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),uc=ui({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ac(v){return"\\"+Gl[v]}function Wr(v){return Gt.test(v)}function fi(v){var Y=-1,y=Array(v.size);return v.forEach(function(H,J){y[++Y]=[J,H]}),y}function Ku(v,Y){return function(y){return v(Y(y))}}function cr(v,Y){for(var y=-1,H=v.length,J=0,on=[];++y<H;){var rn=v[y];rn!==Y&&rn!==l||(v[y]=l,on[J++]=y)}return on}function no(v){var Y=-1,y=Array(v.size);return v.forEach(function(H){y[++Y]=H}),y}function Pr(v){return(Wr(v)?function(Y){for(var y=or.lastIndex=0;or.test(Y);)++y;return y}:tc)(v)}function De(v){return Wr(v)?v.match(or)||[]:v.split("")}function Gu(v){for(var Y=v.length;Y--&&Nn.test(v.charAt(Y)););return Y}var lc=ui({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Hr=function v(pn){var y=(pn=pn==null?Fn:Hr.defaults(Fn.Object(),pn,Hr.pick(Fn,ni))).Array,Re=pn.Date,H=pn.Error,J=pn.Function,on=pn.Math,rn=pn.Object,dt=pn.RegExp,cc=pn.String,_e=pn.TypeError,eo=y.prototype,xe=J.prototype,Nr=rn.prototype,Fr=pn["__core-js_shared__"],ro=xe.toString,yn=Nr.hasOwnProperty,fc=0,Ju=(xe=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||""))?"Symbol(src)_1."+xe:"",to=Nr.toString,sc=ro.call(rn),pc=Fn._,hc=dt("^"+ro.call(yn).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=Xu?pn.Buffer:o,$n=pn.Symbol,oo=pn.Uint8Array,Qu=xe?xe.allocUnsafe:o,io=Ku(rn.getPrototypeOf,rn),na=rn.create,ea=Nr.propertyIsEnumerable,uo=eo.splice,ra=$n?$n.isConcatSpreadable:o,vt=$n?$n.iterator:o,Cr=$n?$n.toStringTag:o,ao=function(){try{var n=zr(rn,"defineProperty");return n({},"",{}),n}catch{}}(),Ur=pn.clearTimeout!==Fn.clearTimeout&&pn.clearTimeout,Vi=Re&&Re.now!==Fn.Date.now&&Re.now,si=pn.setTimeout!==Fn.setTimeout&&pn.setTimeout,lo=on.ceil,co=on.floor,pi=rn.getOwnPropertySymbols,xe=xe?xe.isBuffer:o,ta=pn.isFinite,dc=eo.join,vc=Ku(rn.keys,rn),Wn=on.max,Vn=on.min,gc=Re.now,_c=pn.parseInt,oa=on.random,yc=eo.reverse,Re=zr(pn,"DataView"),gt=zr(pn,"Map"),_t=zr(pn,"Promise"),$r=zr(pn,"Set"),pn=zr(pn,"WeakMap"),yt=zr(rn,"create"),fo=pn&&new pn,Vr={},wc=Yr(Re),bc=Yr(gt),xc=Yr(_t),mc=Yr($r),Cc=Yr(pn),$n=$n?$n.prototype:o,wt=$n?$n.valueOf:o,ia=$n?$n.toString:o;function u(n){if(Yn(n)&&!Q(n)&&!(n instanceof ln)){if(n instanceof Oe)return n;if(yn.call(n,"__wrapped__"))return ul(n)}return new Oe(n)}var qr=function(n){return On(n)?na?na(n):(hi.prototype=n,n=new hi,hi.prototype=o,n):{}};function hi(){}function so(){}function Oe(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function ln(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function Sr(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var t=n[e];this.set(t[0],t[1])}}function Ne(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var t=n[e];this.set(t[0],t[1])}}function Fe(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var t=n[e];this.set(t[0],t[1])}}function kr(n){var e=-1,r=n==null?0:n.length;for(this.__data__=new Fe;++e<r;)this.add(n[e])}function ze(n){n=this.__data__=new Ne(n),this.size=n.size}function ua(n,e){var r,t=Q(n),i=!t&&Lr(n),a=!t&&!i&&dr(n),c=!t&&!i&&!a&&Jr(n),f=t||i||a||c,h=f?li(n.length,cc):[],_=h.length;for(r in n)!e&&!yn.call(n,r)||f&&(r=="length"||a&&(r=="offset"||r=="parent")||c&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||qe(r,_))||h.push(r);return h}function aa(n){var e=n.length;return e?n[Si(0,e-1)]:o}function Sc(n,e){return Do(re(n),Dr(e,0,n.length))}function kc(n){return Do(re(n))}function di(n,e,r){(r===o||Ye(n[e],r))&&(r!==o||e in n)||Ue(n,e,r)}function bt(n,e,r){var t=n[e];yn.call(n,e)&&Ye(t,r)&&(r!==o||e in n)||Ue(n,e,r)}function po(n,e){for(var r=n.length;r--;)if(Ye(n[r][0],e))return r;return-1}function Dc(n,e,r,t){return fr(n,function(i,a,c){e(t,i,r(i),c)}),t}function la(n,e){return n&&Xe(e,Hn(e),n)}function Ue(n,e,r){e=="__proto__"&&ao?ao(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}function vi(n,e){for(var r=-1,t=e.length,i=y(t),a=n==null;++r<t;)i[r]=a?o:Ji(n,e[r]);return i}function Dr(n,e,r){return n==n&&(r!==o&&(n=n<=r?n:r),e!==o&&(n=e<=n?n:e)),n}function ye(n,e,r,b,i,a){var c,f=1&e,h=2&e,_=4&e;if((c=r?i?r(n,b,i,a):r(n):c)!==o)return c;if(!On(n))return n;var w,b=Q(n);if(b){if(c=function(X){var O=X.length,j=new X.constructor(O);return O&&typeof X[0]=="string"&&yn.call(X,"index")&&(j.index=X.index,j.input=X.input),j}(n),!f)return re(n,c)}else{var S=qn(n),P=S==Tn||S==fn;if(dr(n))return ja(n,f);if(S==Z||S==E||P&&!i){if(c=h||P?{}:Ga(n),!f)return h?(M=P=n,M=(w=c)&&Xe(M,oe(M),w),Xe(P,Za(P),M)):(P=la(c,w=n),Xe(w,Ai(w),P))}else{if(!bn[S])return i?n:{};c=function(X,O,j){var N=X.constructor;switch(O){case R:return Ti(X);case ne:case Kn:return new N(+X);case tn:return function(K,cn){return cn=cn?Ti(K.buffer):K.buffer,new K.constructor(cn,K.byteOffset,K.byteLength)}(X,j);case W:case Ce:case Se:case rr:case Sn:case sn:case Pn:case dn:case an:return Ra(X,j);case I:return new N;case hn:case ve:return new N(X);case Mn:return function(K){var cn=new K.constructor(K.source,Pe.exec(K));return cn.lastIndex=K.lastIndex,cn}(X);case wn:return new N;case nr:return function(K){return wt?rn(wt.call(K)):{}}(X)}}(n,S,f)}}var M=(a=a||new ze).get(n);if(M)return M;a.set(n,c),Sl(n)?n.forEach(function(X){c.add(ye(X,e,r,X,n,a))}):ml(n)&&n.forEach(function(X,O){c.set(O,ye(X,e,r,O,n,a))});var V=b?o:(_?h?Xi:Ii:h?oe:Hn)(n);return ge(V||n,function(X,O){V&&(X=n[O=X]),bt(c,O,ye(X,e,r,O,n,a))}),c}function ca(n,e,r){var t=r.length;if(n==null)return!t;for(n=rn(n);t--;){var i=r[t],a=e[i],c=n[i];if(c===o&&!(i in n)||!a(c))return!1}return!0}function fa(n,e,r){if(typeof n!="function")throw new _e(p);return Ot(function(){n.apply(o,r)},e)}function xt(n,e,r,t){var i=-1,a=Jt,c=!0,f=n.length,h=[],_=e.length;if(!f)return h;r&&(e=kn(e,se(r))),t?(a=ri,c=!1):200<=e.length&&(a=ht,c=!1,e=new kr(e));n:for(;++i<f;){var b=n[i],w=r==null?b:r(b),b=t||b!==0?b:0;if(c&&w==w){for(var S=_;S--;)if(e[S]===w)continue n;h.push(b)}else a(e,w,t)||h.push(b)}return h}u.templateSettings={escape:U,evaluate:Gn,interpolate:tr,variable:"",imports:{_:u}},(u.prototype=so.prototype).constructor=u,(Oe.prototype=qr(so.prototype)).constructor=Oe,(ln.prototype=qr(so.prototype)).constructor=ln,Sr.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},Sr.prototype.delete=function(n){return n=this.has(n)&&delete this.__data__[n],this.size-=n?1:0,n},Sr.prototype.get=function(n){var e,r=this.__data__;return yt?(e=r[n])===g?o:e:yn.call(r,n)?r[n]:o},Sr.prototype.has=function(n){var e=this.__data__;return yt?e[n]!==o:yn.call(e,n)},Sr.prototype.set=function(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=yt&&e===o?g:e,this},Ne.prototype.clear=function(){this.__data__=[],this.size=0},Ne.prototype.delete=function(n){var e=this.__data__;return!((n=po(e,n))<0)&&(n==e.length-1?e.pop():uo.call(e,n,1),--this.size,!0)},Ne.prototype.get=function(n){var e=this.__data__;return(n=po(e,n))<0?o:e[n][1]},Ne.prototype.has=function(n){return-1<po(this.__data__,n)},Ne.prototype.set=function(n,e){var r=this.__data__,t=po(r,n);return t<0?(++this.size,r.push([n,e])):r[t][1]=e,this},Fe.prototype.clear=function(){this.size=0,this.__data__={hash:new Sr,map:new(gt||Ne),string:new Sr}},Fe.prototype.delete=function(n){return n=ko(this,n).delete(n),this.size-=n?1:0,n},Fe.prototype.get=function(n){return ko(this,n).get(n)},Fe.prototype.has=function(n){return ko(this,n).has(n)},Fe.prototype.set=function(n,e){var r=ko(this,n),t=r.size;return r.set(n,e),this.size+=r.size==t?0:1,this},kr.prototype.add=kr.prototype.push=function(n){return this.__data__.set(n,g),this},kr.prototype.has=function(n){return this.__data__.has(n)},ze.prototype.clear=function(){this.__data__=new Ne,this.size=0},ze.prototype.delete=function(r){var e=this.__data__,r=e.delete(r);return this.size=e.size,r},ze.prototype.get=function(n){return this.__data__.get(n)},ze.prototype.has=function(n){return this.__data__.has(n)},ze.prototype.set=function(n,e){var r=this.__data__;if(r instanceof Ne){var t=r.__data__;if(!gt||t.length<199)return t.push([n,e]),this.size=++r.size,this;r=this.__data__=new Fe(t)}return r.set(n,e),this.size=r.size,this};var fr=Ma(Ie),sa=Ma(_i,!0);function Oc(n,e){var r=!0;return fr(n,function(t,i,a){return r=!!e(t,i,a)}),r}function ho(n,e,r){for(var t=-1,i=n.length;++t<i;){var a,c,f=n[t],h=e(f);h!=null&&(a===o?h==h&&!he(h):r(h,a))&&(a=h,c=f)}return c}function pa(n,e){var r=[];return fr(n,function(t,i,a){e(t,i,a)&&r.push(t)}),r}function Un(n,e,r,t,i){var a=-1,c=n.length;for(r=r||Bc,i=i||[];++a<c;){var f=n[a];0<e&&r(f)?1<e?Un(f,e-1,r,t,i):lr(i,f):t||(i[i.length]=f)}return i}var gi=Aa(),ha=Aa(!0);function Ie(n,e){return n&&gi(n,e,Hn)}function _i(n,e){return n&&ha(n,e,Hn)}function vo(n,e){return ar(e,function(r){return Ze(n[r])})}function Or(n,e){for(var r=0,t=(e=pr(e,n)).length;n!=null&&r<t;)n=n[Ee(e[r++])];return r&&r==t?n:o}function da(n,e,r){return e=e(n),Q(n)?e:lr(e,r(n))}function Jn(n){{if(n==null)return n===o?"[object Undefined]":"[object Null]";if(Cr&&Cr in rn(n)){var e=n,r=yn.call(e,Cr),t=e[Cr];try{e[Cr]=o;var i=!0}catch{}var a=to.call(e);return i&&(r?e[Cr]=t:delete e[Cr]),a}return to.call(n)}}function yi(n,e){return e<n}function zc(n,e){return n!=null&&yn.call(n,e)}function Yc(n,e){return n!=null&&e in rn(n)}function wi(n,e,r){for(var t=r?ri:Jt,i=n[0].length,a=n.length,c=a,f=y(a),h=1/0,_=[];c--;){var w=n[c];c&&e&&(w=kn(w,se(e))),h=Vn(w.length,h),f[c]=!r&&(e||120<=i&&120<=w.length)?new kr(c&&w):o}var w=n[0],b=-1,S=f[0];n:for(;++b<i&&_.length<h;){var M=w[b],P=e?e(M):M,M=r||M!==0?M:0;if(!(S?ht(S,P):t(_,P,r))){for(c=a;--c;){var V=f[c];if(!(V?ht(V,P):t(n[c],P,r)))continue n}S&&S.push(P),_.push(M)}}return _}function mt(n,e,r){return e=(n=el(n,e=pr(e,n)))==null?n:n[Ee(be(e))],e==null?o:fe(e,n,r)}function va(n){return Yn(n)&&Jn(n)==E}function Ct(n,e,r,t,i){{if(n===e)return!0;if(n==null||e==null||!Yn(n)&&!Yn(e))return n!=n&&e!=e;var a=Ct,c=Q(n),w=Q(e),f=c?q:qn(n),w=w?q:qn(e),h=(f=f==E?Z:f)==Z,_=(w=w==E?Z:w)==Z,w;if((w=f==w)&&dr(n)){if(!dr(e))return!1;h=!(c=!0)}if(w&&!h){if(i=i||new ze,c||Jr(n))return qa(n,e,r,t,a,i);var b=n,S=e,P=f,M=r,V=t,X=a,O=i;switch(P){case tn:if(b.byteLength!=S.byteLength||b.byteOffset!=S.byteOffset)return!1;b=b.buffer,S=S.buffer;case R:return!!(b.byteLength==S.byteLength&&X(new oo(b),new oo(S)));case ne:case Kn:case hn:return Ye(+b,+S);case Cn:return b.name==S.name&&b.message==S.message;case Mn:case ve:return b==S+"";case I:var j=fi;case wn:var N=1&M;return j=j||no,b.size!=S.size&&!N?!1:(N=O.get(b),N?N==S:(M|=2,O.set(b,S),N=qa(j(b),j(S),M,V,X,O),O.delete(b),N));case nr:if(wt)return wt.call(b)==wt.call(S)}return!1}if(!(1&r)&&(c=h&&yn.call(n,"__wrapped__"),f=_&&yn.call(e,"__wrapped__"),c||f))return h=c?n.value():n,_=f?e.value():e,i=i||new ze,a(h,_,r,t,i);if(w){i=i||new ze;var K=n,cn=e,zn=r,ue=t,Xn=a,Zn=i,nt=1&zn,et=Ii(K),lu=et.length,c=Ii(cn).length;if(lu!=c&&!nt)return!1;for(var Xo=lu;Xo--;){var vr=et[Xo];if(!(nt?vr in cn:yn.call(cn,vr)))return!1}if(c=Zn.get(K),f=Zn.get(cn),c&&f)return c==cn&&f==K;for(var Eo=!0,cu=(Zn.set(K,cn),Zn.set(cn,K),nt);++Xo<lu;){vr=et[Xo];var fu,Mo=K[vr],Ao=cn[vr];if(!((fu=ue?nt?ue(Ao,Mo,vr,cn,K,Zn):ue(Mo,Ao,vr,K,cn,Zn):fu)===o?Mo===Ao||Xn(Mo,Ao,zn,ue,Zn):fu)){Eo=!1;break}cu=cu||vr=="constructor"}return Eo&&!cu&&(c=K.constructor,f=cn.constructor,c!=f&&"constructor"in K&&"constructor"in cn&&!(typeof c=="function"&&c instanceof c&&typeof f=="function"&&f instanceof f)&&(Eo=!1)),Zn.delete(K),Zn.delete(cn),Eo}return!1}}function bi(n,e,r,t){var i=r.length,a=i,c=!t;if(n==null)return!a;for(n=rn(n);i--;){var f=r[i];if(c&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++i<a;){var h=(f=r[i])[0],_=n[h],w=f[1];if(c&&f[2]){if(_===o&&!(h in n))return!1}else{var b,S=new ze;if(!((b=t?t(_,w,h,n,e,S):b)===o?Ct(w,_,3,t,S):b))return!1}}return!0}function ga(n){return!(!On(n)||(e=n,Ju&&Ju in e))&&(Ze(n)?hc:Ft).test(Yr(n));var e}function _a(n){return typeof n=="function"?n:n==null?ie:typeof n=="object"?Q(n)?ba(n[0],n[1]):wa(n):Ml(n)}function xi(n){if(!Dt(n))return vc(n);var e,r=[];for(e in rn(n))yn.call(n,e)&&e!="constructor"&&r.push(e);return r}function Lc(n){if(!On(n)){var e=n,r=[];if(e!=null)for(var t in rn(e))r.push(t);return r}var i,a=Dt(n),c=[];for(i in n)(i!="constructor"||!a&&yn.call(n,i))&&c.push(i);return c}function mi(n,e){return n<e}function ya(n,e){var r=-1,t=te(n)?y(n.length):[];return fr(n,function(i,a,c){t[++r]=e(i,a,c)}),t}function wa(n){var e=Mi(n);return e.length==1&&e[0][2]?Qa(e[0][0],e[0][1]):function(r){return r===n||bi(r,n,e)}}function ba(n,e){return Bi(n)&&Ja(e)?Qa(Ee(n),e):function(r){var t=Ji(r,n);return t===o&&t===e?Qi(r,n):Ct(e,t,3)}}function go(n,e,r,t,i){n!==e&&gi(e,function(a,c){var f,h,_,w,b,S,P,M,V,X,O,j,N;i=i||new ze,On(a)?(h=e,w=r,b=go,S=t,P=i,O=Pi(f=n,_=c),j=Pi(h,_),(N=P.get(j))||(N=S?S(O,j,_+"",f,h,P):o,(h=N===o)&&(M=Q(j),V=!M&&dr(j),X=!M&&!V&&Jr(j),N=j,M||V||X?N=Q(O)?O:In(O)?re(O):V?ja(j,!(h=!1)):X?Ra(j,!(h=!1)):[]:zt(j)||Lr(j)?Lr(N=O)?N=Ol(O):On(O)&&!Ze(O)||(N=Ga(j)):h=!1),h&&(P.set(j,N),b(N,j,w,S,P),P.delete(j))),di(f,_,N)):(M=t?t(Pi(n,c),a,c+"",n,e,i):o,di(n,c,M=M===o?a:M))},oe)}function xa(n,e){var r=n.length;if(r)return qe(e+=e<0?r:0,r)?n[e]:o}function ma(a,e,r){e=e.length?kn(e,function(f){return Q(f)?function(h){return Or(h,f.length===1?f[0]:f)}:f}):[ie];var t=-1;e=kn(e,se($()));var i=ya(a,function(f,h,_){return{criteria:kn(e,function(w){return w(f)}),index:++t,value:f}}),a=function(f,h){for(var _=r,w=-1,b=f.criteria,S=h.criteria,P=b.length,M=_.length;++w<P;){var V=Ia(b[w],S[w]);if(V){if(M<=w)return V;var X=_[w];return V*(X=="desc"?-1:1)}}return f.index-h.index},c=i.length;for(i.sort(a);c--;)i[c]=i[c].value;return i}function Ca(n,e,r){for(var t=-1,i=e.length,a={};++t<i;){var c=e[t],f=Or(n,c);r(f,c)&&St(a,pr(c,n),f)}return a}function Ci(n,e,r,t){var i=t?oc:Br,a=-1,c=e.length,f=n;for(n===e&&(e=re(e)),r&&(f=kn(n,se(r)));++a<c;)for(var h=0,_=e[a],w=r?r(_):_;-1<(h=i(f,w,h,t));)f!==n&&uo.call(f,h,1),uo.call(n,h,1);return n}function Sa(n,e){for(var r=n?e.length:0,t=r-1;r--;){var i,a=e[r];r!=t&&a===i||(qe(i=a)?uo.call(n,a,1):Oi(n,a))}}function Si(n,e){return n+co(oa()*(e-n+1))}function ki(n,e){var r="";if(!n||e<1||L<e)return r;for(;e%2&&(r+=n),(e=co(e/2))&&(n+=n),e;);return r}function un(n,e){return Hi(nl(n,e,ie),n+"")}function Tc(n){return aa(Qr(n))}function jc(n,e){return n=Qr(n),Do(n,Dr(e,0,n.length))}function St(n,e,r,t){if(!On(n))return n;for(var i=-1,a=(e=pr(e,n)).length,c=a-1,f=n;f!=null&&++i<a;){var h,_=Ee(e[i]),w=r;if(_==="__proto__"||_==="constructor"||_==="prototype")return n;i!=c&&(h=f[_],(w=t?t(h,_,f):o)===o&&(w=On(h)?h:qe(e[i+1])?[]:{})),bt(f,_,w),f=f[_]}return n}var ka=fo?function(n,e){return fo.set(n,e),n}:ie,$n=ao?function(n,e){return ao(n,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:ie;function Rc(n){return Do(Qr(n))}function we(n,e,r){for(var t=-1,i=n.length,a=((r=i<r?i:r)<0&&(r+=i),i=r<(e=e<0?i<-e?0:i+e:e)?0:r-e>>>0,e>>>=0,y(i));++t<i;)a[t]=n[t+e];return a}function Ic(n,e){var r;return fr(n,function(t,i,a){return!(r=e(t,i,a))}),!!r}function _o(n,e,r){var t=0,i=n==null?t:n.length;if(typeof e=="number"&&e==e&&i<=2147483647){for(;t<i;){var a=t+i>>>1,c=n[a];c!==null&&!he(c)&&(r?c<=e:c<e)?t=1+a:i=a}return i}return Di(n,e,ie,r)}function Di(n,e,r,t){var i=0,a=n==null?0:n.length;if(a===0)return 0;for(var c=(e=r(e))!=e,f=e===null,h=he(e),_=e===o;i<a;){var w=co((i+a)/2),b=r(n[w]),S=b!==o,P=b===null,V=b==b,M=he(b),V=c?t||V:_?V&&(t||S):f?V&&S&&(t||!P):h?V&&S&&!P&&(t||!M):!P&&!M&&(t?b<=e:b<e);V?i=w+1:a=w}return Vn(a,4294967294)}function Da(n,e){for(var r=-1,t=n.length,i=0,a=[];++r<t;){var c,f=n[r],h=e?e(f):f;r&&Ye(h,c)||(c=h,a[i++]=f===0?0:f)}return a}function Oa(n){return typeof n=="number"?n:he(n)?z:+n}function pe(n){if(typeof n=="string")return n;if(Q(n))return kn(n,pe)+"";if(he(n))return ia?ia.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function sr(n,e,r){var t=-1,i=Jt,a=n.length,c=!0,f=[],h=f;if(r)c=!1,i=ri;else if(200<=a){var _=e?null:Mc(n);if(_)return no(_);c=!1,i=ht,h=new kr}else h=e?[]:f;n:for(;++t<a;){var b=n[t],w=e?e(b):b,b=r||b!==0?b:0;if(c&&w==w){for(var S=h.length;S--;)if(h[S]===w)continue n;e&&h.push(w),f.push(b)}else i(h,w,r)||(h!==f&&h.push(w),f.push(b))}return f}function Oi(n,e){return(n=el(n,e=pr(e,n)))==null||delete n[Ee(be(e))]}function za(n,e,r,t){return St(n,e,r(Or(n,e)),t)}function yo(n,e,r,t){for(var i=n.length,a=t?i:-1;(t?a--:++a<i)&&e(n[a],a,n););return r?we(n,t?0:a,t?a+1:i):we(n,t?a+1:0,t?i:a)}function Ya(n,e){var r=n;return ti(e,function(t,i){return i.func.apply(i.thisArg,lr([t],i.args))},r=n instanceof ln?n.value():r)}function zi(n,e,r){var t=n.length;if(t<2)return t?sr(n[0]):[];for(var i=-1,a=y(t);++i<t;)for(var c=n[i],f=-1;++f<t;)f!=i&&(a[i]=xt(a[i]||c,n[f],e,r));return sr(Un(a,1),e,r)}function La(n,e,r){for(var t=-1,i=n.length,a=e.length,c={};++t<i;){var f=t<a?e[t]:o;r(c,n[t],f)}return c}function Yi(n){return In(n)?n:[]}function Li(n){return typeof n=="function"?n:ie}function pr(n,e){return Q(n)?n:Bi(n,e)?[n]:il(gn(n))}var qi=un;function hr(n,e,r){var t=n.length;return r=r===o?t:r,!e&&t<=r?n:we(n,e,r)}var Ta=Ur||function(n){return Fn.clearTimeout(n)};function ja(n,e){return e?n.slice():(e=n.length,e=Qu?Qu(e):new n.constructor(e),n.copy(e),e)}function Ti(n){var e=new n.constructor(n.byteLength);return new oo(e).set(new oo(n)),e}function Ra(n,e){return e=e?Ti(n.buffer):n.buffer,new n.constructor(e,n.byteOffset,n.length)}function Ia(n,e){if(n!==e){var r=n!==o,t=n===null,i=n==n,a=he(n),c=e!==o,f=e===null,h=e==e,_=he(e);if(!f&&!_&&!a&&e<n||a&&c&&h&&!f&&!_||t&&c&&h||!r&&h||!i)return 1;if(!t&&!a&&!_&&n<e||_&&r&&i&&!t&&!a||f&&r&&i||!c&&i||!h)return-1}return 0}function Xa(n,e,r,t){for(var i=-1,a=n.length,c=r.length,f=-1,h=e.length,_=Wn(a-c,0),w=y(h+_),b=!t;++f<h;)w[f]=e[f];for(;++i<c;)(b||i<a)&&(w[r[i]]=n[i]);for(;_--;)w[f++]=n[i++];return w}function Ea(n,e,r,t){for(var i=-1,a=n.length,c=-1,f=r.length,h=-1,_=e.length,w=Wn(a-f,0),b=y(w+_),S=!t;++i<w;)b[i]=n[i];for(var P=i;++h<_;)b[P+h]=e[h];for(;++c<f;)(S||i<a)&&(b[P+r[c]]=n[i++]);return b}function re(n,e){var r=-1,t=n.length;for(e=e||y(t);++r<t;)e[r]=n[r];return e}function Xe(n,e,r,t){for(var i=!r,a=(r=r||{},-1),c=e.length;++a<c;){var f=e[a],h=t?t(r[f],n[f],f,r,n):o;(i?Ue:bt)(r,f,h=h===o?n[f]:h)}return r}function wo(n,e){return function(r,t){var i=Q(r)?nc:Dc,a=e?e():{};return i(r,n,$(t,2),a)}}function Zr(n){return un(function(e,r){var t=-1,i=r.length,c=1<i?r[i-1]:o,a=2<i?r[2]:o,c=3<n.length&&typeof c=="function"?(i--,c):o;for(a&&Qn(r[0],r[1],a)&&(c=i<3?o:c,i=1),e=rn(e);++t<i;){var f=r[t];f&&n(e,f,t,c)}return e})}function Ma(n,e){return function(r,t){if(r==null)return r;if(!te(r))return n(r,t);for(var i=r.length,a=e?i:-1,c=rn(r);(e?a--:++a<i)&&t(c[a],a,c)!==!1;);return r}}function Aa(n){return function(e,r,t){for(var i=-1,a=rn(e),c=t(e),f=c.length;f--;){var h=c[n?f:++i];if(r(a[h],h,a)===!1)break}return e}}function Ba(n){return function(e){var t=Wr(e=gn(e))?De(e):o,r=t?t[0]:e.charAt(0),t=t?hr(t,1).join(""):e.slice(1);return r[n]()+t}}function Kr(n){return function(e){return ti(Xl(Il(e).replace(_n,"")),n,"")}}function kt(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=qr(n.prototype),t=n.apply(r,e);return On(t)?t:r}}function Xc(n,e,r){var t=kt(n);return function i(){for(var a=arguments.length,c=y(a),f=a,h=Gr(i);f--;)c[f]=arguments[f];return h=a<3&&c[0]!==h&&c[a-1]!==h?[]:cr(c,h),(a-=h.length)<r?Fa(n,e,bo,i.placeholder,o,c,h,o,o,r-a):fe(this&&this!==Fn&&this instanceof i?t:n,this,c)}}function Wa(n){return function(e,c,t){var i,a=rn(e),c=(te(e)||(i=$(c,3),e=Hn(e),c=function(f){return i(a[f],f,a)}),n(e,c,t));return-1<c?a[i?e[c]:c]:o}}function Pa(n){return Ve(function(e){var r=e.length,t=r,i=Oe.prototype.thru;for(n&&e.reverse();t--;){var a=e[t];if(typeof a!="function")throw new _e(p);i&&!h&&So(a)=="wrapper"&&(h=new Oe([],!0))}for(t=h?t:r;++t<r;)var c=So(a=e[t]),f=c=="wrapper"?Ei(a):o,h=f&&Wi(f[0])&&f[1]==424&&!f[4].length&&f[9]==1?h[So(f[0])].apply(h,f[3]):a.length==1&&Wi(a)?h[c]():h.thru(a);return function(){var _=arguments,w=_[0];if(h&&_.length==1&&Q(w))return h.plant(w).value();for(var b=0,S=r?e[b].apply(this,_):w;++b<r;)S=e[b].call(this,S);return S}})}function bo(n,e,r,t,i,a,c,f,h,_){var w=e&m,b=1&e,S=2&e,P=24&e,M=512&e,V=S?o:kt(n);return function X(){for(var O=y(cn=arguments.length),j=cn;j--;)O[j]=arguments[j];if(P&&(K=function(zn,ue){for(var Xn=zn.length,Zn=0;Xn--;)zn[Xn]===ue&&++Zn;return Zn}(O,N=Gr(X))),t&&(O=Xa(O,t,i,P)),a&&(O=Ea(O,a,c,P)),cn-=K,P&&cn<_)return K=cr(O,N),Fa(n,e,bo,X.placeholder,r,O,K,f,h,_-cn);var N=b?r:this,K=S?N[n]:n,cn=O.length;return f?O=function(zn,ue){for(var Xn=zn.length,Zn=Vn(ue.length,Xn),nt=re(zn);Zn--;){var et=ue[Zn];zn[Zn]=qe(et,Xn)?nt[et]:o}return zn}(O,f):M&&1<cn&&O.reverse(),w&&h<cn&&(O.length=h),(K=this&&this!==Fn&&this instanceof X?V||kt(K):K).apply(N,O)}}function Ha(n,e){return function(r,t){return r=r,i=n,a=e(t),c={},Ie(r,function(f,h,_){i(c,a(f),h,_)}),c;var i,a,c}}function xo(n,e){return function(r,t){var i;if(r===o&&t===o)return e;if(r!==o&&(i=r),t!==o){if(i===o)return t;t=typeof r=="string"||typeof t=="string"?(r=pe(r),pe(t)):(r=Oa(r),Oa(t)),i=n(r,t)}return i}}function ji(n){return Ve(function(e){return e=kn(e,se($())),un(function(r){var t=this;return n(e,function(i){return fe(i,t,r)})})})}function mo(n,e){var r=(e=e===o?" ":pe(e)).length;return r<2?r?ki(e,n):e:(r=ki(e,lo(n/Pr(e))),Wr(e)?hr(De(r),0,n).join(""):r.slice(0,n))}function Ec(n,e,r,t){var i=1&e,a=kt(n);return function c(){for(var f=-1,h=arguments.length,_=-1,w=t.length,b=y(w+h),S=this&&this!==Fn&&this instanceof c?a:n;++_<w;)b[_]=t[_];for(;h--;)b[_++]=arguments[++f];return fe(S,i?r:this,b)}}function Na(n){return function(e,r,t){t&&typeof t!="number"&&Qn(e,r,t)&&(r=t=o),e=Ke(e),r===o?(r=e,e=0):r=Ke(r),t=t===o?e<r?1:-1:Ke(t);for(var i=e,a=t,c=n,f=-1,h=Wn(lo((r-i)/(a||1)),0),_=y(h);h--;)_[c?h:++f]=i,i+=a;return _}}function Co(n){return function(e,r){return typeof e=="string"&&typeof r=="string"||(e=me(e),r=me(r)),n(e,r)}}function Fa(n,e,r,t,b,S,c,f,h,_){var w=8&e,b=(4&(e=(e|(w?32:64))&~(w?64:32))||(e&=-4),[n,e,b,w?S:o,w?c:o,w?o:S,w?o:c,f,h,_]),S=r.apply(o,b);return Wi(n)&&rl(S,b),S.placeholder=t,tl(S,n,e)}function Ri(n){var e=on[n];return function(r,t){var i;return r=me(r),(t=t==null?0:Vn(en(t),292))&&ta(r)?(i=(gn(r)+"e").split("e"),+((i=(gn(e(i[0]+"e"+(+i[1]+t)))+"e").split("e"))[0]+"e"+(+i[1]-t))):e(r)}}var Mc=$r&&1/no(new $r([,-0]))[1]==1/0?function(n){return new $r(n)}:ou;function Ua(n){return function(e){var r,t,i,a=qn(e);return a==I?fi(e):a==wn?(a=e,r=-1,t=Array(a.size),a.forEach(function(c){t[++r]=[c,c]}),t):kn(n(i=e),function(c){return[c,i[c]]})}}function $e(n,e,r,t,i,a,c,f){var h=2&e;if(!h&&typeof n!="function")throw new _e(p);var _,w,b,S,P,M=t?t.length:0,V=(M||(e&=-97,t=i=o),c=c===o?c:Wn(en(c),0),f=f===o?f:en(f),M-=i?i.length:0,64&e&&(X=t,_=i,t=i=o),h?o:Ei(n)),X=[n,e,r,t,i,X,_,a,c,f];return V&&function(O,j){var N=O[1],K=j[1],cn=N|K,zn=cn<131,ue=K==m&&N==8||K==m&&N==256&&O[7].length<=j[8]||K==384&&j[7].length<=j[8]&&N==8;if(!(!zn&&!ue)){1&K&&(O[2]=j[2],cn|=1&N?0:4),zn=j[3];{var Xn;zn&&(Xn=O[3],O[3]=Xn?Xa(Xn,zn,j[4]):zn,O[4]=Xn?cr(O[3],l):j[4])}(zn=j[5])&&(Xn=O[5],O[5]=Xn?Ea(Xn,zn,j[6]):zn,O[6]=Xn?cr(O[5],l):j[6]),(zn=j[7])&&(O[7]=zn),K&m&&(O[8]=O[8]==null?j[8]:Vn(O[8],j[8])),O[9]==null&&(O[9]=j[9]),O[0]=j[0],O[1]=cn}}(X,V),n=X[0],e=X[1],r=X[2],t=X[3],i=X[4],!(f=X[9]=X[9]===o?h?0:n.length:Wn(X[9]-M,0))&&24&e&&(e&=-25),_=e&&e!=1?e==8||e==16?Xc(n,e,f):e!=32&&e!=33||i.length?bo.apply(o,X):Ec(n,e,r,t):(b=r,S=1&e,P=kt(w=n),function O(){return(this&&this!==Fn&&this instanceof O?P:w).apply(S?b:this,arguments)}),tl((V?ka:rl)(_,X),n,e)}function $a(n,e,r,t){return n===o||Ye(n,Nr[r])&&!yn.call(t,r)?e:n}function Va(n,e,r,t,i,a){return On(n)&&On(e)&&(a.set(e,n),go(n,e,o,Va,a),a.delete(e)),n}function Ac(n){return zt(n)?o:n}function qa(n,e,r,t,i,a){var c=1&r,f=n.length,h=e.length;if(f!=h&&!(c&&f<h))return!1;var h=a.get(n),_=a.get(e);if(h&&_)return h==e&&_==n;var w=-1,b=!0,S=2&r?new kr:o;for(a.set(n,e),a.set(e,n);++w<f;){var P,M=n[w],V=e[w];if((P=t?c?t(V,M,w,e,n,a):t(M,V,w,n,e,a):P)!==o){if(P)continue;b=!1;break}if(S){if(!oi(e,function(X,O){return!ht(S,O)&&(M===X||i(M,X,r,t,a))&&S.push(O)})){b=!1;break}}else if(M!==V&&!i(M,V,r,t,a)){b=!1;break}}return a.delete(n),a.delete(e),b}function Ve(n){return Hi(nl(n,o,cl),n+"")}function Ii(n){return da(n,Hn,Ai)}function Xi(n){return da(n,oe,Za)}var Ei=fo?function(n){return fo.get(n)}:ou;function So(n){for(var e=n.name+"",r=Vr[e],t=yn.call(Vr,e)?r.length:0;t--;){var i=r[t],a=i.func;if(a==null||a==n)return i.name}return e}function Gr(n){return(yn.call(u,"placeholder")?u:n).placeholder}function $(){var n=(n=u.iteratee||ru)===ru?_a:n;return arguments.length?n(arguments[0],arguments[1]):n}function ko(i,e){var r,t,i=i.__data__;return((t=typeof(r=e))=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null)?i[typeof e=="string"?"string":"hash"]:i.map}function Mi(n){for(var e=Hn(n),r=e.length;r--;){var t=e[r],i=n[t];e[r]=[t,i,Ja(i)]}return e}function zr(n,e){return e=e,n=(n=n)==null?o:n[e],ga(n)?n:o}var Ai=pi?function(n){return n==null?[]:(n=rn(n),ar(pi(n),function(e){return ea.call(n,e)}))}:iu,Za=pi?function(n){for(var e=[];n;)lr(e,Ai(n)),n=io(n);return e}:iu,qn=Jn;function Ka(n,e,r){for(var t=-1,i=(e=pr(e,n)).length,a=!1;++t<i;){var c=Ee(e[t]);if(!(a=n!=null&&r(n,c)))break;n=n[c]}return a||++t!=i?a:!!(i=n==null?0:n.length)&&jo(i)&&qe(c,i)&&(Q(n)||Lr(n))}function Ga(n){return typeof n.constructor!="function"||Dt(n)?{}:qr(io(n))}function Bc(n){return Q(n)||Lr(n)||!!(ra&&n&&n[ra])}function qe(n,e){var r=typeof n;return!!(e=e==null?L:e)&&(r=="number"||r!="symbol"&&$t.test(n))&&-1<n&&n%1==0&&n<e}function Qn(n,e,r){var t;if(On(r))return t=typeof e,(t=="number"?te(r)&&qe(e,r.length):t=="string"&&e in r)&&Ye(r[e],n)}function Bi(n,e){var r;if(!Q(n))return r=typeof n,r=="number"||r=="symbol"||r=="boolean"||n==null||he(n)||At.test(n)||!ke.test(n)||e!=null&&n in rn(e)}function Wi(n){var e=So(n),r=u[e];if(typeof r=="function"&&e in ln.prototype)return n===r?1:(e=Ei(r),e&&n===e[0])}(Re&&qn(new Re(new ArrayBuffer(1)))!=tn||gt&&qn(new gt)!=I||_t&&qn(_t.resolve())!=jn||$r&&qn(new $r)!=wn||pn&&qn(new pn)!=er)&&(qn=function(r){var e=Jn(r),r=e==Z?r.constructor:o,r=r?Yr(r):"";if(r)switch(r){case wc:return tn;case bc:return I;case xc:return jn;case mc:return wn;case Cc:return er}return e});var Wc=Fr?Ze:uu;function Dt(n){var e=n&&n.constructor;return n===(typeof e=="function"&&e.prototype||Nr)}function Ja(n){return n==n&&!On(n)}function Qa(n,e){return function(r){return r!=null&&r[n]===e&&(e!==o||n in rn(r))}}function nl(n,e,r){return e=Wn(e===o?n.length-1:e,0),function(){for(var t=arguments,i=-1,a=Wn(t.length-e,0),c=y(a);++i<a;)c[i]=t[e+i];for(var i=-1,f=y(e+1);++i<e;)f[i]=t[i];return f[e]=r(c),fe(n,this,f)}}function el(n,e){return e.length<2?n:Or(n,we(e,0,-1))}function Pi(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]}var rl=ol(ka),Ot=si||function(n,e){return Fn.setTimeout(n,e)},Hi=ol($n);function tl(n,a,r){var t,i,a=a+"";return Hi(n,function(c,f){var h=f.length;if(!h)return c;var _=h-1;return f[_]=(1<h?"& ":"")+f[_],f=f.join(2<h?", ":" "),c.replace(Wt,`{
/* [wrapped with `+f+`] */
`)}(a,(t=(n=(n=a).match(Pt))?n[1].split(ft):[],i=r,ge(B,function(c){var f="_."+c[0];i&c[1]&&!Jt(t,f)&&t.push(f)}),t.sort())))}function ol(n){var e=0,r=0;return function(){var t=gc(),i=16-(t-r);if(r=t,0<i){if(800<=++e)return arguments[0]}else e=0;return n.apply(o,arguments)}}function Do(n,e){var r=-1,t=n.length,i=t-1;for(e=e===o?t:e;++r<e;){var a=Si(r,i),c=n[a];n[a]=n[r],n[r]=c}return n.length=e,n}Ni=(Ur=Lo(Ur=function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Bt,function(r,t,i,a){e.push(i?a.replace(Xr,"$1"):t||r)}),e},function(n){return Ni.size===500&&Ni.clear(),n})).cache;var Ni,il=Ur;function Ee(n){if(typeof n=="string"||he(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Yr(n){if(n!=null){try{return ro.call(n)}catch{}try{return n+""}catch{}}return""}function ul(n){if(n instanceof ln)return n.clone();var e=new Oe(n.__wrapped__,n.__chain__);return e.__actions__=re(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}Re=un(function(n,e){return In(n)?xt(n,Un(e,1,In,!0)):[]}),_t=un(function(n,e){var r=be(e);return In(r)&&(r=o),In(n)?xt(n,Un(e,1,In,!0),$(r,2)):[]}),pn=un(function(n,e){var r=be(e);return In(r)&&(r=o),In(n)?xt(n,Un(e,1,In,!0),o,r):[]});function al(n,e,r){var t=n==null?0:n.length;return t?(r=r==null?0:en(r),r<0&&(r=Wn(t+r,0)),Qt(n,$(e,3),r)):-1}function ll(n,e,r){var t=n==null?0:n.length;if(!t)return-1;var i=t-1;return r!==o&&(i=en(r),i=r<0?Wn(t+i,0):Vn(i,t-1)),Qt(n,$(e,3),i,!0)}function cl(n){return n!=null&&n.length?Un(n,1):[]}function fl(n){return n&&n.length?n[0]:o}Fr=un(function(n){var e=kn(n,Yi);return e.length&&e[0]===n[0]?wi(e):[]}),si=un(function(n){var e=be(n),r=kn(n,Yi);return e===be(r)?e=o:r.pop(),r.length&&r[0]===n[0]?wi(r,$(e,2)):[]}),$n=un(function(n){var e=be(n),r=kn(n,Yi);return(e=typeof e=="function"?e:o)&&r.pop(),r.length&&r[0]===n[0]?wi(r,o,e):[]});function be(n){var e=n==null?0:n.length;return e?n[e-1]:o}Ur=un(sl);function sl(n,e){return n&&n.length&&e&&e.length?Ci(n,e):n}var Pc=Ve(function(n,e){var r=n==null?0:n.length,t=vi(n,e);return Sa(n,kn(e,function(i){return qe(i,r)?+i:i}).sort(Ia)),t});function Fi(n){return n==null?n:yc.call(n)}var Hc=un(function(n){return sr(Un(n,1,In,!0))}),Nc=un(function(n){var e=be(n);return In(e)&&(e=o),sr(Un(n,1,In,!0),$(e,2))}),Fc=un(function(n){var e=typeof(e=be(n))=="function"?e:o;return sr(Un(n,1,In,!0),o,e)});function Ui(n){if(!n||!n.length)return[];var e=0;return n=ar(n,function(r){return In(r)&&(e=Wn(r.length,e),1)}),li(e,function(r){return kn(n,ii(r))})}function pl(n,e){return!n||!n.length?[]:(n=Ui(n),e==null?n:kn(n,function(r){return fe(e,o,r)}))}var Uc=un(function(n,e){return In(n)?xt(n,e):[]}),$c=un(function(n){return zi(ar(n,In))}),Vc=un(function(n){var e=be(n);return In(e)&&(e=o),zi(ar(n,In),$(e,2))}),qc=un(function(n){var e=typeof(e=be(n))=="function"?e:o;return zi(ar(n,In),o,e)}),Zc=un(Ui),Kc=un(function(n){var e=n.length,e=typeof(e=1<e?n[e-1]:o)=="function"?(n.pop(),e):o;return pl(n,e)});function hl(n){return n=u(n),n.__chain__=!0,n}function Oo(n,e){return e(n)}var Gc=Ve(function(n){function e(a){return vi(a,n)}var r=n.length,t=r?n[0]:0,i=this.__wrapped__;return!(1<r||this.__actions__.length)&&i instanceof ln&&qe(t)?((i=i.slice(t,+t+(r?1:0))).__actions__.push({func:Oo,args:[e],thisArg:o}),new Oe(i,this.__chain__).thru(function(a){return r&&!a.length&&a.push(o),a})):this.thru(e)}),Jc=wo(function(n,e,r){yn.call(n,r)?++n[r]:Ue(n,r,1)}),Qc=Wa(al),nf=Wa(ll);function dl(n,e){return(Q(n)?ge:fr)(n,$(e,3))}function vl(n,e){return(Q(n)?ec:sa)(n,$(e,3))}var ef=wo(function(n,e,r){yn.call(n,r)?n[r].push(e):Ue(n,r,[e])}),rf=un(function(n,e,r){var t=-1,i=typeof e=="function",a=te(n)?y(n.length):[];return fr(n,function(c){a[++t]=i?fe(e,c,r):mt(c,e,r)}),a}),tf=wo(function(n,e,r){Ue(n,r,e)});function zo(n,e){return(Q(n)?kn:ya)(n,$(e,3))}var of=wo(function(n,e,r){n[r?0:1].push(e)},function(){return[[],[]]}),uf=un(function(n,e){if(n==null)return[];var r=e.length;return 1<r&&Qn(n,e[0],e[1])?e=[]:2<r&&Qn(e[0],e[1],e[2])&&(e=[e[0]]),ma(n,Un(e,1),[])}),Yo=Vi||function(){return Fn.Date.now()};function gl(n,e,r){return e=r?o:e,e=n&&e==null?n.length:e,$e(n,m,o,o,o,o,e)}function _l(n,e){var r;if(typeof e!="function")throw new _e(p);return n=en(n),function(){return 0<--n&&(r=e.apply(this,arguments)),n<=1&&(e=o),r}}var $i=un(function(n,e,r){var t,i=1;return r.length&&(t=cr(r,Gr($i)),i|=32),$e(n,i,e,r,t)}),yl=un(function(n,e,r){var t,i=3;return r.length&&(t=cr(r,Gr(yl)),i|=32),$e(e,i,n,r,t)});function wl(n,e,r){var t,i,a,c,f,h,_=0,w=!1,b=!1,S=!0;if(typeof n!="function")throw new _e(p);function P(j){var N=t,K=i;return t=i=o,_=j,c=n.apply(K,N)}function M(j){var N=j-h;return h===o||e<=N||N<0||b&&a<=j-_}function V(){var j,N=Yo();if(M(N))return X(N);f=Ot(V,(j=e-((N=N)-h),b?Vn(j,a-(N-_)):j))}function X(j){return f=o,S&&t?P(j):(t=i=o,c)}function O(){var j=Yo(),N=M(j);if(t=arguments,i=this,h=j,N){if(f===o)return _=j=h,f=Ot(V,e),w?P(j):c;if(b)return Ta(f),f=Ot(V,e),P(h)}return f===o&&(f=Ot(V,e)),c}return e=me(e)||0,On(r)&&(w=!!r.leading,b="maxWait"in r,a=b?Wn(me(r.maxWait)||0,e):a,S="trailing"in r?!!r.trailing:S),O.cancel=function(){f!==o&&Ta(f),_=0,t=h=i=f=o},O.flush=function(){return f===o?c:X(Yo())},O}var Vi=un(function(n,e){return fa(n,1,e)}),af=un(function(n,e,r){return fa(n,me(e)||0,r)});function Lo(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new _e(p);function r(){var t=arguments,i=e?e.apply(this,t):t[0],a=r.cache;return a.has(i)?a.get(i):(t=n.apply(this,t),r.cache=a.set(i,t)||a,t)}return r.cache=new(Lo.Cache||Fe),r}function To(n){if(typeof n!="function")throw new _e(p);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}Lo.Cache=Fe;var qi=qi(function(n,e){var r=(e=e.length==1&&Q(e[0])?kn(e[0],se($())):kn(Un(e,1),se($()))).length;return un(function(t){for(var i=-1,a=Vn(t.length,r);++i<a;)t[i]=e[i].call(this,t[i]);return fe(n,this,t)})}),Zi=un(function(n,e){var r=cr(e,Gr(Zi));return $e(n,32,o,e,r)}),bl=un(function(n,e){var r=cr(e,Gr(bl));return $e(n,64,o,e,r)}),lf=Ve(function(n,e){return $e(n,256,o,o,o,e)});function Ye(n,e){return n===e||n!=n&&e!=e}var cf=Co(yi),ff=Co(function(n,e){return e<=n}),Lr=va(function(){return arguments}())?va:function(n){return Yn(n)&&yn.call(n,"callee")&&!ea.call(n,"callee")},Q=y.isArray,sf=Eu?se(Eu):function(n){return Yn(n)&&Jn(n)==R};function te(n){return n!=null&&jo(n.length)&&!Ze(n)}function In(n){return Yn(n)&&te(n)}var dr=xe||uu,xe=Mu?se(Mu):function(n){return Yn(n)&&Jn(n)==Kn};function Ki(n){if(!Yn(n))return!1;var e=Jn(n);return e==Cn||e=="[object DOMException]"||typeof n.message=="string"&&typeof n.name=="string"&&!zt(n)}function Ze(n){return On(n)?(n=Jn(n),n==Tn||n==fn||n=="[object AsyncFunction]"||n=="[object Proxy]"):!1}function xl(n){return typeof n=="number"&&n==en(n)}function jo(n){return typeof n=="number"&&-1<n&&n%1==0&&n<=L}function On(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function Yn(n){return n!=null&&typeof n=="object"}var ml=Au?se(Au):function(n){return Yn(n)&&qn(n)==I};function Cl(n){return typeof n=="number"||Yn(n)&&Jn(n)==hn}function zt(n){return!Yn(n)||Jn(n)!=Z?!1:(n=io(n),n===null?!0:(n=yn.call(n,"constructor")&&n.constructor,typeof n=="function"&&n instanceof n&&ro.call(n)==sc))}var Gi=Bu?se(Bu):function(n){return Yn(n)&&Jn(n)==Mn},Sl=Wu?se(Wu):function(n){return Yn(n)&&qn(n)==wn};function Ro(n){return typeof n=="string"||!Q(n)&&Yn(n)&&Jn(n)==ve}function he(n){return typeof n=="symbol"||Yn(n)&&Jn(n)==nr}var Jr=Pu?se(Pu):function(n){return Yn(n)&&jo(n.length)&&!!mn[Jn(n)]},pf=Co(mi),hf=Co(function(n,e){return n<=e});function kl(n){if(!n)return[];if(te(n))return(Ro(n)?De:re)(n);if(vt&&n[vt]){for(var e,r=n[vt](),t=[];!(e=r.next()).done;)t.push(e.value);return t}var i=qn(n);return(i==I?fi:i==wn?no:Qr)(n)}function Ke(n){return n?(n=me(n))===1/0||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:n===0?n:0}function en(e){var e=Ke(e),r=e%1;return e==e?r?e-r:e:0}function Dl(n){return n?Dr(en(n),0,A):0}function me(n){if(typeof n=="number")return n;if(he(n))return z;if(typeof(n=On(n)?On(e=typeof n.valueOf=="function"?n.valueOf():n)?e+"":e:n)!="string")return n===0?n:+n;n=Vu(n);var e=Nt.test(n);return e||Ut.test(n)?Ql(n.slice(2),e?2:8):He.test(n)?z:+n}function Ol(n){return Xe(n,oe(n))}function gn(n){return n==null?"":pe(n)}var df=Zr(function(n,e){if(Dt(e)||te(e))Xe(e,Hn(e),n);else for(var r in e)yn.call(e,r)&&bt(n,r,e[r])}),zl=Zr(function(n,e){Xe(e,oe(e),n)}),Io=Zr(function(n,e,r,t){Xe(e,oe(e),n,t)}),vf=Zr(function(n,e,r,t){Xe(e,Hn(e),n,t)}),gf=Ve(vi),_f=un(function(n,e){n=rn(n);var r=-1,t=e.length,i=2<t?e[2]:o;for(i&&Qn(e[0],e[1],i)&&(t=1);++r<t;)for(var a=e[r],c=oe(a),f=-1,h=c.length;++f<h;){var _=c[f],w=n[_];(w===o||Ye(w,Nr[_])&&!yn.call(n,_))&&(n[_]=a[_])}return n}),yf=un(function(n){return n.push(o,Va),fe(Yl,o,n)});function Ji(n,e,r){return n=n==null?o:Or(n,e),n===o?r:n}function Qi(n,e){return n!=null&&Ka(n,e,Yc)}var wf=Ha(function(n,e,r){n[e=e!=null&&typeof e.toString!="function"?to.call(e):e]=r},eu(ie)),bf=Ha(function(n,e,r){e!=null&&typeof e.toString!="function"&&(e=to.call(e)),yn.call(n,e)?n[e].push(r):n[e]=[r]},$),xf=un(mt);function Hn(n){return(te(n)?ua:xi)(n)}function oe(n){return te(n)?ua(n,!0):Lc(n)}var mf=Zr(function(n,e,r){go(n,e,r)}),Yl=Zr(function(n,e,r,t){go(n,e,r,t)}),Cf=Ve(function(n,e){var r={};if(n==null)return r;for(var t=!1,i=(e=kn(e,function(a){return a=pr(a,n),t=t||1<a.length,a}),Xe(n,Xi(n),r),t&&(r=ye(r,7,Ac)),e.length);i--;)Oi(r,e[i]);return r}),Sf=Ve(function(n,e){return n==null?{}:Ca(r=n,e,function(t,i){return Qi(r,i)});var r});function Ll(n,e){if(n==null)return{};var r=kn(Xi(n),function(t){return[t]});return e=$(e),Ca(n,r,function(t,i){return e(t,i[0])})}var Tl=Ua(Hn),jl=Ua(oe);function Qr(n){return n==null?[]:ci(n,Hn(n))}var kf=Kr(function(n,e,r){return e=e.toLowerCase(),n+(r?Rl(e):e)});function Rl(n){return nu(gn(n).toLowerCase())}function Il(n){return(n=gn(n))&&n.replace(Jo,ic).replace(st,"")}var Df=Kr(function(n,e,r){return n+(r?"-":"")+e.toLowerCase()}),Of=Kr(function(n,e,r){return n+(r?" ":"")+e.toLowerCase()}),zf=Ba("toLowerCase"),Yf=Kr(function(n,e,r){return n+(r?"_":"")+e.toLowerCase()}),Lf=Kr(function(n,e,r){return n+(r?" ":"")+nu(e)}),Tf=Kr(function(n,e,r){return n+(r?" ":"")+e.toUpperCase()}),nu=Ba("toUpperCase");function Xl(n,e,r){return n=gn(n),(e=r?o:e)===o?(r=n,br.test(r)?n.match(ir)||[]:n.match(Ht)||[]):n.match(e)||[]}var El=un(function(n,e){try{return fe(n,o,e)}catch(r){return Ki(r)?r:new H(r)}}),jf=Ve(function(n,e){return ge(e,function(r){r=Ee(r),Ue(n,r,$i(n[r],n))}),n});function eu(n){return function(){return n}}var Rf=Pa(),If=Pa(!0);function ie(n){return n}function ru(n){return _a(typeof n=="function"?n:ye(n,1))}var Xf=un(function(n,e){return function(r){return mt(r,n,e)}}),Ef=un(function(n,e){return function(r){return mt(n,r,e)}});function tu(n,e,r){var t=Hn(e),i=vo(e,t),a=(r!=null||On(e)&&(i.length||!t.length)||(r=e,e=n,n=this,i=vo(e,Hn(e))),!(On(r)&&"chain"in r&&!r.chain)),c=Ze(n);return ge(i,function(f){var h=e[f];n[f]=h,c&&(n.prototype[f]=function(){var _,w=this.__chain__;return a||w?(((_=n(this.__wrapped__)).__actions__=re(this.__actions__)).push({func:h,args:arguments,thisArg:n}),_.__chain__=w,_):h.apply(n,lr([this.value()],arguments))})}),n}function ou(){}var Mf=ji(kn),Af=ji(Hu),Bf=ji(oi);function Ml(n){return Bi(n)?ii(Ee(n)):(e=n,function(r){return Or(r,e)});var e}var Wf=Na(),Pf=Na(!0);function iu(){return[]}function uu(){return!1}var Hf=xo(function(n,e){return n+e},0),Nf=Ri("ceil"),Ff=xo(function(n,e){return n/e},1),Uf=Ri("floor"),au,$f=xo(function(n,e){return n*e},1),Vf=Ri("round"),qf=xo(function(n,e){return n-e},0);return u.after=function(n,e){if(typeof e!="function")throw new _e(p);return n=en(n),function(){if(--n<1)return e.apply(this,arguments)}},u.ary=gl,u.assign=df,u.assignIn=zl,u.assignInWith=Io,u.assignWith=vf,u.at=gf,u.before=_l,u.bind=$i,u.bindAll=jf,u.bindKey=yl,u.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return Q(n)?n:[n]},u.chain=hl,u.chunk=function(n,e,r){e=(r?Qn(n,e,r):e===o)?1:Wn(en(e),0);var t=n==null?0:n.length;if(!t||e<1)return[];for(var i=0,a=0,c=y(lo(t/e));i<t;)c[a++]=we(n,i,i+=e);return c},u.compact=function(n){for(var e=-1,r=n==null?0:n.length,t=0,i=[];++e<r;){var a=n[e];a&&(i[t++]=a)}return i},u.concat=function(){var n=arguments.length;if(!n)return[];for(var e=y(n-1),r=arguments[0],t=n;t--;)e[t-1]=arguments[t];return lr(Q(r)?re(r):[r],Un(e,1))},u.cond=function(n){var e=n==null?0:n.length,r=$();return n=e?kn(n,function(t){if(typeof t[1]!="function")throw new _e(p);return[r(t[0]),t[1]]}):[],un(function(t){for(var i=-1;++i<e;){var a=n[i];if(fe(a[0],this,t))return fe(a[1],this,t)}})},u.conforms=function(n){return e=ye(n,1),r=Hn(e),function(t){return ca(t,e,r)};var e,r},u.constant=eu,u.countBy=Jc,u.create=function(n,e){return n=qr(n),e==null?n:la(n,e)},u.curry=function n(e,r,t){return e=$e(e,8,o,o,o,o,o,r=t?o:r),e.placeholder=n.placeholder,e},u.curryRight=function n(e,r,t){return e=$e(e,16,o,o,o,o,o,r=t?o:r),e.placeholder=n.placeholder,e},u.debounce=wl,u.defaults=_f,u.defaultsDeep=yf,u.defer=Vi,u.delay=af,u.difference=Re,u.differenceBy=_t,u.differenceWith=pn,u.drop=function(n,e,r){var t=n==null?0:n.length;return t?we(n,(e=r||e===o?1:en(e))<0?0:e,t):[]},u.dropRight=function(n,e,r){var t=n==null?0:n.length;return t?we(n,0,(e=t-(e=r||e===o?1:en(e)))<0?0:e):[]},u.dropRightWhile=function(n,e){return n&&n.length?yo(n,$(e,3),!0,!0):[]},u.dropWhile=function(n,e){return n&&n.length?yo(n,$(e,3),!0):[]},u.fill=function(n,e,r,t){if(!(h=n==null?0:n.length))return[];r&&typeof r!="number"&&Qn(n,e,r)&&(r=0,t=h);var i=n,a=e,c=r,f=t,h=i.length;for((c=en(c))<0&&(c=h<-c?0:h+c),(f=f===o||h<f?h:en(f))<0&&(f+=h),f=f<c?0:Dl(f);c<f;)i[c++]=a;return i},u.filter=function(n,e){return(Q(n)?ar:pa)(n,$(e,3))},u.flatMap=function(n,e){return Un(zo(n,e),1)},u.flatMapDeep=function(n,e){return Un(zo(n,e),1/0)},u.flatMapDepth=function(n,e,r){return r=r===o?1:en(r),Un(zo(n,e),r)},u.flatten=cl,u.flattenDeep=function(n){return n!=null&&n.length?Un(n,1/0):[]},u.flattenDepth=function(n,e){return n!=null&&n.length?Un(n,e=e===o?1:en(e)):[]},u.flip=function(n){return $e(n,512)},u.flow=Rf,u.flowRight=If,u.fromPairs=function(n){for(var e=-1,r=n==null?0:n.length,t={};++e<r;){var i=n[e];t[i[0]]=i[1]}return t},u.functions=function(n){return n==null?[]:vo(n,Hn(n))},u.functionsIn=function(n){return n==null?[]:vo(n,oe(n))},u.groupBy=ef,u.initial=function(n){return n!=null&&n.length?we(n,0,-1):[]},u.intersection=Fr,u.intersectionBy=si,u.intersectionWith=$n,u.invert=wf,u.invertBy=bf,u.invokeMap=rf,u.iteratee=ru,u.keyBy=tf,u.keys=Hn,u.keysIn=oe,u.map=zo,u.mapKeys=function(n,e){var r={};return e=$(e,3),Ie(n,function(t,i,a){Ue(r,e(t,i,a),t)}),r},u.mapValues=function(n,e){var r={};return e=$(e,3),Ie(n,function(t,i,a){Ue(r,i,e(t,i,a))}),r},u.matches=function(n){return wa(ye(n,1))},u.matchesProperty=function(n,e){return ba(n,ye(e,1))},u.memoize=Lo,u.merge=mf,u.mergeWith=Yl,u.method=Xf,u.methodOf=Ef,u.mixin=tu,u.negate=To,u.nthArg=function(n){return n=en(n),un(function(e){return xa(e,n)})},u.omit=Cf,u.omitBy=function(n,e){return Ll(n,To($(e)))},u.once=function(n){return _l(2,n)},u.orderBy=function(n,e,r,t){return n==null?[]:ma(n,e=Q(e)?e:e==null?[]:[e],r=Q(r=t?o:r)?r:r==null?[]:[r])},u.over=Mf,u.overArgs=qi,u.overEvery=Af,u.overSome=Bf,u.partial=Zi,u.partialRight=bl,u.partition=of,u.pick=Sf,u.pickBy=Ll,u.property=Ml,u.propertyOf=function(n){return function(e){return n==null?o:Or(n,e)}},u.pull=Ur,u.pullAll=sl,u.pullAllBy=function(n,e,r){return n&&n.length&&e&&e.length?Ci(n,e,$(r,2)):n},u.pullAllWith=function(n,e,r){return n&&n.length&&e&&e.length?Ci(n,e,o,r):n},u.pullAt=Pc,u.range=Wf,u.rangeRight=Pf,u.rearg=lf,u.reject=function(n,e){return(Q(n)?ar:pa)(n,To($(e,3)))},u.remove=function(n,e){var r=[];if(!n||!n.length)return r;var t=-1,i=[],a=n.length;for(e=$(e,3);++t<a;){var c=n[t];e(c,t,n)&&(r.push(c),i.push(t))}return Sa(n,i),r},u.rest=function(n,e){if(typeof n!="function")throw new _e(p);return un(n,e=e===o?e:en(e))},u.reverse=Fi,u.sampleSize=function(n,e,r){return e=(r?Qn(n,e,r):e===o)?1:en(e),(Q(n)?Sc:jc)(n,e)},u.set=function(n,e,r){return n==null?n:St(n,e,r)},u.setWith=function(n,e,r,t){return t=typeof t=="function"?t:o,n==null?n:St(n,e,r,t)},u.shuffle=function(n){return(Q(n)?kc:Rc)(n)},u.slice=function(n,e,r){var t=n==null?0:n.length;return t?(r=r&&typeof r!="number"&&Qn(n,e,r)?(e=0,t):(e=e==null?0:en(e),r===o?t:en(r)),we(n,e,r)):[]},u.sortBy=uf,u.sortedUniq=function(n){return n&&n.length?Da(n):[]},u.sortedUniqBy=function(n,e){return n&&n.length?Da(n,$(e,2)):[]},u.split=function(n,e,r){return r&&typeof r!="number"&&Qn(n,e,r)&&(e=r=o),(r=r===o?A:r>>>0)?(n=gn(n))&&(typeof e=="string"||e!=null&&!Gi(e))&&!(e=pe(e))&&Wr(n)?hr(De(n),0,r):n.split(e,r):[]},u.spread=function(n,e){if(typeof n!="function")throw new _e(p);return e=e==null?0:Wn(en(e),0),un(function(i){var t=i[e],i=hr(i,0,e);return t&&lr(i,t),fe(n,this,i)})},u.tail=function(n){var e=n==null?0:n.length;return e?we(n,1,e):[]},u.take=function(n,e,r){return n&&n.length?we(n,0,(e=r||e===o?1:en(e))<0?0:e):[]},u.takeRight=function(n,e,r){var t=n==null?0:n.length;return t?we(n,(e=t-(e=r||e===o?1:en(e)))<0?0:e,t):[]},u.takeRightWhile=function(n,e){return n&&n.length?yo(n,$(e,3),!1,!0):[]},u.takeWhile=function(n,e){return n&&n.length?yo(n,$(e,3)):[]},u.tap=function(n,e){return e(n),n},u.throttle=function(n,e,r){var t=!0,i=!0;if(typeof n!="function")throw new _e(p);return On(r)&&(t="leading"in r?!!r.leading:t,i="trailing"in r?!!r.trailing:i),wl(n,e,{leading:t,maxWait:e,trailing:i})},u.thru=Oo,u.toArray=kl,u.toPairs=Tl,u.toPairsIn=jl,u.toPath=function(n){return Q(n)?kn(n,Ee):he(n)?[n]:re(il(gn(n)))},u.toPlainObject=Ol,u.transform=function(n,e,r){var t,i=Q(n),a=i||dr(n)||Jr(n);return e=$(e,4),r==null&&(t=n&&n.constructor,r=a?i?new t:[]:On(n)&&Ze(t)?qr(io(n)):{}),(a?ge:Ie)(n,function(c,f,h){return e(r,c,f,h)}),r},u.unary=function(n){return gl(n,1)},u.union=Hc,u.unionBy=Nc,u.unionWith=Fc,u.uniq=function(n){return n&&n.length?sr(n):[]},u.uniqBy=function(n,e){return n&&n.length?sr(n,$(e,2)):[]},u.uniqWith=function(n,e){return e=typeof e=="function"?e:o,n&&n.length?sr(n,o,e):[]},u.unset=function(n,e){return n==null||Oi(n,e)},u.unzip=Ui,u.unzipWith=pl,u.update=function(n,e,r){return n==null?n:za(n,e,Li(r))},u.updateWith=function(n,e,r,t){return t=typeof t=="function"?t:o,n==null?n:za(n,e,Li(r),t)},u.values=Qr,u.valuesIn=function(n){return n==null?[]:ci(n,oe(n))},u.without=Uc,u.words=Xl,u.wrap=function(n,e){return Zi(Li(e),n)},u.xor=$c,u.xorBy=Vc,u.xorWith=qc,u.zip=Zc,u.zipObject=function(n,e){return La(n||[],e||[],bt)},u.zipObjectDeep=function(n,e){return La(n||[],e||[],St)},u.zipWith=Kc,u.entries=Tl,u.entriesIn=jl,u.extend=zl,u.extendWith=Io,tu(u,u),u.add=Hf,u.attempt=El,u.camelCase=kf,u.capitalize=Rl,u.ceil=Nf,u.clamp=function(n,e,r){return r===o&&(r=e,e=o),r!==o&&(r=(r=me(r))==r?r:0),e!==o&&(e=(e=me(e))==e?e:0),Dr(me(n),e,r)},u.clone=function(n){return ye(n,4)},u.cloneDeep=function(n){return ye(n,5)},u.cloneDeepWith=function(n,e){return ye(n,5,e=typeof e=="function"?e:o)},u.cloneWith=function(n,e){return ye(n,4,e=typeof e=="function"?e:o)},u.conformsTo=function(n,e){return e==null||ca(n,e,Hn(e))},u.deburr=Il,u.defaultTo=function(n,e){return n==null||n!=n?e:n},u.divide=Ff,u.endsWith=function(n,e,r){n=gn(n),e=pe(e);var t=n.length,t=r=r===o?t:Dr(en(r),0,t);return 0<=(r-=e.length)&&n.slice(r,t)==e},u.eq=Ye,u.escape=function(n){return(n=gn(n))&&Mt.test(n)?n.replace(ce,uc):n},u.escapeRegExp=function(n){return(n=gn(n))&&Go.test(n)?n.replace(We,"\\$&"):n},u.every=function(n,e,r){return(Q(n)?Hu:Oc)(n,$(e=r&&Qn(n,e,r)?o:e,3))},u.find=Qc,u.findIndex=al,u.findKey=function(n,e){return Nu(n,$(e,3),Ie)},u.findLast=nf,u.findLastIndex=ll,u.findLastKey=function(n,e){return Nu(n,$(e,3),_i)},u.floor=Uf,u.forEach=dl,u.forEachRight=vl,u.forIn=function(n,e){return n==null?n:gi(n,$(e,3),oe)},u.forInRight=function(n,e){return n==null?n:ha(n,$(e,3),oe)},u.forOwn=function(n,e){return n&&Ie(n,$(e,3))},u.forOwnRight=function(n,e){return n&&_i(n,$(e,3))},u.get=Ji,u.gt=cf,u.gte=ff,u.has=function(n,e){return n!=null&&Ka(n,e,zc)},u.hasIn=Qi,u.head=fl,u.identity=ie,u.includes=function(n,e,r,t){return n=te(n)?n:Qr(n),r=r&&!t?en(r):0,t=n.length,r<0&&(r=Wn(t+r,0)),Ro(n)?r<=t&&-1<n.indexOf(e,r):!!t&&-1<Br(n,e,r)},u.indexOf=function(n,e,r){var t=n==null?0:n.length;return t?(r=r==null?0:en(r),Br(n,e,r=r<0?Wn(t+r,0):r)):-1},u.inRange=function(n,e,r){return e=Ke(e),r===o?(r=e,e=0):r=Ke(r),(n=n=me(n))>=Vn(e=e,r=r)&&n<Wn(e,r)},u.invoke=xf,u.isArguments=Lr,u.isArray=Q,u.isArrayBuffer=sf,u.isArrayLike=te,u.isArrayLikeObject=In,u.isBoolean=function(n){return n===!0||n===!1||Yn(n)&&Jn(n)==ne},u.isBuffer=dr,u.isDate=xe,u.isElement=function(n){return Yn(n)&&n.nodeType===1&&!zt(n)},u.isEmpty=function(n){if(n==null)return!0;if(te(n)&&(Q(n)||typeof n=="string"||typeof n.splice=="function"||dr(n)||Jr(n)||Lr(n)))return!n.length;var e,r=qn(n);if(r==I||r==wn)return!n.size;if(Dt(n))return!xi(n).length;for(e in n)if(yn.call(n,e))return!1;return!0},u.isEqual=function(n,e){return Ct(n,e)},u.isEqualWith=function(n,e,r){var t=(r=typeof r=="function"?r:o)?r(n,e):o;return t===o?Ct(n,e,o,r):!!t},u.isError=Ki,u.isFinite=function(n){return typeof n=="number"&&ta(n)},u.isFunction=Ze,u.isInteger=xl,u.isLength=jo,u.isMap=ml,u.isMatch=function(n,e){return n===e||bi(n,e,Mi(e))},u.isMatchWith=function(n,e,r){return r=typeof r=="function"?r:o,bi(n,e,Mi(e),r)},u.isNaN=function(n){return Cl(n)&&n!=+n},u.isNative=function(n){if(Wc(n))throw new H("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ga(n)},u.isNil=function(n){return n==null},u.isNull=function(n){return n===null},u.isNumber=Cl,u.isObject=On,u.isObjectLike=Yn,u.isPlainObject=zt,u.isRegExp=Gi,u.isSafeInteger=function(n){return xl(n)&&-L<=n&&n<=L},u.isSet=Sl,u.isString=Ro,u.isSymbol=he,u.isTypedArray=Jr,u.isUndefined=function(n){return n===o},u.isWeakMap=function(n){return Yn(n)&&qn(n)==er},u.isWeakSet=function(n){return Yn(n)&&Jn(n)=="[object WeakSet]"},u.join=function(n,e){return n==null?"":dc.call(n,e)},u.kebabCase=Df,u.last=be,u.lastIndexOf=function(n,e,r){var t=n==null?0:n.length;if(!t)return-1;var i=t;if(r!==o&&(i=(i=en(r))<0?Wn(t+i,0):Vn(i,t-1)),e!=e)return Qt(n,Fu,i,!0);for(var a=n,c=e,f=i+1;f--;)if(a[f]===c)return f;return f},u.lowerCase=Of,u.lowerFirst=zf,u.lt=pf,u.lte=hf,u.max=function(n){return n&&n.length?ho(n,ie,yi):o},u.maxBy=function(n,e){return n&&n.length?ho(n,$(e,2),yi):o},u.mean=function(n){return Uu(n,ie)},u.meanBy=function(n,e){return Uu(n,$(e,2))},u.min=function(n){return n&&n.length?ho(n,ie,mi):o},u.minBy=function(n,e){return n&&n.length?ho(n,$(e,2),mi):o},u.stubArray=iu,u.stubFalse=uu,u.stubObject=function(){return{}},u.stubString=function(){return""},u.stubTrue=function(){return!0},u.multiply=$f,u.nth=function(n,e){return n&&n.length?xa(n,en(e)):o},u.noConflict=function(){return Fn._===this&&(Fn._=pc),this},u.noop=ou,u.now=Yo,u.pad=function(n,e,r){n=gn(n);var t=(e=en(e))?Pr(n):0;return!e||e<=t?n:mo(co(e=(e-t)/2),r)+n+mo(lo(e),r)},u.padEnd=function(n,e,r){n=gn(n);var t=(e=en(e))?Pr(n):0;return e&&t<e?n+mo(e-t,r):n},u.padStart=function(n,e,r){n=gn(n);var t=(e=en(e))?Pr(n):0;return e&&t<e?mo(e-t,r)+n:n},u.parseInt=function(n,e,r){return e=r||e==null?0:e&&+e,_c(gn(n).replace(je,""),e||0)},u.random=function(n,e,r){var t;return r&&typeof r!="boolean"&&Qn(n,e,r)&&(e=r=o),r===o&&(typeof e=="boolean"?(r=e,e=o):typeof n=="boolean"&&(r=n,n=o)),n===o&&e===o?(n=0,e=1):(n=Ke(n),e===o?(e=n,n=0):e=Ke(e)),e<n&&(t=n,n=e,e=t),r||n%1||e%1?(t=oa(),Vn(n+t*(e-n+Jl("1e-"+((t+"").length-1))),e)):Si(n,e)},u.reduce=function(n,e,r){var t=Q(n)?ti:$u,i=arguments.length<3;return t(n,$(e,4),r,i,fr)},u.reduceRight=function(n,e,r){var t=Q(n)?rc:$u,i=arguments.length<3;return t(n,$(e,4),r,i,sa)},u.repeat=function(n,e,r){return e=(r?Qn(n,e,r):e===o)?1:en(e),ki(gn(n),e)},u.replace=function(){var n=arguments,e=gn(n[0]);return n.length<3?e:e.replace(n[1],n[2])},u.result=function(n,e,r){var t=-1,i=(e=pr(e,n)).length;for(i||(i=1,n=o);++t<i;){var a=n==null?o:n[Ee(e[t])];a===o&&(t=i,a=r),n=Ze(a)?a.call(n):a}return n},u.round=Vf,u.runInContext=v,u.sample=function(n){return(Q(n)?aa:Tc)(n)},u.size=function(n){if(n==null)return 0;if(te(n))return Ro(n)?Pr(n):n.length;var e=qn(n);return e==I||e==wn?n.size:xi(n).length},u.snakeCase=Yf,u.some=function(n,e,r){return(Q(n)?oi:Ic)(n,$(e=r&&Qn(n,e,r)?o:e,3))},u.sortedIndex=function(n,e){return _o(n,e)},u.sortedIndexBy=function(n,e,r){return Di(n,e,$(r,2))},u.sortedIndexOf=function(n,e){var r=n==null?0:n.length;if(r){var t=_o(n,e);if(t<r&&Ye(n[t],e))return t}return-1},u.sortedLastIndex=function(n,e){return _o(n,e,!0)},u.sortedLastIndexBy=function(n,e,r){return Di(n,e,$(r,2),!0)},u.sortedLastIndexOf=function(n,e){if(n!=null&&n.length){var r=_o(n,e,!0)-1;if(Ye(n[r],e))return r}return-1},u.startCase=Lf,u.startsWith=function(n,e,r){return n=gn(n),r=r==null?0:Dr(en(r),0,n.length),e=pe(e),n.slice(r,r+e.length)==e},u.subtract=qf,u.sum=function(n){return n&&n.length?ai(n,ie):0},u.sumBy=function(n,e){return n&&n.length?ai(n,$(e,2)):0},u.template=function(n,e,w){var t,i,h=u.templateSettings;w&&Qn(n,e,w)&&(e=o),n=gn(n),e=Io({},e,h,$a);var a=Hn(w=Io({},e.imports,h.imports,$a)),c=ci(w,a),f=0,h=e.interpolate||wr,_="__p += '",w=dt((e.escape||wr).source+"|"+h.source+"|"+(h===tr?Er:wr).source+"|"+(e.evaluate||wr).source+"|$","g"),b="//# sourceURL="+(yn.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kl+"]")+`
`;if(n.replace(w,function(S,P,M,V,X,O){return M=M||V,_+=n.slice(f,O).replace(Qo,ac),P&&(t=!0,_+=`' +
__e(`+P+`) +
'`),X&&(i=!0,_+=`';
`+X+`;
__p += '`),M&&(_+=`' +
((__t = (`+M+`)) == null ? '' : __t) +
'`),f=O+S.length,S}),_+=`';
`,h=yn.call(e,"variable")&&e.variable){if(yr.test(h))throw new H("Invalid `variable` option passed into `_.template`")}else _=`with (obj) {
`+_+`
}
`;if(_=(i?_.replace(Rn,""):_).replace(le,"$1").replace(ct,"$1;"),_="function("+(h||"obj")+`) {
`+(h?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(t?", __e = _.escape":"")+(i?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_+`return __p
}`,(w=El(function(){return J(a,b+"return "+_).apply(o,c)})).source=_,Ki(w))throw w;return w},u.times=function(n,e){if((n=en(n))<1||L<n)return[];for(var r=A,t=Vn(n,A),t=(e=$(e),n-=A,li(t,e));++r<n;)e(r);return t},u.toFinite=Ke,u.toInteger=en,u.toLength=Dl,u.toLower=function(n){return gn(n).toLowerCase()},u.toNumber=me,u.toSafeInteger=function(n){return n?Dr(en(n),-L,L):n===0?n:0},u.toString=gn,u.toUpper=function(n){return gn(n).toUpperCase()},u.trim=function(n,e,r){return(n=gn(n))&&(r||e===o)?Vu(n):n&&(e=pe(e))?(r=De(n),n=De(e),hr(r,qu(r,n),Zu(r,n)+1).join("")):n},u.trimEnd=function(n,e,r){return(n=gn(n))&&(r||e===o)?n.slice(0,Gu(n)+1):n&&(e=pe(e))?hr(r=De(n),0,Zu(r,De(e))+1).join(""):n},u.trimStart=function(n,e,r){return(n=gn(n))&&(r||e===o)?n.replace(je,""):n&&(e=pe(e))?hr(r=De(n),qu(r,De(e))).join(""):n},u.truncate=function(n,i){var r,c=30,t="...",i=(On(i)&&(r="separator"in i?i.separator:r,c="length"in i?en(i.length):c,t="omission"in i?pe(i.omission):t),(n=gn(n)).length);if((i=Wr(n)?(a=De(n)).length:i)<=c)return n;if((i=c-Pr(t))<1)return t;var a,c=a?hr(a,0,i).join(""):n.slice(0,i);if(r===o)return c+t;if(a&&(i+=c.length-i),Gi(r)){if(n.slice(i).search(r)){var f,h=c;for((r=r.global?r:dt(r.source,gn(Pe.exec(r))+"g")).lastIndex=0;f=r.exec(h);)var _=f.index;c=c.slice(0,_===o?i:_)}}else n.indexOf(pe(r),i)==i||-1<(a=c.lastIndexOf(r))&&(c=c.slice(0,a));return c+t},u.unescape=function(n){return(n=gn(n))&&Et.test(n)?n.replace(xn,lc):n},u.uniqueId=function(n){var e=++fc;return gn(n)+e},u.upperCase=Tf,u.upperFirst=nu,u.each=dl,u.eachRight=vl,u.first=fl,tu(u,(au={},Ie(u,function(n,e){yn.call(u.prototype,e)||(au[e]=n)}),au),{chain:!1}),u.VERSION="4.17.21",ge(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),ge(["drop","take"],function(n,e){ln.prototype[n]=function(r){r=r===o?1:Wn(en(r),0);var t=this.__filtered__&&!e?new ln(this):this.clone();return t.__filtered__?t.__takeCount__=Vn(r,t.__takeCount__):t.__views__.push({size:Vn(r,A),type:n+(t.__dir__<0?"Right":"")}),t},ln.prototype[n+"Right"]=function(r){return this.reverse()[n](r).reverse()}}),ge(["filter","map","takeWhile"],function(n,e){var r=e+1,t=r==1||r==3;ln.prototype[n]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:$(i,3),type:r}),a.__filtered__=a.__filtered__||t,a}}),ge(["head","last"],function(n,e){var r="take"+(e?"Right":"");ln.prototype[n]=function(){return this[r](1).value()[0]}}),ge(["initial","tail"],function(n,e){var r="drop"+(e?"":"Right");ln.prototype[n]=function(){return this.__filtered__?new ln(this):this[r](1)}}),ln.prototype.compact=function(){return this.filter(ie)},ln.prototype.find=function(n){return this.filter(n).head()},ln.prototype.findLast=function(n){return this.reverse().find(n)},ln.prototype.invokeMap=un(function(n,e){return typeof n=="function"?new ln(this):this.map(function(r){return mt(r,n,e)})}),ln.prototype.reject=function(n){return this.filter(To($(n)))},ln.prototype.slice=function(n,e){n=en(n);var r=this;return r.__filtered__&&(0<n||e<0)?new ln(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),e!==o?(e=en(e))<0?r.dropRight(-e):r.take(e-n):r)},ln.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ln.prototype.toArray=function(){return this.take(A)},Ie(ln.prototype,function(n,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),t=/^(?:head|last)$/.test(e),i=u[t?"take"+(e=="last"?"Right":""):e],a=t||/^find/.test(e);i&&(u.prototype[e]=function(){function c(V){return V=i.apply(u,lr([V],_)),t&&b?V[0]:V}var f,h=this.__wrapped__,_=t?[1]:arguments,M=h instanceof ln,S=_[0],w=M||Q(h),b=(w&&r&&typeof S=="function"&&S.length!=1&&(M=w=!1),this.__chain__),S=!!this.__actions__.length,P=a&&!b,M=M&&!S;return!a&&w?(h=M?h:new ln(this),(f=n.apply(h,_)).__actions__.push({func:Oo,args:[c],thisArg:o}),new Oe(f,b)):P&&M?n.apply(this,_):(f=this.thru(c),P?t?f.value()[0]:f.value():f)})}),ge(["pop","push","shift","sort","splice","unshift"],function(n){var e=eo[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",t=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i,a=arguments;return t&&!this.__chain__?(i=this.value(),e.apply(Q(i)?i:[],a)):this[r](function(c){return e.apply(Q(c)?c:[],a)})}}),Ie(ln.prototype,function(n,e){var r,t=u[e];t&&(r=t.name+"",yn.call(Vr,r)||(Vr[r]=[]),Vr[r].push({name:e,func:t}))}),Vr[bo(o,2).name]=[{name:"wrapper",func:o}],ln.prototype.clone=function(){var n=new ln(this.__wrapped__);return n.__actions__=re(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=re(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=re(this.__views__),n},ln.prototype.reverse=function(){var n;return this.__filtered__?((n=new ln(this)).__dir__=-1,n.__filtered__=!0):(n=this.clone()).__dir__*=-1,n},ln.prototype.value=function(){var n=this.__wrapped__.value(),e=this.__dir__,r=Q(n),t=e<0,i=r?n.length:0,a=function(j,N,K){for(var cn=-1,zn=K.length;++cn<zn;){var ue=K[cn],Xn=ue.size;switch(ue.type){case"drop":j+=Xn;break;case"dropRight":N-=Xn;break;case"take":N=Vn(N,j+Xn);break;case"takeRight":j=Wn(j,N-Xn)}}return{start:j,end:N}}(0,i,this.__views__),c=a.start,f=(a=a.end)-c,h=t?a:c-1,_=this.__iteratees__,w=_.length,b=0,S=Vn(f,this.__takeCount__);if(!r||!t&&i==f&&S==f)return Ya(n,this.__actions__);var P=[];n:for(;f--&&b<S;){for(var M=-1,V=n[h+=e];++M<w;){var X=_[M],O=X.iteratee,X=X.type,O=O(V);if(X==2)V=O;else if(!O){if(X==1)continue n;break n}}P[b++]=V}return P},u.prototype.at=Gc,u.prototype.chain=function(){return hl(this)},u.prototype.commit=function(){return new Oe(this.value(),this.__chain__)},u.prototype.next=function(){this.__values__===o&&(this.__values__=kl(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?o:this.__values__[this.__index__++]}},u.prototype.plant=function(n){for(var e,i=this;i instanceof so;)var r=ul(i),t=(r.__index__=0,r.__values__=o,e?t.__wrapped__=r:e=r,r),i=i.__wrapped__;return t.__wrapped__=n,e},u.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof ln?(n=n,(n=(n=this.__actions__.length?new ln(this):n).reverse()).__actions__.push({func:Oo,args:[Fi],thisArg:o}),new Oe(n,this.__chain__)):this.thru(Fi)},u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return Ya(this.__wrapped__,this.__actions__)},u.prototype.first=u.prototype.head,vt&&(u.prototype[vt]=function(){return this}),u}();mr?((mr.exports=Hr)._=Hr,xr._=Hr):Fn._=Hr}.call(tt);const Ge=1e5,Je=window.devicePixelRatio||1,Tr={daubConfig:{lineWidth:20,strokeStyle:"white"},tagConfig:{fontSize:20,showText:!0,fillStyle:"rgba(242, 88, 85, 0.5)",textFillStyle:"rgba(255, 255, 255, 0.6)",hoverStrokeStyle:"#F25856",hoverLineWidth:1,hoverLineDash:[5],highlightStrokeStyle:"yellow",highlightLineWidth:2,highlightLineDash:[5],customDraw(){}},layerConfig:{fillStyle:"rgba(0, 0, 0, 0.6)"},cropConfig:{lineDash:[],strokeStyle:"rgba(255, 255, 255, 1)",lineWidth:2,customDraw(){}},dotConfig:{lineDash:[],lineWidth:2,strokeStyle:"transparent",hoverFillStyle:"#69B1FF",fillStyle:"#24FF6E",radius:50}},ot={width:0,height:0},de={x:void 0,y:void 0};function gr(o){o.clearRect(-Ge/2,-Ge/2,Ge,Ge)}function gu(o,p){let g=new Image;return p&&(g.crossOrigin="anonymous"),g.src=o,new Promise((l,m)=>{g.complete?l(g):(g.onload=function(){l(g)},g.onerror=function(){m("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25:"+g.src)})})}function jr(o,p,g,l,m,L){o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(p,g,l,m,L)}function _u(o,p){o.fillStyle=p.layerConfig.fillStyle,o.fillRect(-Ge/2,-Ge/2,Ge,Ge)}function yu(o,p,g,l,m){o.clearRect(p,g,l,m)}function wu(o,p,g,l,m,L,z){L=G.exports.cloneDeep(L.cropConfig),z&&z.cropConfig&&Object.assign(L,z.cropConfig),o.setLineDash(L.lineDash),o.strokeStyle=L.strokeStyle,o.lineWidth=L.lineWidth,o.strokeRect(p,g,l,m)}function bu(o){return o=o.getClientRects()[0],o?{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}:void 0}function jt(o,p){o.canvas.width=p.width,o.canvas.height=p.height}function Le(o,p=["width","height"],g=!1){try{var l=function(L){let z=Object.prototype.toString.call(L);return z.slice(8,z.length-1)}(o);let m=g?1/Je:Je;if(l==="Number")return o*m;p.forEach(L=>{o[L]*=m})}catch{}return o}function xu(o){return Array.from(o.touches||[]).map(p=>Le({clientX:p.clientX,clientY:p.clientY},["clientX","clientY"]))}function mu(o,p,g,l,m,L,z){z||(gr(o),_u(o,L)),yu(o,p,g,l,m),wu(o,p,g,l,m,L)}function Ho(o,p,g,l){let m,L;p.forEach((z,A)=>{o&&(m=p[A-1]||z,L=z,o.beginPath(),o.lineJoin="round",o.lineCap="round",o.lineWidth=z.lineWidth||l.daubConfig.lineWidth,o.strokeStyle=z.strokeStyle||l.daubConfig.strokeStyle,o.moveTo(m._x||m.x,m._y||m.y),o.lineTo(L._x||L.x,L._y||L.y),o.stroke())})}function Qe(o,p,g,l,m,L){L||(gr(o),_u(o,l)),p.forEach(z=>{var E;let A=Ae(z,z.__scale,g),B=(m&&(A[0]+=m.offsetX,A[1]+=m.offsetY),yu(o,...A),wu(o,...A,l,z),G.exports.cloneDeep(l.cropConfig));z&&z.cropConfig&&Object.assign(B,z.cropConfig),(E=B.customDraw)==null||E.call(B,o,{target:z,positions:A})})}function it(o,p,g=1,l={x:0,y:0}){let m=[],L=[];return p.map(A=>{{var B=g,E=l;let q=G.exports.cloneDeep(A);return q.startX=q.startX*B+E.x,q.endX=q.endX*B+E.x,q.startY=q.startY*B+E.y,q.endY=q.endY*B+E.y,q}}).forEach((A,B)=>{!function(E,q){if(E.x>=q.startX&&E.x<=q.endX&&E.y>=q.startY&&E.y<=q.endY)return 1}(o,A)||(m.push(p[B]),L.push(B))}),{boxList:m,indexList:L}}function Rt(o,p){let g=p[0],l=p[0]+p[2],m=p[1],L=p[1]+p[3];return o.x>=g&&o.x<=l&&o.y>=m&&o.y<=L}function No(o,p){var g=Math.abs(p.x-o.x),l=Math.abs(p.y-o.y);return[Math.min(o.x,p.x),Math.min(o.y,p.y),g,l]}function Te(z){let p=z;var{startX:z,startY:A,endX:g,endY:l}=p,m=Math.abs(z-g),L=Math.abs(A-l),z=Math.min(z,g),A=Math.min(A,l);return p.startX=z,p.startY=A,p.endX=z+m,p.endY=A+L,{info:p,position:[z,A,m,L]}}function ut(g,l){var g=Te(g),l=Te(l),m=Math.min(g.info.startY,l.info.startY),L=Math.max(g.info.endY,l.info.endY);let z;Math.abs(L-m)<g.position[3]+l.position[3]&&(z={startY:Math.max(g.info.startY,l.info.startY),endY:Math.min(g.info.endY,l.info.endY)}),L=Math.min(g.info.startX,l.info.startX),m=Math.max(g.info.endX,l.info.endX),m=Math.abs(m-L),L=g.position[2]+l.position[2];let A;if((A=m<L?{startX:Math.max(g.info.startX,l.info.startX),endX:Math.min(g.info.endX,l.info.endX)}:A)!==void 0&&z!==void 0)return Object.assign(z,A)}function Ae(z,p=1,g={x:0,y:0}){var z=Te(z),{startX:l,startY:m}=z.info,L=z.position[2],z=z.position[3];return[l*p+g.x,m*p+g.y,L*p,z*p]}function Fo(o){return o=Ae(o),5<=o[2]&&5<=o[3]}function Uo(o,p,g,l,m,L,z,A,B,E,q,ne,Kn){let Cn=G.exports.cloneDeep(L.tagConfig);if(ne&&Object.assign(Cn,ne),o.font=Cn.fontSize+"px sans-serif",A||B){if(!B||A&&A.type==="move"||(o.fillStyle=Cn.fillStyle,o.fillRect(p,g,l,m),z&&Cn.showText&&(L=parseFloat(o.font.split(" ")[0]),o.fillStyle=Cn.textFillStyle,o.fillText(q||z+"",p+4,g+m/2+L/2))),E&&(o.strokeStyle=Cn.highlightStrokeStyle,o.lineWidth=Cn.highlightLineWidth,o.setLineDash(Cn.highlightLineDash),o.strokeRect(p,g,l,m)),A&&Rt(A,[p,g,l,m])){if(A.type==="click")return{isShow:B=!B,isCrash:!0};A.type!=="move"||B||(o.strokeStyle=Cn.hoverStrokeStyle,o.lineWidth=Cn.hoverLineWidth,o.setLineDash(Cn.hoverLineDash),o.strokeRect(p,g,l,m))}Cn.customDraw(o,{target:Kn,positions:[p,g,l,m]})}}function Be(o,p,g,l,m={offsetX:0,offsetY:0},L){let z=!1,A=[];return p.forEach(B=>{let E=Ae(B,B.__scale,g);E[0]+=m.offsetX,E[1]+=m.offsetY;var q=Uo(o,...E,l,(B.__index||0)+1,L,B.isShow,B.showOutLine,B.labelText,B.tagConfig,B);q!==void 0&&(B.isShow=q.isShow,q.isCrash&&(z=!0,A.push(B)))}),{isReDraw:z,redrawList:A}}function Cu(o,p,g){return g=Xt({x:o[0],y:o[1]},p,g),o[0]=g.x,o[1]=g.y,o[2]/=p/Je,o[3]/=p/Je,o}function It(o,p,g,l,m){p.forEach(q=>{o.beginPath();var z,A,B,E=G.exports.cloneDeep(l.dotConfig),q=(q.dotConfig&&Object.assign(E,q.dotConfig),o.fillStyle=q.__isHover?E.hoverFillStyle:E.fillStyle,o.strokeStyle=E.strokeStyle,o.lineWidth=E.lineWidth,o.setLineDash(E.lineDash),[q,E=1,z={x:0,y:0},A,B]=[q,q.__scale,g,E.radius,m],[q.x*E+z.x+((B==null?void 0:B.offsetX)||0),q.y*E+z.y+((B==null?void 0:B.offsetY)||0),A*E,0,2*Math.PI]);o.arc(...q),o.fill(),o.stroke()})}function Su(o,p){return(o.x<=p.x?"left":"right")+"-"+(o.y<=p.y?"top":"bottom")}function ku(o,L,g){var l=No(o,L),m=(L.x-o.x)/g,L=(L.y-o.y)/g;let z=!1;return{isStartMove:z=5<l[2]||5<l[3]?!0:z,offsetInfo:{offsetX:m,offsetY:L}}}function Xt(o,p,g){return{x:o.x/p+g.x,y:o.y/p+g.y}}function at(o,p,g,l){return o=Xt({x:o.layerX,y:o.layerY},p,g),{x:o.x,y:o.y,type:l}}function Du(o,p,g=-1,l){return o=Ae(o,o.__scale,p),p=l!=null?l:C.mobile()?6*Je:6,l=p/2,[{index:g,name:"left-top",type:"vertex",positions:[o[0]-l,o[1]-l,p,p]},{index:g,name:"right-top",type:"vertex",positions:[o[0]+o[2]-l,o[1]-l,p,p]},{index:g,name:"left-bottom",type:"vertex",positions:[o[0]-l,o[1]+o[3]-l,p,p]},{index:g,name:"right-bottom",type:"vertex",positions:[o[0]+o[2]-l,o[1]+o[3]-l,p,p]},{index:g,name:"left",type:"border",positions:[o[0]-l,o[1]+l,p,o[3]-l]},{index:g,name:"top",type:"border",positions:[o[0]+l,o[1]-l,o[2]-l,p]},{index:g,name:"right",type:"border",positions:[o[0]+o[2]-l,o[1]+l,p,o[3]-l]},{index:g,name:"bottom",type:"border",positions:[o[0]+l,o[1]+o[3]-l,o[2]-l,p]}]}function $o(o,p,g,l,m){o=at(o,g,m,"move");let L=p.map((A,B)=>Du(A,l,B)).flat(),z=function(A,B){let E=!1,q=[],ne=[];return B.forEach((Kn,Cn)=>{Rt(A,Kn)&&(E=!0,q.push(Kn),ne.push(Cn))}),{hasIn:E,coverList:q,coverIndexList:ne}}(o,L.map(A=>A.positions));return{hasIn:z.hasIn,list:z.coverIndexList.map(A=>L[A])}}function Vo(o){if(o=o.find(p=>p.type==="vertex")||o[0],o)return o;throw new Error("findOneBorderOrVertex list may be empty.")}function Ou(o,p,g,l,m,L,z){z||((z=$o(p,g,l,m,L)).hasIn?((p=Vo(z.list).name)!=="left-top"&&p!=="right-bottom"||(o.style.cursor="nwse-resize"),p!=="right-top"&&p!=="left-bottom"||(o.style.cursor="nesw-resize"),p!=="left"&&p!=="right"||(o.style.cursor="col-resize"),p!=="top"&&p!=="bottom"||(o.style.cursor="row-resize")):o.style.cursor="auto")}function zu(o,p,g,l,m,L,z,A,B,E,q){if(p&&p.x!==void 0&&g&&g.x!==void 0){var p=ku(p,g,L);if(p.isStartMove)return{offsetX:g,offsetY:L}=p.offsetInfo,p=Ae(function(hn,Cn,Z){if(!Z)return hn;let fn=G.exports.cloneDeep(hn),I=Z.name;var{offsetX:hn,offsetY:Z}=Cn;return I.includes("left")&&(fn.startX+=hn),I.includes("top")&&(fn.startY+=Z),I.includes("right")&&(fn.endX+=hn),I.includes("bottom")&&(fn.endY+=Z),fn}(l,{offsetX:g/m,offsetY:L/m},B),m,z),Qe(o,E,z,q),q.mode=="crop"&&mu(o,...p,q,!0),Be(o,A,z,q),q.mode=="tag"&&Uo(o,...p,q,(l.__index||0)+1,void 0,l.isShow,l.showOutLine,l.labelText,l.tagConfig,void 0),p}}function Yu(o,p){return Math.abs(o-p)}function Lu(o){return{width:Yu(o[0].clientX,o[1].clientX),height:Yu(o[0].clientY,o[1].clientY)}}function qo(o,p,g=1){return Te({startX:(o[0]-p.x)/g,startY:(o[1]-p.y)/g,endX:(o[0]+o[2]-p.x)/g,endY:(o[1]+o[3]-p.y)/g}).info}function ae(o,p,g){return o.map((l,m)=>(l.__scale=p,l.__index=m,Te(Ko(l,g)).info))}function Rr(o,p,g){return o.map((l,m)=>(l.__scale=p,l.__index=m,m=g,(l=l).x=_r(l.x,m),l.y=_r(l.y,m),l.raduis=_r(l.raduis||0,m),l))}function Zo(o,p,g){return o.map(l=>l.map(m=>({...m,_x:m.x*g+p.x,_y:m.y*g+p.y})))}function Tu(o,p){for(const g of p)if(ut(o,g))return!0;return!1}function ju(o,p){return p=ut(o,p),!(!p||p.startX!==o.startX||p.endX!==o.endX||p.startY!==o.startY||p.endY!==o.endY)}function Ru(o,p,g){let l=G.exports.cloneDeep(g);return o==="img"&&(l.startX=l.startX+p.startX,l.startY=l.startY+p.startY,l.endX=l.endX+p.startX,l.endY=l.endY+p.startY),o==="crop"&&(l.startX=l.startX-p.startX,l.startY=l.startY-p.startY,l.endX=l.endX-p.startX,l.endY=l.endY-p.startY),l}function Ko(o,p){return o.startX=_r(o.startX,p),o.endX=_r(o.endX,p),o.startY=_r(o.startY,p),o.endY=_r(o.endY,p),o}function _r(o,p){return parseFloat(o.toFixed(p))}function Iu(o,p,g){return g=G.exports.cloneDeep(g.dotConfig),p.dotConfig&&Object.assign(g,p.dotConfig),o=(o.x-p.x)**2+(o.y-p.y)**2,o<=g.radius**2}var Ir=(o,p)=>{const g=o.__vccOpts||o;for(var[l,m]of p)g[l]=m;return g},lt=o=>(F.pushScopeId("data-v-6ff721f8"),o=o(),F.popScopeId(),o);const Pl=["onTouchmove","onTouchstart","onTouchend"],Hl={key:0,class:"mode-panel"},Nl={class:"status"},Fl={class:"text"},Ul={class:"tip"},$l=lt(()=>F.createElementVNode("kbd",null,"Ctrl",-1)),Vl=F.createTextVNode(" + "),ql=lt(()=>F.createElementVNode("kbd",null,"B",-1)),Zl=lt(()=>F.createElementVNode("span",{style:{"font-size":"14px","margin-left":"10px"}},"\u5207\u6362\u6A21\u5F0F",-1));lt=F.defineComponent({props:{cropConfig:{default:()=>Tr.cropConfig},daubConfig:{default:()=>Tr.daubConfig},layerConfig:{default:()=>Tr.layerConfig},tagConfig:{default:()=>Tr.tagConfig},dotConfig:{default:()=>Tr.dotConfig},drawingText:null,isShowTip:{type:Boolean,default:!1},enableScale:{type:Boolean,default:!0},enableMove:{type:Boolean,default:!0},enableDrawCrop:{type:Boolean,default:!0},enableDrawTag:{type:Boolean,default:!0},initScale:{type:Boolean,default:!0},enableInteractiveTagChangeStatus:{type:Boolean,default:!0},enableCropCross:{type:Boolean,default:!1},handleResizeCropCross:{default:"reset"},enableInteractiveCropDelete:{type:Boolean,default:!0},enableCropResize:{type:Boolean,default:!0},enableTagResize:{type:Boolean,default:!1},enableDrawCropOutOfImg:{type:Boolean,default:!0},enableDrawTagOutOfCrop:{type:Boolean,default:!0},enableDrawTagOutOfImg:{type:Boolean,default:!0},isImgCrop:{type:Boolean,default:!1},isCropSingle:{type:Boolean,default:!1},enableDotCenterOutOfImg:{type:Boolean,default:!1},cropList:{default:()=>Array()},tagList:{default:()=>Array()},daubStack:{default:()=>Array()},dotList:{default:()=>Array()},mode:{default:"crop"},mobileOperation:{default:"move"},src:null,precision:{default:0},splitClickAndDoubleClickEvent:{type:Boolean,default:!1},disableDefaultShortcuts:{default:()=>Array()},customDrawTopCtx:null},emits:["update:cropList","update:daubStack","cropListChange","update:tagList","update:dotList","tagListChange","update:mode","update:mobileOperation","resizeStart","resizeEnd","delCrop","drawCropStart","drawTagStart","mouseOverInfo","onLoadImage"],setup(o,{expose:p,emit:g}){const l=o;let m=!1,L,z,A=null,B=null,E={last:{down:void 0,up:void 0},prev:{down:void 0,up:void 0}};const q=C.mobile()?.1/Je*1.5:.1;let ne=q,Kn=!1;function Cn(){B=null,Kn=!1,ne=q,U.resizeHovering=void 0}let Tn=!1,fn=null,I=null,hn,Z=G.exports.cloneDeep(ot),jn=F.ref(G.exports.cloneDeep(ot)),Mn=G.exports.cloneDeep(de),wn=G.exports.cloneDeep(de),ve=G.exports.cloneDeep(de),nr={x:0,y:0},er=0,R={x:0,y:0},tn={x:0,y:0},W=F.ref(1),Ce,Se,rr=F.ref(1),Sn,sn=F.ref(1),Pn,dn=[],an=[],Rn=[],le=[],ct=F.ref({scale:1,zoomScale:1}),xn=(F.watch(()=>[W.value,sn.value,rr.value],()=>{ct.value.scale=W.value,ct.value.zoomScale=sn.value},{deep:!0}),F.computed(()=>{let s=G.exports.cloneDeep(Tr);return Object.assign(s.cropConfig,l.cropConfig),Object.assign(s.tagConfig,l.tagConfig),Object.assign(s.layerConfig,l.layerConfig),Object.assign(s.daubConfig,l.daubConfig),Object.assign(s.dotConfig,l.dotConfig),s.drawingText=l.drawingText,s.mode=l.mode,s})),ce=F.ref(),Et=F.ref(),Mt=F.ref(),U={isScaleing:!1,isDrawRecting:!1,isMoving:!1,resizeHovering:void 0,isMouseDown:()=>Mn.x!==void 0,isMouseUpDownPoints:()=>Mn.x!==void 0&&wn.x!==void 0};const Gn={dragCreatRectInterrupt(){yr()},dragCreatOrResizeRect(s){var d,x;I&&(s=="drawDot"&&It(I,Rn,R,xn.value),s=="drawCrop"&&(l.isCropSingle&&!U.isDrawRecting&&(an=[]),U.isDrawRecting||g("drawCropStart"),U.isDrawRecting=!0,Pn=function(D,T,k,vn,nn,Dn,An,Bn){if(T.x!==void 0&&k.x!==void 0){let _n=Cu(No(T,k),vn,nn);if(_n[2]=Le(_n[2],void 0,!0),_n[3]=Le(_n[3],void 0,!0),5<_n[2]||5<_n[3])return Qe(D,Dn,An,Bn),mu(D,..._n,Bn,!0),_n}}(I,Mn,wn,sn.value,tn,an,R,xn.value),Be(I,dn,R,xn.value),(d=l.customDrawTopCtx)==null||d.call(l,I,je)),s=="drawTag"&&(U.isDrawRecting||g("drawTagStart"),U.isDrawRecting=!0,Qe(I,an,R,xn.value),Pn=function(D,T,k,vn,nn,Dn,An,Bn){if(T.x!==void 0&&k.x!==void 0){let _n=Cu(No(T,k),vn,nn);if(_n[2]=Le(_n[2],void 0,!0),_n[3]=Le(_n[3],void 0,!0),5<_n[2]||5<_n[3])return Be(D,Dn,An,Bn),Uo(D,..._n,Bn,Dn.length+1,void 0,!0,void 0,Bn.drawingText,void 0,void 0),_n}}(I,Mn,wn,sn.value,tn,dn,R,xn.value),(x=l.customDrawTopCtx)==null||x.call(l,I,je)),s=="resize")&&{crop(){var T;l.enableCropResize&&U.resizeHovering&&I?(B=an[U.resizeHovering.index||0],U.resizeHovering&&B&&(U.isDrawRecting=!0,Pn=zu(I,Mn,wn,B,B.__scale||1,sn.value,R,dn,U.resizeHovering,an.filter((k,vn)=>{var nn;return vn!==((nn=U.resizeHovering)==null?void 0:nn.index)}),xn.value),(T=l.customDrawTopCtx)==null||T.call(l,I,je))):Gn.move()},tag(){var T;l.enableTagResize&&U.resizeHovering&&I?(B=dn[U.resizeHovering.index||0],U.resizeHovering&&B&&(U.isDrawRecting=!0,Pn=zu(I,Mn,wn,B,B.__scale||1,sn.value,R,dn.filter((k,vn)=>{var nn;return vn!==((nn=U.resizeHovering)==null?void 0:nn.index)}),U.resizeHovering,an,xn.value),(T=l.customDrawTopCtx)==null||T.call(l,I,je))):Gn.move()},daub(){},dot(){}}[l.mode]()},changeMode(){l.mode==="tag"?g("update:mode","crop"):g("update:mode","tag")},scale(s,d){if(!hn||!fn||!I)throw new Error("can't find canvas ctx or img");U.isScaleing=!0,fn.translate(tn.x,tn.y),I.translate(tn.x,tn.y),tn={x:tn.x-(d.x/(sn.value*s)-d.x/sn.value),y:tn.y-(d.y/(sn.value*s)-d.y/sn.value)},fn.scale(s,s),I.scale(s,s),fn.translate(-tn.x,-tn.y),I.translate(-tn.x,-tn.y),sn.value*=s,gr(fn),gr(I),jr(fn,hn,R.x,R.y,jn.value.width*W.value,jn.value.height*W.value),Nn(),Kn=!1,U.isScaleing=!1},move(){var s;if(l.enableMove&&fn&&I&&hn&&!U.isScaleing){U.isMoving=!0;let d=function(x,D,T,k,vn,nn,Dn,An,Bn,_n,st,or,ir){if(Dn.x!==void 0&&An.x!==void 0&&(Dn=ku(Dn,An,_n),Dn.isStartMove))return{offsetX:An,offsetY:_n}=Dn.offsetInfo,gr(x),jr(x,T,(x={x:nn.x+An,y:nn.y+_n}).x,x.y,k.width*vn,k.height*vn),Qe(D,Bn,nn,ir,Dn.offsetInfo),Be(D,st,nn,ir,{offsetX:An,offsetY:_n}),It(D,or,nn,ir,Dn.offsetInfo),{offsetX:An,offsetY:_n}}(fn,I,hn,jn.value,W.value,R,Mn,wn,an,sn.value,dn,Rn,xn.value);(s=l.customDrawTopCtx)==null||s.call(l,I,x=>je(x).map(D=>(d&&(D[0]+=d.offsetX,D[1]+=d.offsetY),D))),d&&(Se=G.exports.cloneDeep(R))&&(Se.x+=d.offsetX,Se.y+=d.offsetY)}},scrollIntoView(s){if(fn&&I&&hn){var d=Ae(s,W.value,R);s.__scale=W.value;let x=G.exports.take(Du(s,R,void 0,0),4).map(T=>({x:T.positions[0]-tn.x,y:T.positions[1]-tn.y})),D=[0,0,((Z==null?void 0:Z.width)||0)/sn.value,((Z==null?void 0:Z.height)||0)/sn.value];x.every(T=>!Rt(T,D))&&(R={x:R.x-d[0]+tn.x+(D[2]-d[2])/2,y:R.y-d[1]+tn.y+(D[3]-d[3])/2},gr(fn),gr(I),jr(fn,hn,R.x,R.y,hn.width*W.value,hn.height*W.value),Nn())}},hoverRect(s){if(I&&(Kn=function(d,x,D,T,k,vn,nn,Dn,An,Bn,_n){if(x==="tag"&&!An){let st=D.filter(br=>!br.isShow),or=!1,ir=at(nn,T,vn,"move"),Gt=[];st.forEach(br=>{var ni=Ae(br,br.__scale,k);Rt(ir,ni)&&(Gt.push(br),or=!0)}),or?(Bn=!0,Be(d,Gt,k,_n,void 0,ir)):Bn&&(Qe(d,Dn,k,_n),Be(d,D,k,_n),Bn=!1)}return Bn}(I,l.mode,dn,sn.value,R,tn,s,an,U.isScaleing,Kn,xn.value),!m&&(l.enableCropResize&&l.mode==="crop"&&Ou(ce.value,s,an,sn.value,R,tn,U.isScaleing),l.enableTagResize&&l.mode==="tag"&&Ou(ce.value,s,dn,sn.value,R,tn,U.isScaleing),l.mode=="dot"))){s=at(s,sn.value,tn,"move");let d={x:(s.x-R.x)/W.value,y:(s.y-R.y)/W.value,raduis:0},x=(Rr([d],W.value,l.precision),G.exports.cloneDeep(Rn));x.forEach(D=>{Iu(d,D,xn.value)?(D.__isHover=!0,ce.value.style.cursor="pointer"):(D.__isHover=!1,ce.value.style.cursor="auto")}),Rn=x,It(I,Rn,R,xn.value),yr()}}},tr={onMouseOverMove(s){C.mobile()?this.onHoldMouseLeftBtnMove(s):U.isMouseDown()||C.mobile()?l.mode==="dot"&&!m||this.onHoldMouseLeftBtnMove(s):Gn.hoverRect(s)},onHoldMouseLeftBtnMove(s){var d,x;wn={x:s.layerX,y:s.layerY},m?this.onDrawSwitchOnStartDraw():l.mode==="daub"?U.isScaleing||(s=Xt(ve,sn.value,tn),x={x:(d=Xt(wn,sn.value,tn)).x,y:d.y,lineWidth:l.daubConfig.lineWidth,strokeStyle:l.daubConfig.strokeStyle},I&&(Ho(I,[s,d],R,xn.value),ve=G.exports.cloneDeep(wn),le[le.length-1].push(x))):U.resizeHovering?Gn.dragCreatOrResizeRect("resize"):Gn.move()},onDoubleClick(s){l.mode==="crop"&&l.enableInteractiveCropDelete&&Zt(it(s,an,W.value,R).boxList),l.mode==="tag"&&it(s,dn,W.value,R).boxList.forEach(x=>{var D;(D=x==null?void 0:x.onDoubleClick)==null||D.call(x,"",x)})},onCick(s){if(l.mode=="dot"){var d=s;let x={x:(d.x-R.x)/W.value,y:(d.y-R.y)/W.value,raduis:0};return Rr([x],W.value,l.precision),!l.enableDotCenterOutOfImg&&(x.x<0||x.x>jn.value.width||x.y<0||x.y>jn.value.height)?void 0:(d=Rn.filter(D=>!Iu(x,D,xn.value)),d.length!==Rn.length?(Rn=d,void Nn()):(Rn.push(x),yr(),void Gn.dragCreatOrResizeRect("drawDot")))}l.mode==="tag"&&I&&(it(s,dn,W.value,R).boxList.forEach(D=>{var T;(T=D==null?void 0:D.onClick)==null||T.call(D,"",D)}),l.enableInteractiveTagChangeStatus&&(Qe(I,an,R,xn.value),{isReDraw:d,redrawList:s}=Be(I,dn,R,xn.value,void 0,s),d&&(Nn(),Er("statusChange",Pe(s)))))},onWheel(s,d,x){(l.enableScale||x)&&Gn.scale(s,d)},onDrawSwitchOnStartDraw(){l.mode==="dot"?Gn.move():l.mode==="crop"?l.enableDrawCrop&&Gn.dragCreatOrResizeRect("drawCrop"):l.enableDrawTag&&Gn.dragCreatOrResizeRect("drawTag")}},ke={shiftMode(){Gn.changeMode()},shiftDrawSwitch(s){F.nextTick(()=>{s==="on"&&((l.enableDrawCrop&&l.mode==="crop"||l.enableDrawTag&&l.mode==="tag")&&(ce.value.style.cursor="crosshair"),U.isMouseDown()||(m=!0)),s==="off"&&(U.isMoving||U.resizeHovering||Gn.dragCreatRectInterrupt(),m=!1)})},init(){(async function(){if(Cn(),Tn=!1,fn=null,I=null,hn=void 0,Z=G.exports.cloneDeep(ot),jn.value=G.exports.cloneDeep(ot),Mn=G.exports.cloneDeep(de),wn=G.exports.cloneDeep(de),ve=G.exports.cloneDeep(de),R={x:0,y:0},tn={x:0,y:0},W.value=1,Ce=void 0,Se=void 0,rr.value=1,Sn=void 0,sn.value=1,Pn=void 0,dn=[],an=[],await F.nextTick(),1<l.cropList.length){let s={startX:1/0,startY:1/0,endX:-1/0,endY:-1/0};l.cropList.forEach(d=>{d=Te(d),d.info.startX<s.startX&&(s.startX=d.info.startX),d.info.startY<s.startY&&(s.startY=d.info.startY),d.info.endX>s.endX&&(s.endX=d.info.endX),d.info.endY>s.endY&&(s.endY=d.info.endY)}),Ce=s}return l.cropList.length==1&&(Ce=l.cropList[0]),dn=G.exports.cloneDeep(l.tagList),an=G.exports.cloneDeep(l.cropList),Rn=G.exports.cloneDeep(l.dotList),le=G.exports.cloneDeep(l.daubStack),We(),C.mobile()||(window.addEventListener("keydown",At),window.addEventListener("keyup",Bt)),Wt(),fn=Et.value.getContext("2d"),I=Mt.value.getContext("2d"),fn&&I?(Z=Le(bu(fn.canvas)))?(jt(fn,Z),jt(I,Z),g("onLoadImage",{status:"loading"}),gu(l.src).then(s=>{if(g("onLoadImage",{status:"success"}),!Z||!fn||!I)return Promise.reject("canvasWH or canvas var not has valid values.");if(hn=s,jn.value={width:hn.width,height:hn.height},l.initScale){s=Z,T=hn,k=s.width/T.width,s=s.height/T.height;var d,x,D,T={scale:k<s?k:s,fit:k<s?"height":"width"};if(W.value=rr.value=T.scale,Ce)return k=Ae(Ce,rr.value,R),s=(Z.width-.05*Z.width)/k[2],d=(Z.height-.05*Z.height)/k[3],d=Z.width/Z.height>k[2]/k[3]?d:s,x=k[0]+k[2],D=k[1]+k[3],(d=d)==s?(R.x=(Z.width-x*d-.05*Z.width/2)/d,R.y=((Z.height-k[3]*d)/2-k[1]*d)/d):(R.x=((Z.width-k[2]*d)/2-k[0]*d)/d,R.y=(Z.height-D*d-.05*Z.height/2)/d),an=ae(an,W.value,l.precision),dn=ae(dn,W.value,l.precision),Rn=Rr(Rn,W.value,l.precision),le=Zo(le,R,W.value),ft({deltaY:1,clientX:0,clientY:0,preventDefault(){},stopPropagation(){},__zoom:d},!0),!0;T.fit==="width"?R.x=(Z.width-jn.value.width*W.value)/2:R.y=(Z.height-jn.value.height*W.value)/2,Ce={startX:0,startY:0,endX:0+jn.value.width,endY:0+jn.value.height},l.isImgCrop&&Xr("add",an=[Ce])}var T,k;return an=ae(an,W.value,l.precision),dn=ae(dn,W.value,l.precision),Rn=Rr(Rn,W.value,l.precision),le=Zo(le,R,W.value),jr(fn,hn,R.x,R.y,hn.width*W.value,hn.height*W.value),Nn(),!0}).catch(s=>{g("onLoadImage",{status:"error",msg:JSON.stringify(s)})})):Promise.reject("Error: can't get canvas height and width."):Promise.reject("Error: can't find canvas element.")})().then(()=>{Tn=!0})},resize(){requestAnimationFrame(()=>{(async function(){if(Go(),await F.nextTick(),We(),fn&&I&&hn){if(!(Z=Le(bu(fn.canvas))))return Promise.reject("Error: can't get canvas height and width.");jt(fn,Z),jt(I,Z),fn.scale(sn.value,sn.value),I.scale(sn.value,sn.value),fn.translate(-tn.x,-tn.y),I.translate(-tn.x,-tn.y),jr(fn,hn,R.x,R.y,hn.width*W.value,hn.height*W.value),an=ae(an,W.value,l.precision),dn=ae(dn,W.value,l.precision),Rn=Rr(Rn,W.value,l.precision),Nn(),Tn=!0}})()})}};function At(s){s.code!=="Space"||l.disableDefaultShortcuts.includes("space")||(s.target===document.body&&s.preventDefault(),ke.shiftDrawSwitch("on"))}function Bt(s){if(s.code==="KeyB"&&s.ctrlKey){if(l.disableDefaultShortcuts.includes("ctrl+b"))return;ke.shiftMode()}s.code!=="Space"||l.disableDefaultShortcuts.includes("space")||ke.shiftDrawSwitch("off")}function We(){var s=ce.value.getBoundingClientRect();Sn={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y}}function Go(){B=null,Tn=!1,Z=G.exports.cloneDeep(ot),Mn=G.exports.cloneDeep(de),wn=G.exports.cloneDeep(de),ve=G.exports.cloneDeep(de),Sn=void 0}function je(s){return ae(s,W.value,l.precision).map(x=>Ae(x,W.value,R))}function Nn(){var s;I&&(Qe(I,an,R,xn.value),Be(I,dn,R,xn.value),It(I,Rn,R,xn.value),le.forEach(d=>{I&&Ho(I,d,R,xn.value)}),(s=l.customDrawTopCtx)==null||s.call(l,I,je))}function Wt(){C.mobile()&&(l.mobileOperation==="draw"&&ke.shiftDrawSwitch("on"),l.mobileOperation==="move"&&ke.shiftDrawSwitch("off"))}function Pt(){ke.resize()}function ft(s,d){l.enableScale&&(s.stopPropagation(),s.preventDefault());var x,D,T;if(!Sn)throw new Error("can't find  containerInfo.");!Tn&&!s.__zoom||U.isDrawRecting||U.isMoving||(x=d?0:(s.clientX-Sn.left)*Je,D=d?0:(s.clientY-Sn.top)*Je,T=s.deltaY<0?1:-1,s=d?s.__zoom:Math.exp(T*ne),sn.value*s<.2||tr.onWheel(s,{x,y:D},d))}function Ht(s){if(U.resizeHovering){var d;let x={crop:{boxList:an,trigger:Xr,getBoxFunc:He},tag:{boxList:dn,trigger:Er,getBoxFunc:Pe},daub:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]},dot:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]}}[l.mode];x.boxList[U.resizeHovering.index]=s,g("resizeEnd",{index:U.resizeHovering.index,box:s}),l.mode==="tag"&&(d=Su(Mn,wn),Object.assign(s,{__oprateType:"resize",__vertexPosition:d})),x.trigger("resize",x.getBoxFunc([s]))}}function yr(){Tn&&(U.isMoving=!1,Se&&(R=G.exports.cloneDeep(Se)),Se=void 0,(U.isMouseUpDownPoints()||l.mode==="dot")&&{crop(){if(Pn){let d={...B,...qo(Pn,R,W.value)};B=null,U.resizeHovering?!l.enableCropCross&&Tu(d,an.filter((x,D)=>{var T;return D!==((T=U.resizeHovering)==null?void 0:T.index)}))?(l.handleResizeCropCross==="reset"&&Nn(),l.handleResizeCropCross==="delete"&&Zt([an[U.resizeHovering.index]])):Ht(d):(d=ae([d],W.value,l.precision)[0],!l.enableCropCross&&Tu(d,an)?Nn():(an.push(d),Xr("add",He([d])))),Pn=void 0}},tag(){var d,x;Pn&&(d={...B,...qo(Pn,R,W.value)},B=null,U.resizeHovering?Ht(d):(d=Su(Mn,wn),x=ae([x=qo(Pn,R,W.value)],W.value,l.precision)[0],Object.assign(x,{isShow:!0,__oprateType:"add",__vertexPosition:d}),dn.push(x),Er("add",Pe([x]))),Pn=void 0)},daub(){Pn=Pn&&void 0;let d=G.exports.cloneDeep(le);g("update:daubStack",d.map(x=>x.map(D=>(D._x!=null&&D._y!=null?(delete D._x,delete D._y):(D.x=(D.x-R.x)/W.value,D.y=(D.y-R.y)/W.value),D))))},dot(){let d=G.exports.cloneDeep(Rn);g("update:dotList",d.map(x=>x))}}[l.mode](),U.resizeHovering=void 0,U.isDrawRecting=!1,Mn=G.exports.cloneDeep(de),wn=G.exports.cloneDeep(de),ve=G.exports.cloneDeep(de),ce.value.style.cursor="auto")}function Xr(s,d){var x=He(an);g("update:cropList",x),g("cropListChange",{type:s,list:d})}function Er(s,d){let x={type:s,list:d};if(s==="add"){let D=d.filter(T=>Reflect.get(T,"__parentCrop"))[0];D&&(x.parentCrop=He([Reflect.get(D,"__parentCrop")])[0],delete D.__parentCrop)}g("tagListChange",x),s=Pe(dn),g("update:tagList",s)}function Pe(s){let d=s||dn,x=an,D=[];return d.forEach(nn=>{let k=nn;if(!l.enableDrawTagOutOfCrop&&k.__oprateType&&k.__vertexPosition){if(vn=it((nn=k,{x:(vn=(vn=k.__vertexPosition).split("-"))[0]==="left"?nn.startX:nn.endX,y:vn[1]==="top"?nn.startY:nn.endY}),x).boxList[0],!vn)return;nn=ut(k,vn),nn&&Fo(nn)?(Object.assign(k,nn),k.__parentCrop=vn):k.__isValidity=!1}delete k.__oprateType,Reflect.deleteProperty(k,"__vertexPosition"),l.enableDrawTagOutOfCrop&&!l.enableDrawTagOutOfImg&&(vn={startX:0,startY:0,endX:(nn=jn.value).width,endY:nn.height},(nn=ut(k,vn))&&Fo(nn)?Object.assign(k,nn):k.__isValidity=!1);var vn,nn=Te(k);D.push(Ko(nn.info,l.precision))}),D.filter(T=>T.__isValidity!==!1)}function He(s){return(s||an).map(vn=>{let T=vn;l.enableDrawCropOutOfImg||(k={startX:0,startY:0,endX:(k=jn.value).width,endY:k.height},(k=ut(T,k))&&Fo(k)?T={...vn,...k}:T._del=!0),Reflect.deleteProperty(T,"__vertexPosition");var k,vn=Te(T);return Ko(vn.info,l.precision)}).filter(D=>!D._del)}function Nt(s){var d;Tn&&fn&&I&&(d=new Date().getTime(),L=d,E.prev.down?E.last.down=d:E.prev.down=d,d=Le(d={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),Mn={x:d.layerX,y:d.layerY},ve=G.exports.cloneDeep(Mn),l.mode=="daub"&&le.push([]),l.mode==="crop"&&!m&&l.enableCropResize&&(s=$o(d,an,sn.value,R,tn)).hasIn&&(U.resizeHovering=Vo(s.list),g("resizeStart",{index:U.resizeHovering.index,box:an[U.resizeHovering.index]})),l.mode==="tag"&&!m&&l.enableTagResize&&(s=$o(d,dn,sn.value,R,tn)).hasIn&&(U.resizeHovering=Vo(s.list),g("resizeStart",{index:U.resizeHovering.index,box:dn[U.resizeHovering.index]})))}F.onBeforeUnmount(()=>{window.removeEventListener("resize",Pt),C.mobile()||(window.removeEventListener("keydown",At),window.removeEventListener("keyup",Bt)),Cn()}),F.onMounted(()=>{ke.init(),window.addEventListener("resize",Pt)}),F.watch(()=>l.mode,s=>{s==="tag"&&(ce.value.style.cursor="auto")}),F.watch(()=>l.src,s=>{s&&ke.init()}),F.watch(()=>l.mobileOperation,s=>{Tn&&Wt()}),F.watch(()=>l.tagList,s=>{Tn&&(dn=ae(s,W.value,l.precision),Nn())},{deep:!0}),F.watch(()=>l.dotList,s=>{Tn&&(Rn=Rr(s,W.value,l.precision),Nn())},{deep:!0}),F.watch(()=>l.daubStack,s=>{Tn&&(le=Zo(G.exports.cloneDeep(l.daubStack),R,W.value),Nn())},{deep:!0}),F.watch(()=>l.cropList,s=>{Tn&&(an=ae(s,W.value,l.precision),Nn())});let Ft=G.exports.throttle(function(s){if(s){s=at(s,sn.value,tn,"over");let d=G.exports.cloneDeep(s);d.x-=R.x,d.y-=R.y,d.x/=W.value,d.y/=W.value,g("mouseOverInfo",{canvas:s,img:d})}else g("mouseOverInfo",{canvas:null,img:null})},100,{leading:!1,trailing:!0});function Ut(s){Tn&&(s=Le(s={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),z=new Date().getTime(),tr.onMouseOverMove(s),Ft(s))}function $t(){var s;Tn&&(s=new Date().getTime(),E.prev.up?E.last.up=s:E.prev.up=s,yr())}function Jo(){Tn&&(ce.value.style.cursor="auto",yr(),Ft())}function wr(){A&&clearTimeout(A),A=null}function Qo(s){if(We(),Tn){let d=at(Le({layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),sn.value,tn,"click");var s=z&&L?z-L:0;L=void 0,z=void 0,100<s||(l.splitClickAndDoubleClickEvent?(wr(),A=setTimeout(()=>{tr.onCick(d),A=null},230)):tr.onCick(d),s=l.splitClickAndDoubleClickEvent?320:360,E.prev.up&&E.prev.down&&E.last.up&&E.last.down&&(E.last.up-E.prev.down<s?(l.splitClickAndDoubleClickEvent&&wr(),tr.onDoubleClick(d),E.prev.down=void 0,E.prev.up=void 0):(E.prev.down=E.last.down,E.prev.up=E.last.up),E.last.down=void 0,E.last.up=void 0))}}function Mr(s){We(),L=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Nt({layerX:d[0].clientX-((Sn==null?void 0:Sn.left)||0),layerY:d[0].clientY-((Sn==null?void 0:Sn.top)||0)}),s.touches.length==2){if(!Sn)throw new Error("can't find  containerInfo.");Lu(xu(s)),nr={x:(d[0].clientX+d[1].clientX)/2,y:(d[0].clientY+d[1].clientY)/2}}}function Vt(s){z=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Ut({layerX:d[0].clientX-((Sn==null?void 0:Sn.left)||0),layerY:d[0].clientY-((Sn==null?void 0:Sn.top)||0)}),s.touches.length==2){if(!Sn)throw new Error("can't find  containerInfo.");var{width:d,height:s}=Lu(xu(s)),d=(s=s,Math.sqrt(Math.pow(d,2)+Math.pow(s,2))),s=-(d-er);er=d,ft({onTouchMove:!0,deltaY:s,preventDefault(){},stopPropagation(){},clientX:nr.x,clientY:nr.y})}}function qt(s){$t()}function Zt(s){if(s.length!==0){let d=[],x=[];He().forEach(T=>{(s.find(k=>(k=Te(k).info,k.startX===T.startX&&k.endX===T.endX&&k.startY===T.startY&&k.endY===T.endY))?x:d).push(T)}),an=ae(d,W.value,l.precision),g("delCrop",x),Nn(),Xr("delete",He(x))}}var Kt=Nn,Ar=F.computed(()=>({imgWH:jn.value}));return p({render:Kt,removeTagItems:function(s){let d=[],x=[];s.length!==0&&Pe().forEach(T=>{(s.find(k=>(k=Te(k).info,k.startX===T.startX&&k.endX===T.endX&&k.startY===T.startY&&k.endY===T.endY))?x:d).push(T)}),dn=ae(d,W.value,l.precision),Nn(),Er("delete",x)},getTagListGroupByCropIndex:function(s="startPoint"){let d=Pe(),x=He();return d.forEach(D=>{var T;s==="startPoint"&&(T=it({x:D.startX,y:D.startY},x),D.__groupIndex=T.indexList[0]),s==="allIn"&&(T=function(k,vn){let nn=[],Dn=[];return vn.forEach((An,Bn)=>{ju(k,An)&&(Dn.push(An),nn.push(Bn))}),{boxList:Dn,indexList:nn}}(D,x),D.__groupIndex=T.indexList[0])}),G.exports.groupBy(d,"__groupIndex")},getBase64ImageData:async function(s){const d=document.createElement("canvas");d.style.width=jn.value.width+"px",d.style.height=jn.value.height+"px",d.width=jn.value.width,d.height=jn.value.height;let x=d.getContext("2d");return gu(l.src,s).then(D=>{if(x){let T={x:0,y:0};return jr(x,D,0,0,D.width,D.height),Qe(x,l.cropList,T,xn.value,void 0,!0),Be(x,l.tagList,T,xn.value),l.daubStack.forEach(k=>{x&&Ho(x,k,T,xn.value)}),d.toDataURL("image/png")}throw new Error("ctx not exist")})},hooks:ke,scrollIntoView:Gn.scrollIntoView,scaleInfo:ct,info:Ar}),(s,d)=>(F.openBlock(),F.createElementBlock("div",{class:"comp-ocr-img",ref_key:"containerRef",ref:ce,onMousedown:Nt,onMouseenter:We,onClick:Qo,onMouseup:$t,onMousemove:Ut,onMouseout:Jo,onMousewheel:ft,onTouchmove:F.withModifiers(Vt,["stop","prevent"]),onTouchstart:F.withModifiers(Mr,["stop"]),onTouchend:F.withModifiers(qt,["stop"])},[F.createElementVNode("canvas",{class:"canvas",ref_key:"canvasRef",ref:Et},null,512),F.createElementVNode("canvas",{class:"canvas2",ref_key:"canvas2Ref",ref:Mt},null,512),F.unref(l).isShowTip?(F.openBlock(),F.createElementBlock("div",Hl,[F.createElementVNode("div",Nl,[F.createElementVNode("div",{class:F.normalizeClass(["circle",{crop:o.mode==="crop",tag:o.mode==="tag"}])},null,2),F.createElementVNode("div",Fl,F.toDisplayString(o.mode==="crop"?"\u88C1\u526A\u6A21\u5F0F":"\u6807\u8BB0\u9519\u8BEF\u884C"),1)]),F.createElementVNode("div",Ul,[F.renderSlot(s.$slots,"tip",{},()=>[$l,Vl,ql,Zl],!0)])])):F.createCommentVNode("",!0)],40,Pl))}}),Me.ImgMark=Ir(lt,[["__scopeId","data-v-6ff721f8"]]),Me.boxIsAllInOtherBox=ju,Me.transformTagBoxRelativeTo=Ru,Me.transformTagListBoxRelativeTo=function(o,p,g){return g.map(l=>Ru(o,p,l))},Object.defineProperties(Me,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
