(function(An,V){typeof exports=="object"&&typeof module!="undefined"?V(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],V):V((An=typeof globalThis!="undefined"?globalThis:An||self).kezhi={},An.Vue)})(this,function(An,V){"use strict";var Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Tc=window.device,b={},Ro=[],Kr=(window.device=b,window.document.documentElement),Rc=window.navigator.userAgent.toLowerCase(),ou=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function Xo(o,h){return o.indexOf(h)!==-1}function Oe(o){return Xo(Rc,o)}function iu(o){return Kr.className.match(new RegExp(o,"i"))}function Re(o){var h;iu(o)||(h=Kr.className.replace(/^\s+|\s+$/g,""),Kr.className=h+" "+o)}function uu(o){iu(o)&&(Kr.className=Kr.className.replace(" "+o,""))}function Tt(){b.landscape()?(uu("portrait"),Re("landscape"),au("landscape")):(uu("landscape"),Re("portrait"),au("portrait")),cu()}function au(o){for(var h=0;h<Ro.length;h++)Ro[h](o)}b.macos=function(){return Oe("mac")},b.ios=function(){return b.iphone()||b.ipod()||b.ipad()},b.iphone=function(){return!b.windows()&&Oe("iphone")},b.ipod=function(){return Oe("ipod")},b.ipad=function(){var o=navigator.platform==="MacIntel"&&1<navigator.maxTouchPoints;return Oe("ipad")||o},b.android=function(){return!b.windows()&&Oe("android")},b.androidPhone=function(){return b.android()&&Oe("mobile")},b.androidTablet=function(){return b.android()&&!Oe("mobile")},b.blackberry=function(){return Oe("blackberry")||Oe("bb10")},b.blackberryPhone=function(){return b.blackberry()&&!Oe("tablet")},b.blackberryTablet=function(){return b.blackberry()&&Oe("tablet")},b.windows=function(){return Oe("windows")},b.windowsPhone=function(){return b.windows()&&Oe("phone")},b.windowsTablet=function(){return b.windows()&&Oe("touch")&&!b.windowsPhone()},b.fxos=function(){return(Oe("(mobile")||Oe("(tablet"))&&Oe(" rv:")},b.fxosPhone=function(){return b.fxos()&&Oe("mobile")},b.fxosTablet=function(){return b.fxos()&&Oe("tablet")},b.meego=function(){return Oe("meego")},b.cordova=function(){return window.cordova&&location.protocol==="file:"},b.nodeWebkit=function(){return Yc(window.process)==="object"},b.mobile=function(){return b.androidPhone()||b.iphone()||b.ipod()||b.windowsPhone()||b.blackberryPhone()||b.fxosPhone()||b.meego()},b.tablet=function(){return b.ipad()||b.androidTablet()||b.blackberryTablet()||b.windowsTablet()||b.fxosTablet()},b.desktop=function(){return!b.tablet()&&!b.mobile()},b.television=function(){for(var o=0;o<ou.length;){if(Oe(ou[o]))return!0;o++}return!1},b.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Xo(screen.orientation.type,"portrait"):b.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:1<window.innerHeight/window.innerWidth},b.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Xo(screen.orientation.type,"landscape"):b.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1},b.noConflict=function(){return window.device=Tc,this},b.ios()?b.ipad()?Re("ios ipad tablet"):b.iphone()?Re("ios iphone mobile"):b.ipod()&&Re("ios ipod mobile"):b.macos()?Re("macos desktop"):b.android()?b.androidTablet()?Re("android tablet"):Re("android mobile"):b.blackberry()?b.blackberryTablet()?Re("blackberry tablet"):Re("blackberry mobile"):b.windows()?b.windowsTablet()?Re("windows tablet"):b.windowsPhone()?Re("windows mobile"):Re("windows desktop"):b.fxos()?b.fxosTablet()?Re("fxos tablet"):Re("fxos mobile"):b.meego()?Re("meego mobile"):b.nodeWebkit()?Re("node-webkit"):b.television()?Re("television"):b.desktop()&&Re("desktop"),b.cordova()&&Re("cordova"),b.onChangeOrientation=function(o){typeof o=="function"&&Ro.push(o)};var kr="resize";function jo(o){for(var h=0;h<o.length;h++)if(b[o[h]]())return o[h];return"unknown"}function cu(){b.orientation=jo(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(kr="orientationchange"),window.addEventListener?window.addEventListener(kr,Tt,!1):window.attachEvent?window.attachEvent(kr,Tt):window[kr]=Tt,Tt(),b.type=jo(["mobile","tablet","desktop"]),b.os=jo(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),cu();var Rt,Xt,Gr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ie={exports:{}};Xt=(Rt=ie).exports,function(){var o,h="Expected a function",_="__lodash_hash_undefined__",l="__lodash_placeholder__",S=128,O=9007199254740991,Y=NaN,x=4294967295,j=[["ary",S],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],A="[object Arguments]",B="[object Array]",Ke="[object Boolean]",Ve="[object Date]",be="[object Error]",Xe="[object Function]",pe="[object GeneratorFunction]",M="[object Map]",ye="[object Number]",Q="[object Object]",Ae="[object Promise]",je="[object RegExp]",_e="[object Set]",pn="[object String]",Qn="[object Symbol]",er="[object WeakMap]",P="[object ArrayBuffer]",fe="[object DataView]",G="[object Float32Array]",bn="[object Float64Array]",xn="[object Int8Array]",pr="[object Int16Array]",xe="[object Int32Array]",ge="[object Uint8Array]",Me="[object Uint8ClampedArray]",se="[object Uint16Array]",ue="[object Uint32Array]",un=/\b__p \+= '';/g,Ee=/\b(__p \+=) '' \+/g,Tn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,it=/&(?:amp|lt|gt|quot|#39);/g,ut=/[&<>"']/g,F=RegExp(it.source),hn=RegExp(ut.source),hr=/<%-([\s\S]+?)%>/g,Cn=/<%([\s\S]+?)%>/g,at=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dr=/^\w*$/,Fo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rn=/[\\^$.*+?()[\]{}|]/g,Ge=RegExp(Rn.source),zr=/^\s+/,At=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mt=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,Or=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yr=/[()=,{}\[\]\/\s]/,nr=/\\(\\)?/g,Bn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lt=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Pt=/^\[object .+?Constructor\]$/,Uo=/^0o[0-7]+$/i,Ht=/^(?:0|[1-9]\d*)$/,$o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tr=/($^)/,Vo=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",st="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",D="\\u2700-\\u27bf",rr="a-z\\xdf-\\xf6\\xf8-\\xff",re="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\ufe0e\\ufe0f",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="['\u2019]",Je="["+Rr+"]",T="["+Se+"]",R="["+st+"]",Xr="["+D+"]",L="["+rr+"]",Se="[^"+Rr+Se+"\\d+"+D+rr+re+"]",D="\\ud83c[\\udffb-\\udfff]",rr="[^"+Rr+"]",ht="(?:\\ud83c[\\udde6-\\uddff]){2}",vr="[\\ud800-\\udbff][\\udc00-\\udfff]",re="["+re+"]",ee="\\u200d",Le="(?:"+L+"|"+Se+")",Se="(?:"+re+"|"+Se+")",Be="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",he="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xn="(?:"+R+"|"+D+")?",Wn="["+s+"]?",Wn=Wn+Xn+("(?:"+ee+"(?:"+[rr,ht,vr].join("|")+")"+Wn+Xn+")*"),Xn="(?:"+[Xr,ht,vr].join("|")+")"+Wn,Xr="(?:"+[rr+R+"?",R,ht,vr,Je].join("|")+")",Nt=RegExp(d,"g"),gr=RegExp(R,"g"),pt=RegExp(D+"(?="+D+")|"+Xr+Wn,"g"),Pc=RegExp([re+"?"+L+"+"+Be+"(?="+[T,re,"$"].join("|")+")",Se+"+"+he+"(?="+[T,re+Le,"$"].join("|")+")",re+"?"+Le+"+"+Be,re+"+"+he,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Xn].join("|"),"g"),Hc=RegExp("["+ee+Rr+st+s+"]"),Nc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Uc=-1,me={},we=(me[G]=me[bn]=me[xn]=me[pr]=me[xe]=me[ge]=me[Me]=me[se]=me[ue]=!0,me[A]=me[B]=me[P]=me[Ke]=me[fe]=me[Ve]=me[be]=me[Xe]=me[M]=me[ye]=me[Q]=me[je]=me[_e]=me[pn]=me[er]=!1,{}),$c=(we[A]=we[B]=we[P]=we[fe]=we[Ke]=we[Ve]=we[G]=we[bn]=we[xn]=we[pr]=we[xe]=we[M]=we[ye]=we[Q]=we[je]=we[_e]=we[pn]=we[Qn]=we[ge]=we[Me]=we[se]=we[ue]=!0,we[be]=we[Xe]=we[er]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Vc=parseFloat,qc=parseInt,rr=typeof Gr=="object"&&Gr&&Gr.Object===Object&&Gr,ht=typeof self=="object"&&self&&self.Object===Object&&self,Pe=rr||ht||Function("return this")(),vr=Xt&&!Xt.nodeType&&Xt,yr=vr&&Rt&&!Rt.nodeType&&Rt,ku=yr&&yr.exports===vr,qo=ku&&rr.process,Je=function(){try{var g=yr&&yr.require&&yr.require("util").types;return g||qo&&qo.binding&&qo.binding("util")}catch{}}(),zu=Je&&Je.isArrayBuffer,Ou=Je&&Je.isDate,Yu=Je&&Je.isMap,Tu=Je&&Je.isRegExp,Ru=Je&&Je.isSet,Xu=Je&&Je.isTypedArray;function an(g,z,y){switch(y.length){case 0:return g.call(z);case 1:return g.call(z,y[0]);case 2:return g.call(z,y[0],y[1]);case 3:return g.call(z,y[0],y[1],y[2])}return g.apply(z,y)}function Zc(g,z,y,H){for(var Z=-1,te=g==null?0:g.length;++Z<te;){var ne=g[Z];z(H,ne,y(ne),g)}return H}function dn(g,z){for(var y=-1,H=g==null?0:g.length;++y<H&&z(g[y],y,g)!==!1;);return g}function Kc(g,z){for(var y=g==null?0:g.length;y--&&z(g[y],y,g)!==!1;);return g}function ju(g,z){for(var y=-1,H=g==null?0:g.length;++y<H;)if(!z(g[y],y,g))return!1;return!0}function tr(g,z){for(var y=-1,H=g==null?0:g.length,Z=0,te=[];++y<H;){var ne=g[y];z(ne,y,g)&&(te[Z++]=ne)}return te}function Ft(g,z){return!!(g!=null&&g.length)&&-1<jr(g,z,0)}function Zo(g,z,y){for(var H=-1,Z=g==null?0:g.length;++H<Z;)if(y(z,g[H]))return!0;return!1}function Ce(g,z){for(var y=-1,H=g==null?0:g.length,Z=Array(H);++y<H;)Z[y]=z(g[y],y,g);return Z}function or(g,z){for(var y=-1,H=z.length,Z=g.length;++y<H;)g[Z+y]=z[y];return g}function Ko(g,z,y,H){var Z=-1,te=g==null?0:g.length;for(H&&te&&(y=g[++Z]);++Z<te;)y=z(y,g[Z],Z,g);return y}function Gc(g,z,y,H){var Z=g==null?0:g.length;for(H&&Z&&(y=g[--Z]);Z--;)y=z(y,g[Z],Z,g);return y}function Go(g,z){for(var y=-1,H=g==null?0:g.length;++y<H;)if(z(g[y],y,g))return!0;return!1}var Jc=Jo("length");function Eu(g,z,y){var H;return y(g,function(Z,te,ne){if(z(Z,te,ne))return H=te,!1}),H}function Ut(g,z,y,H){for(var Z=g.length,te=y+(H?1:-1);H?te--:++te<Z;)if(z(g[te],te,g))return te;return-1}function jr(g,z,y){if(z!=z)return Ut(g,Lu,y);for(var H=g,Z=z,te=y-1,ne=H.length;++te<ne;)if(H[te]===Z)return te;return-1}function Qc(g,z,y,H){for(var Z=y-1,te=g.length;++Z<te;)if(H(g[Z],z))return Z;return-1}function Lu(g){return g!=g}function Iu(g,z){var y=g==null?0:g.length;return y?ei(g,z)/y:Y}function Jo(g){return function(z){return z==null?o:z[g]}}function Qo(g){return function(z){return g==null?o:g[z]}}function Au(g,z,y,H,Z){return Z(g,function(te,ne,gt){y=H?(H=!1,te):z(y,te,ne,gt)}),y}function ei(g,z){for(var y,H=-1,Z=g.length;++H<Z;){var te=z(g[H]);te!==o&&(y=y===o?te:y+te)}return y}function ni(g,z){for(var y=-1,H=Array(g);++y<g;)H[y]=z(y);return H}function Mu(g){return g&&g.slice(0,Hu(g)+1).replace(zr,"")}function cn(g){return function(z){return g(z)}}function ri(g,z){return Ce(z,function(y){return g[y]})}function dt(g,z){return g.has(z)}function Bu(g,z){for(var y=-1,H=g.length;++y<H&&-1<jr(z,g[y],0););return y}function Wu(g,z){for(var y=g.length;y--&&-1<jr(z,g[y],0););return y}var ef=Qo({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),nf=Qo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rf(g){return"\\"+$c[g]}function Er(g){return Hc.test(g)}function ti(g){var z=-1,y=Array(g.size);return g.forEach(function(H,Z){y[++z]=[Z,H]}),y}function Pu(g,z){return function(y){return g(z(y))}}function ir(g,z){for(var y=-1,H=g.length,Z=0,te=[];++y<H;){var ne=g[y];ne!==z&&ne!==l||(g[y]=l,te[Z++]=y)}return te}function $t(g){var z=-1,y=Array(g.size);return g.forEach(function(H){y[++z]=H}),y}function Lr(g){return(Er(g)?function(z){for(var y=pt.lastIndex=0;pt.test(z);)++y;return y}:Jc)(g)}function Sn(g){return Er(g)?g.match(pt)||[]:g.split("")}function Hu(g){for(var z=g.length;z--&&At.test(g.charAt(z)););return z}var tf=Qo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ir=function g(le){var y=(le=le==null?Pe:Ir.defaults(Pe.Object(),le,Ir.pick(Pe,Fc))).Array,jn=le.Date,H=le.Error,Z=le.Function,te=le.Math,ne=le.Object,gt=le.RegExp,of=le.String,gn=le.TypeError,Vt=y.prototype,wn=Z.prototype,Ar=ne.prototype,Mr=le["__core-js_shared__"],qt=wn.toString,ve=Ar.hasOwnProperty,uf=0,Nu=(wn=/[^.]+$/.exec(Mr&&Mr.keys&&Mr.keys.IE_PROTO||""))?"Symbol(src)_1."+wn:"",Zt=Ar.toString,af=qt.call(ne),cf=Pe._,ff=gt("^"+qt.call(ve).replace(Rn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wn=ku?le.Buffer:o,Ne=le.Symbol,Kt=le.Uint8Array,Fu=wn?wn.allocUnsafe:o,Gt=Pu(ne.getPrototypeOf,ne),Uu=ne.create,$u=Ar.propertyIsEnumerable,Jt=Vt.splice,Vu=Ne?Ne.isConcatSpreadable:o,vt=Ne?Ne.iterator:o,_r=Ne?Ne.toStringTag:o,Qt=function(){try{var e=Cr(ne,"defineProperty");return e({},"",{}),e}catch{}}(),Br=le.clearTimeout!==Pe.clearTimeout&&le.clearTimeout,Wi=jn&&jn.now!==Pe.Date.now&&jn.now,oi=le.setTimeout!==Pe.setTimeout&&le.setTimeout,eo=te.ceil,no=te.floor,ii=ne.getOwnPropertySymbols,wn=wn?wn.isBuffer:o,qu=le.isFinite,lf=Vt.join,sf=Pu(ne.keys,ne),Ie=te.max,Fe=te.min,pf=jn.now,hf=le.parseInt,Zu=te.random,df=Vt.reverse,jn=Cr(le,"DataView"),yt=Cr(le,"Map"),_t=Cr(le,"Promise"),Wr=Cr(le,"Set"),le=Cr(le,"WeakMap"),wt=Cr(ne,"create"),ro=le&&new le,Pr={},gf=Sr(jn),vf=Sr(yt),yf=Sr(_t),_f=Sr(Wr),wf=Sr(le),Ne=Ne?Ne.prototype:o,mt=Ne?Ne.valueOf:o,Ku=Ne?Ne.toString:o;function u(e){if(ze(e)&&!K(e)&&!(e instanceof ae)){if(e instanceof Dn)return e;if(ve.call(e,"__wrapped__"))return Ga(e)}return new Dn(e)}var Hr=function(e){return De(e)?Uu?Uu(e):(ui.prototype=e,e=new ui,ui.prototype=o,e):{}};function ui(){}function to(){}function Dn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=x,this.__views__=[]}function wr(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Pn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Hn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function mr(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new Hn;++n<r;)this.add(e[n])}function kn(e){e=this.__data__=new Pn(e),this.size=e.size}function Gu(e,n){var r,t=K(e),i=!t&&Dr(e),a=!t&&!i&&lr(e),c=!t&&!i&&!a&&$r(e),f=t||i||a||c,p=f?ni(e.length,of):[],v=p.length;for(r in e)!n&&!ve.call(e,r)||f&&(r=="length"||a&&(r=="offset"||r=="parent")||c&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||$n(r,v))||p.push(r);return p}function Ju(e){var n=e.length;return n?e[yi(0,n-1)]:o}function mf(e,n){return _o(Qe(e),br(n,0,e.length))}function bf(e){return _o(Qe(e))}function ai(e,n,r){(r===o||zn(e[n],r))&&(r!==o||n in e)||Nn(e,n,r)}function bt(e,n,r){var t=e[n];ve.call(e,n)&&zn(t,r)&&(r!==o||n in e)||Nn(e,n,r)}function oo(e,n){for(var r=e.length;r--;)if(zn(e[r][0],n))return r;return-1}function xf(e,n,r,t){return ur(e,function(i,a,c){n(t,i,r(i),c)}),t}function Qu(e,n){return e&&Ln(n,We(n),e)}function Nn(e,n,r){n=="__proto__"&&Qt?Qt(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function ci(e,n){for(var r=-1,t=n.length,i=y(t),a=e==null;++r<t;)i[r]=a?o:Ui(e,n[r]);return i}function br(e,n,r){return e==e&&(r!==o&&(e=e<=r?e:r),n!==o&&(e=n<=e?e:n)),e}function vn(e,n,r,m,i,a){var c,f=1&n,p=2&n,v=4&n;if((c=r?i?r(e,m,i,a):r(e):c)!==o)return c;if(!De(e))return e;var w,m=K(e);if(m){if(c=function(E){var k=E.length,X=new E.constructor(k);return k&&typeof E[0]=="string"&&ve.call(E,"index")&&(X.index=E.index,X.input=E.input),X}(e),!f)return Qe(e,c)}else{var C=Ue(e),W=C==Xe||C==pe;if(lr(e))return Ca(e,f);if(C==Q||C==A||W&&!i){if(c=p||W?{}:Ha(e),!f)return p?(I=W=e,I=(w=c)&&Ln(I,nn(I),w),Ln(W,Wa(W),I)):(W=Qu(c,w=e),Ln(w,Ri(w),W))}else{if(!we[C])return i?e:{};c=function(E,k,X){var N=E.constructor;switch(k){case P:return Si(E);case Ke:case Ve:return new N(+E);case fe:return function(q,ce){return ce=ce?Si(q.buffer):q.buffer,new q.constructor(ce,q.byteOffset,q.byteLength)}(E,X);case G:case bn:case xn:case pr:case xe:case ge:case Me:case se:case ue:return Sa(E,X);case M:return new N;case ye:case pn:return new N(E);case je:return function(q){var ce=new q.constructor(q.source,lt.exec(q));return ce.lastIndex=q.lastIndex,ce}(E);case _e:return new N;case Qn:return function(q){return mt?ne(mt.call(q)):{}}(E)}}(e,C,f)}}var I=(a=a||new kn).get(e);if(I)return I;a.set(e,c),gc(e)?e.forEach(function(E){c.add(vn(E,n,r,E,e,a))}):hc(e)&&e.forEach(function(E,k){c.set(k,vn(E,n,r,k,e,a))});var $=m?o:(v?p?Oi:zi:p?nn:We)(e);return dn($||e,function(E,k){$&&(E=e[k=E]),bt(c,k,vn(E,n,r,k,e,a))}),c}function ea(e,n,r){var t=r.length;if(e==null)return!t;for(e=ne(e);t--;){var i=r[t],a=n[i],c=e[i];if(c===o&&!(i in e)||!a(c))return!1}return!0}function na(e,n,r){if(typeof e!="function")throw new gn(h);return Ot(function(){e.apply(o,r)},n)}function xt(e,n,r,t){var i=-1,a=Ft,c=!0,f=e.length,p=[],v=n.length;if(!f)return p;r&&(n=Ce(n,cn(r))),t?(a=Zo,c=!1):200<=n.length&&(a=dt,c=!1,n=new mr(n));e:for(;++i<f;){var m=e[i],w=r==null?m:r(m),m=t||m!==0?m:0;if(c&&w==w){for(var C=v;C--;)if(n[C]===w)continue e;p.push(m)}else a(n,w,t)||p.push(m)}return p}u.templateSettings={escape:hr,evaluate:Cn,interpolate:at,variable:"",imports:{_:u}},(u.prototype=to.prototype).constructor=u,(Dn.prototype=Hr(to.prototype)).constructor=Dn,(ae.prototype=Hr(to.prototype)).constructor=ae,wr.prototype.clear=function(){this.__data__=wt?wt(null):{},this.size=0},wr.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},wr.prototype.get=function(e){var n,r=this.__data__;return wt?(n=r[e])===_?o:n:ve.call(r,e)?r[e]:o},wr.prototype.has=function(e){var n=this.__data__;return wt?n[e]!==o:ve.call(n,e)},wr.prototype.set=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wt&&n===o?_:n,this},Pn.prototype.clear=function(){this.__data__=[],this.size=0},Pn.prototype.delete=function(e){var n=this.__data__;return!((e=oo(n,e))<0)&&(e==n.length-1?n.pop():Jt.call(n,e,1),--this.size,!0)},Pn.prototype.get=function(e){var n=this.__data__;return(e=oo(n,e))<0?o:n[e][1]},Pn.prototype.has=function(e){return-1<oo(this.__data__,e)},Pn.prototype.set=function(e,n){var r=this.__data__,t=oo(r,e);return t<0?(++this.size,r.push([e,n])):r[t][1]=n,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new wr,map:new(yt||Pn),string:new wr}},Hn.prototype.delete=function(e){return e=yo(this,e).delete(e),this.size-=e?1:0,e},Hn.prototype.get=function(e){return yo(this,e).get(e)},Hn.prototype.has=function(e){return yo(this,e).has(e)},Hn.prototype.set=function(e,n){var r=yo(this,e),t=r.size;return r.set(e,n),this.size+=r.size==t?0:1,this},mr.prototype.add=mr.prototype.push=function(e){return this.__data__.set(e,_),this},mr.prototype.has=function(e){return this.__data__.has(e)},kn.prototype.clear=function(){this.__data__=new Pn,this.size=0},kn.prototype.delete=function(r){var n=this.__data__,r=n.delete(r);return this.size=n.size,r},kn.prototype.get=function(e){return this.__data__.get(e)},kn.prototype.has=function(e){return this.__data__.has(e)},kn.prototype.set=function(e,n){var r=this.__data__;if(r instanceof Pn){var t=r.__data__;if(!yt||t.length<199)return t.push([e,n]),this.size=++r.size,this;r=this.__data__=new Hn(t)}return r.set(e,n),this.size=r.size,this};var ur=Oa(En),ra=Oa(li,!0);function Cf(e,n){var r=!0;return ur(e,function(t,i,a){return r=!!n(t,i,a)}),r}function io(e,n,r){for(var t=-1,i=e.length;++t<i;){var a,c,f=e[t],p=n(f);p!=null&&(a===o?p==p&&!ln(p):r(p,a))&&(a=p,c=f)}return c}function ta(e,n){var r=[];return ur(e,function(t,i,a){n(t,i,a)&&r.push(t)}),r}function He(e,n,r,t,i){var a=-1,c=e.length;for(r=r||Lf,i=i||[];++a<c;){var f=e[a];0<n&&r(f)?1<n?He(f,n-1,r,t,i):or(i,f):t||(i[i.length]=f)}return i}var fi=Ya(),oa=Ya(!0);function En(e,n){return e&&fi(e,n,We)}function li(e,n){return e&&oa(e,n,We)}function uo(e,n){return tr(n,function(r){return Vn(e[r])})}function xr(e,n){for(var r=0,t=(n=cr(n,e)).length;e!=null&&r<t;)e=e[In(n[r++])];return r&&r==t?e:o}function ia(e,n,r){return n=n(e),K(e)?n:or(n,r(e))}function qe(e){{if(e==null)return e===o?"[object Undefined]":"[object Null]";if(_r&&_r in ne(e)){var n=e,r=ve.call(n,_r),t=n[_r];try{n[_r]=o;var i=!0}catch{}var a=Zt.call(n);return i&&(r?n[_r]=t:delete n[_r]),a}return Zt.call(e)}}function si(e,n){return n<e}function Sf(e,n){return e!=null&&ve.call(e,n)}function Df(e,n){return e!=null&&n in ne(e)}function pi(e,n,r){for(var t=r?Zo:Ft,i=e[0].length,a=e.length,c=a,f=y(a),p=1/0,v=[];c--;){var w=e[c];c&&n&&(w=Ce(w,cn(n))),p=Fe(w.length,p),f[c]=!r&&(n||120<=i&&120<=w.length)?new mr(c&&w):o}var w=e[0],m=-1,C=f[0];e:for(;++m<i&&v.length<p;){var I=w[m],W=n?n(I):I,I=r||I!==0?I:0;if(!(C?dt(C,W):t(v,W,r))){for(c=a;--c;){var $=f[c];if(!($?dt($,W):t(e[c],W,r)))continue e}C&&C.push(W),v.push(I)}}return v}function Ct(e,n,r){return n=(e=$a(e,n=cr(n,e)))==null?e:e[In(_n(n))],n==null?o:an(n,e,r)}function ua(e){return ze(e)&&qe(e)==A}function St(e,n,r,t,i){{if(e===n)return!0;if(e==null||n==null||!ze(e)&&!ze(n))return e!=e&&n!=n;var a=St,c=K(e),w=K(n),f=c?B:Ue(e),w=w?B:Ue(n),p=(f=f==A?Q:f)==Q,v=(w=w==A?Q:w)==Q,w;if((w=f==w)&&lr(e)){if(!lr(n))return!1;p=!(c=!0)}if(w&&!p){if(i=i||new kn,c||$r(e))return Ba(e,n,r,t,a,i);var m=e,C=n,W=f,I=r,$=t,E=a,k=i;switch(W){case fe:if(m.byteLength!=C.byteLength||m.byteOffset!=C.byteOffset)return!1;m=m.buffer,C=C.buffer;case P:return!!(m.byteLength==C.byteLength&&E(new Kt(m),new Kt(C)));case Ke:case Ve:case ye:return zn(+m,+C);case be:return m.name==C.name&&m.message==C.message;case je:case pn:return m==C+"";case M:var X=ti;case _e:var N=1&I;return X=X||$t,m.size!=C.size&&!N?!1:(N=k.get(m),N?N==C:(I|=2,k.set(m,C),N=Ba(X(m),X(C),I,$,E,k),k.delete(m),N));case Qn:if(mt)return mt.call(m)==mt.call(C)}return!1}if(!(1&r)&&(c=p&&ve.call(e,"__wrapped__"),f=v&&ve.call(n,"__wrapped__"),c||f))return p=c?e.value():e,v=f?n.value():n,i=i||new kn,a(p,v,r,t,i);if(w){i=i||new kn;var q=e,ce=n,ke=r,tn=t,Te=a,$e=i,qr=1&ke,Zr=zi(q),nu=Zr.length,c=zi(ce).length;if(nu!=c&&!qr)return!1;for(var zo=nu;zo--;){var sr=Zr[zo];if(!(qr?sr in ce:ve.call(ce,sr)))return!1}if(c=$e.get(q),f=$e.get(ce),c&&f)return c==ce&&f==q;for(var Oo=!0,ru=($e.set(q,ce),$e.set(ce,q),qr);++zo<nu;){sr=Zr[zo];var tu,Yo=q[sr],To=ce[sr];if(!((tu=tn?qr?tn(To,Yo,sr,ce,q,$e):tn(Yo,To,sr,q,ce,$e):tu)===o?Yo===To||Te(Yo,To,ke,tn,$e):tu)){Oo=!1;break}ru=ru||sr=="constructor"}return Oo&&!ru&&(c=q.constructor,f=ce.constructor,c!=f&&"constructor"in q&&"constructor"in ce&&!(typeof c=="function"&&c instanceof c&&typeof f=="function"&&f instanceof f)&&(Oo=!1)),$e.delete(q),$e.delete(ce),Oo}return!1}}function hi(e,n,r,t){var i=r.length,a=i,c=!t;if(e==null)return!a;for(e=ne(e);i--;){var f=r[i];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++i<a;){var p=(f=r[i])[0],v=e[p],w=f[1];if(c&&f[2]){if(v===o&&!(p in e))return!1}else{var m,C=new kn;if(!((m=t?t(v,w,p,e,n,C):m)===o?St(w,v,3,t,C):m))return!1}}return!0}function aa(e){return!(!De(e)||(n=e,Nu&&Nu in n))&&(Vn(e)?ff:Pt).test(Sr(e));var n}function ca(e){return typeof e=="function"?e:e==null?rn:typeof e=="object"?K(e)?sa(e[0],e[1]):la(e):Oc(e)}function di(e){if(!zt(e))return sf(e);var n,r=[];for(n in ne(e))ve.call(e,n)&&n!="constructor"&&r.push(n);return r}function kf(e){if(!De(e)){var n=e,r=[];if(n!=null)for(var t in ne(n))r.push(t);return r}var i,a=zt(e),c=[];for(i in e)(i!="constructor"||!a&&ve.call(e,i))&&c.push(i);return c}function gi(e,n){return e<n}function fa(e,n){var r=-1,t=en(e)?y(e.length):[];return ur(e,function(i,a,c){t[++r]=n(i,a,c)}),t}function la(e){var n=Ti(e);return n.length==1&&n[0][2]?Fa(n[0][0],n[0][1]):function(r){return r===e||hi(r,e,n)}}function sa(e,n){return Xi(e)&&Na(n)?Fa(In(e),n):function(r){var t=Ui(r,e);return t===o&&t===n?$i(r,e):St(n,t,3)}}function ao(e,n,r,t,i){e!==n&&fi(n,function(a,c){var f,p,v,w,m,C,W,I,$,E,k,X,N;i=i||new kn,De(a)?(p=n,w=r,m=ao,C=t,W=i,k=Ei(f=e,v=c),X=Ei(p,v),(N=W.get(X))||(N=C?C(k,X,v+"",f,p,W):o,(p=N===o)&&(I=K(X),$=!I&&lr(X),E=!I&&!$&&$r(X),N=X,I||$||E?N=K(k)?k:Ye(k)?Qe(k):$?Ca(X,!(p=!1)):E?Sa(X,!(p=!1)):[]:Yt(X)||Dr(X)?Dr(N=k)?N=_c(k):De(k)&&!Vn(k)||(N=Ha(X)):p=!1),p&&(W.set(X,N),m(N,X,w,C,W),W.delete(X))),ai(f,v,N)):(I=t?t(Ei(e,c),a,c+"",e,n,i):o,ai(e,c,I=I===o?a:I))},nn)}function pa(e,n){var r=e.length;if(r)return $n(n+=n<0?r:0,r)?e[n]:o}function ha(a,n,r){n=n.length?Ce(n,function(f){return K(f)?function(p){return xr(p,f.length===1?f[0]:f)}:f}):[rn];var t=-1;n=Ce(n,cn(U()));var i=fa(a,function(f,p,v){return{criteria:Ce(n,function(w){return w(f)}),index:++t,value:f}}),a=function(f,p){for(var v=r,w=-1,m=f.criteria,C=p.criteria,W=m.length,I=v.length;++w<W;){var $=Da(m[w],C[w]);if($){if(I<=w)return $;var E=v[w];return $*(E=="desc"?-1:1)}}return f.index-p.index},c=i.length;for(i.sort(a);c--;)i[c]=i[c].value;return i}function da(e,n,r){for(var t=-1,i=n.length,a={};++t<i;){var c=n[t],f=xr(e,c);r(f,c)&&Dt(a,cr(c,e),f)}return a}function vi(e,n,r,t){var i=t?Qc:jr,a=-1,c=n.length,f=e;for(e===n&&(n=Qe(n)),r&&(f=Ce(e,cn(r)));++a<c;)for(var p=0,v=n[a],w=r?r(v):v;-1<(p=i(f,w,p,t));)f!==e&&Jt.call(f,p,1),Jt.call(e,p,1);return e}function ga(e,n){for(var r=e?n.length:0,t=r-1;r--;){var i,a=n[r];r!=t&&a===i||($n(i=a)?Jt.call(e,a,1):mi(e,a))}}function yi(e,n){return e+no(Zu()*(n-e+1))}function _i(e,n){var r="";if(!e||n<1||O<n)return r;for(;n%2&&(r+=e),(n=no(n/2))&&(e+=e),n;);return r}function oe(e,n){return Li(Ua(e,n,rn),e+"")}function zf(e){return Ju(Vr(e))}function Of(e,n){return e=Vr(e),_o(e,br(n,0,e.length))}function Dt(e,n,r,t){if(!De(e))return e;for(var i=-1,a=(n=cr(n,e)).length,c=a-1,f=e;f!=null&&++i<a;){var p,v=In(n[i]),w=r;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;i!=c&&(p=f[v],(w=t?t(p,v,f):o)===o&&(w=De(p)?p:$n(n[i+1])?[]:{})),bt(f,v,w),f=f[v]}return e}var va=ro?function(e,n){return ro.set(e,n),e}:rn,Ne=Qt?function(e,n){return Qt(e,"toString",{configurable:!0,enumerable:!1,value:qi(n),writable:!0})}:rn;function Yf(e){return _o(Vr(e))}function yn(e,n,r){for(var t=-1,i=e.length,a=((r=i<r?i:r)<0&&(r+=i),i=r<(n=n<0?i<-n?0:i+n:n)?0:r-n>>>0,n>>>=0,y(i));++t<i;)a[t]=e[t+n];return a}function Tf(e,n){var r;return ur(e,function(t,i,a){return!(r=n(t,i,a))}),!!r}function co(e,n,r){var t=0,i=e==null?t:e.length;if(typeof n=="number"&&n==n&&i<=2147483647){for(;t<i;){var a=t+i>>>1,c=e[a];c!==null&&!ln(c)&&(r?c<=n:c<n)?t=1+a:i=a}return i}return wi(e,n,rn,r)}function wi(e,n,r,t){var i=0,a=e==null?0:e.length;if(a===0)return 0;for(var c=(n=r(n))!=n,f=n===null,p=ln(n),v=n===o;i<a;){var w=no((i+a)/2),m=r(e[w]),C=m!==o,W=m===null,$=m==m,I=ln(m),$=c?t||$:v?$&&(t||C):f?$&&C&&(t||!W):p?$&&C&&!W&&(t||!I):!W&&!I&&(t?m<=n:m<n);$?i=w+1:a=w}return Fe(a,4294967294)}function ya(e,n){for(var r=-1,t=e.length,i=0,a=[];++r<t;){var c,f=e[r],p=n?n(f):f;r&&zn(p,c)||(c=p,a[i++]=f===0?0:f)}return a}function _a(e){return typeof e=="number"?e:ln(e)?Y:+e}function fn(e){if(typeof e=="string")return e;if(K(e))return Ce(e,fn)+"";if(ln(e))return Ku?Ku.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function ar(e,n,r){var t=-1,i=Ft,a=e.length,c=!0,f=[],p=f;if(r)c=!1,i=Zo;else if(200<=a){var v=n?null:jf(e);if(v)return $t(v);c=!1,i=dt,p=new mr}else p=n?[]:f;e:for(;++t<a;){var m=e[t],w=n?n(m):m,m=r||m!==0?m:0;if(c&&w==w){for(var C=p.length;C--;)if(p[C]===w)continue e;n&&p.push(w),f.push(m)}else i(p,w,r)||(p!==f&&p.push(w),f.push(m))}return f}function mi(e,n){return(e=$a(e,n=cr(n,e)))==null||delete e[In(_n(n))]}function wa(e,n,r,t){return Dt(e,n,r(xr(e,n)),t)}function fo(e,n,r,t){for(var i=e.length,a=t?i:-1;(t?a--:++a<i)&&n(e[a],a,e););return r?yn(e,t?0:a,t?a+1:i):yn(e,t?a+1:0,t?i:a)}function ma(e,n){var r=e;return Ko(n,function(t,i){return i.func.apply(i.thisArg,or([t],i.args))},r=e instanceof ae?e.value():r)}function bi(e,n,r){var t=e.length;if(t<2)return t?ar(e[0]):[];for(var i=-1,a=y(t);++i<t;)for(var c=e[i],f=-1;++f<t;)f!=i&&(a[i]=xt(a[i]||c,e[f],n,r));return ar(He(a,1),n,r)}function ba(e,n,r){for(var t=-1,i=e.length,a=n.length,c={};++t<i;){var f=t<a?n[t]:o;r(c,e[t],f)}return c}function xi(e){return Ye(e)?e:[]}function Ci(e){return typeof e=="function"?e:rn}function cr(e,n){return K(e)?e:Xi(e,n)?[e]:Ka(de(e))}var Pi=oe;function fr(e,n,r){var t=e.length;return r=r===o?t:r,!n&&t<=r?e:yn(e,n,r)}var xa=Br||function(e){return Pe.clearTimeout(e)};function Ca(e,n){return n?e.slice():(n=e.length,n=Fu?Fu(n):new e.constructor(n),e.copy(n),n)}function Si(e){var n=new e.constructor(e.byteLength);return new Kt(n).set(new Kt(e)),n}function Sa(e,n){return n=n?Si(e.buffer):e.buffer,new e.constructor(n,e.byteOffset,e.length)}function Da(e,n){if(e!==n){var r=e!==o,t=e===null,i=e==e,a=ln(e),c=n!==o,f=n===null,p=n==n,v=ln(n);if(!f&&!v&&!a&&n<e||a&&c&&p&&!f&&!v||t&&c&&p||!r&&p||!i)return 1;if(!t&&!a&&!v&&e<n||v&&r&&i&&!t&&!a||f&&r&&i||!c&&i||!p)return-1}return 0}function ka(e,n,r,t){for(var i=-1,a=e.length,c=r.length,f=-1,p=n.length,v=Ie(a-c,0),w=y(p+v),m=!t;++f<p;)w[f]=n[f];for(;++i<c;)(m||i<a)&&(w[r[i]]=e[i]);for(;v--;)w[f++]=e[i++];return w}function za(e,n,r,t){for(var i=-1,a=e.length,c=-1,f=r.length,p=-1,v=n.length,w=Ie(a-f,0),m=y(w+v),C=!t;++i<w;)m[i]=e[i];for(var W=i;++p<v;)m[W+p]=n[p];for(;++c<f;)(C||i<a)&&(m[W+r[c]]=e[i++]);return m}function Qe(e,n){var r=-1,t=e.length;for(n=n||y(t);++r<t;)n[r]=e[r];return n}function Ln(e,n,r,t){for(var i=!r,a=(r=r||{},-1),c=n.length;++a<c;){var f=n[a],p=t?t(r[f],e[f],f,r,e):o;(i?Nn:bt)(r,f,p=p===o?e[f]:p)}return r}function lo(e,n){return function(r,t){var i=K(r)?Zc:xf,a=n?n():{};return i(r,e,U(t,2),a)}}function Nr(e){return oe(function(n,r){var t=-1,i=r.length,c=1<i?r[i-1]:o,a=2<i?r[2]:o,c=3<e.length&&typeof c=="function"?(i--,c):o;for(a&&Ze(r[0],r[1],a)&&(c=i<3?o:c,i=1),n=ne(n);++t<i;){var f=r[t];f&&e(n,f,t,c)}return n})}function Oa(e,n){return function(r,t){if(r==null)return r;if(!en(r))return e(r,t);for(var i=r.length,a=n?i:-1,c=ne(r);(n?a--:++a<i)&&t(c[a],a,c)!==!1;);return r}}function Ya(e){return function(n,r,t){for(var i=-1,a=ne(n),c=t(n),f=c.length;f--;){var p=c[e?f:++i];if(r(a[p],p,a)===!1)break}return n}}function Ta(e){return function(n){var t=Er(n=de(n))?Sn(n):o,r=t?t[0]:n.charAt(0),t=t?fr(t,1).join(""):n.slice(1);return r[e]()+t}}function Fr(e){return function(n){return Ko(kc(Dc(n).replace(Nt,"")),e,"")}}function kt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Hr(e.prototype),t=e.apply(r,n);return De(t)?t:r}}function Rf(e,n,r){var t=kt(e);return function i(){for(var a=arguments.length,c=y(a),f=a,p=Ur(i);f--;)c[f]=arguments[f];return p=a<3&&c[0]!==p&&c[a-1]!==p?[]:ir(c,p),(a-=p.length)<r?La(e,n,so,i.placeholder,o,c,p,o,o,r-a):an(this&&this!==Pe&&this instanceof i?t:e,this,c)}}function Ra(e){return function(n,c,t){var i,a=ne(n),c=(en(n)||(i=U(c,3),n=We(n),c=function(f){return i(a[f],f,a)}),e(n,c,t));return-1<c?a[i?n[c]:c]:o}}function Xa(e){return Un(function(n){var r=n.length,t=r,i=Dn.prototype.thru;for(e&&n.reverse();t--;){var a=n[t];if(typeof a!="function")throw new gn(h);i&&!p&&vo(a)=="wrapper"&&(p=new Dn([],!0))}for(t=p?t:r;++t<r;)var c=vo(a=n[t]),f=c=="wrapper"?Yi(a):o,p=f&&ji(f[0])&&f[1]==424&&!f[4].length&&f[9]==1?p[vo(f[0])].apply(p,f[3]):a.length==1&&ji(a)?p[c]():p.thru(a);return function(){var v=arguments,w=v[0];if(p&&v.length==1&&K(w))return p.plant(w).value();for(var m=0,C=r?n[m].apply(this,v):w;++m<r;)C=n[m].call(this,C);return C}})}function so(e,n,r,t,i,a,c,f,p,v){var w=n&S,m=1&n,C=2&n,W=24&n,I=512&n,$=C?o:kt(e);return function E(){for(var k=y(ce=arguments.length),X=ce;X--;)k[X]=arguments[X];if(W&&(q=function(ke,tn){for(var Te=ke.length,$e=0;Te--;)ke[Te]===tn&&++$e;return $e}(k,N=Ur(E))),t&&(k=ka(k,t,i,W)),a&&(k=za(k,a,c,W)),ce-=q,W&&ce<v)return q=ir(k,N),La(e,n,so,E.placeholder,r,k,q,f,p,v-ce);var N=m?r:this,q=C?N[e]:e,ce=k.length;return f?k=function(ke,tn){for(var Te=ke.length,$e=Fe(tn.length,Te),qr=Qe(ke);$e--;){var Zr=tn[$e];ke[$e]=$n(Zr,Te)?qr[Zr]:o}return ke}(k,f):I&&1<ce&&k.reverse(),w&&p<ce&&(k.length=p),(q=this&&this!==Pe&&this instanceof E?$||kt(q):q).apply(N,k)}}function ja(e,n){return function(r,t){return r=r,i=e,a=n(t),c={},En(r,function(f,p,v){i(c,a(f),p,v)}),c;var i,a,c}}function po(e,n){return function(r,t){var i;if(r===o&&t===o)return n;if(r!==o&&(i=r),t!==o){if(i===o)return t;t=typeof r=="string"||typeof t=="string"?(r=fn(r),fn(t)):(r=_a(r),_a(t)),i=e(r,t)}return i}}function Di(e){return Un(function(n){return n=Ce(n,cn(U())),oe(function(r){var t=this;return e(n,function(i){return an(i,t,r)})})})}function ho(e,n){var r=(n=n===o?" ":fn(n)).length;return r<2?r?_i(n,e):n:(r=_i(n,eo(e/Lr(n))),Er(n)?fr(Sn(r),0,e).join(""):r.slice(0,e))}function Xf(e,n,r,t){var i=1&n,a=kt(e);return function c(){for(var f=-1,p=arguments.length,v=-1,w=t.length,m=y(w+p),C=this&&this!==Pe&&this instanceof c?a:e;++v<w;)m[v]=t[v];for(;p--;)m[v++]=arguments[++f];return an(C,i?r:this,m)}}function Ea(e){return function(n,r,t){t&&typeof t!="number"&&Ze(n,r,t)&&(r=t=o),n=qn(n),r===o?(r=n,n=0):r=qn(r),t=t===o?n<r?1:-1:qn(t);for(var i=n,a=t,c=e,f=-1,p=Ie(eo((r-i)/(a||1)),0),v=y(p);p--;)v[c?p:++f]=i,i+=a;return v}}function go(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=mn(n),r=mn(r)),e(n,r)}}function La(e,n,r,t,m,C,c,f,p,v){var w=8&n,m=(4&(n=(n|(w?32:64))&~(w?64:32))||(n&=-4),[e,n,m,w?C:o,w?c:o,w?o:C,w?o:c,f,p,v]),C=r.apply(o,m);return ji(e)&&Va(C,m),C.placeholder=t,qa(C,e,n)}function ki(e){var n=te[e];return function(r,t){var i;return r=mn(r),(t=t==null?0:Fe(J(t),292))&&qu(r)?(i=(de(r)+"e").split("e"),+((i=(de(n(i[0]+"e"+(+i[1]+t)))+"e").split("e"))[0]+"e"+(+i[1]-t))):n(r)}}var jf=Wr&&1/$t(new Wr([,-0]))[1]==1/0?function(e){return new Wr(e)}:Gi;function Ia(e){return function(n){var r,t,i,a=Ue(n);return a==M?ti(n):a==_e?(a=n,r=-1,t=Array(a.size),a.forEach(function(c){t[++r]=[c,c]}),t):Ce(e(i=n),function(c){return[c,i[c]]})}}function Fn(e,n,r,t,i,a,c,f){var p=2&n;if(!p&&typeof e!="function")throw new gn(h);var v,w,m,C,W,I=t?t.length:0,$=(I||(n&=-97,t=i=o),c=c===o?c:Ie(J(c),0),f=f===o?f:J(f),I-=i?i.length:0,64&n&&(E=t,v=i,t=i=o),p?o:Yi(e)),E=[e,n,r,t,i,E,v,a,c,f];return $&&function(k,X){var N=k[1],q=X[1],ce=N|q,ke=ce<131,tn=q==S&&N==8||q==S&&N==256&&k[7].length<=X[8]||q==384&&X[7].length<=X[8]&&N==8;if(!(!ke&&!tn)){1&q&&(k[2]=X[2],ce|=1&N?0:4),ke=X[3];{var Te;ke&&(Te=k[3],k[3]=Te?ka(Te,ke,X[4]):ke,k[4]=Te?ir(k[3],l):X[4])}(ke=X[5])&&(Te=k[5],k[5]=Te?za(Te,ke,X[6]):ke,k[6]=Te?ir(k[5],l):X[6]),(ke=X[7])&&(k[7]=ke),q&S&&(k[8]=k[8]==null?X[8]:Fe(k[8],X[8])),k[9]==null&&(k[9]=X[9]),k[0]=X[0],k[1]=ce}}(E,$),e=E[0],n=E[1],r=E[2],t=E[3],i=E[4],!(f=E[9]=E[9]===o?p?0:e.length:Ie(E[9]-I,0))&&24&n&&(n&=-25),v=n&&n!=1?n==8||n==16?Rf(e,n,f):n!=32&&n!=33||i.length?so.apply(o,E):Xf(e,n,r,t):(m=r,C=1&n,W=kt(w=e),function k(){return(this&&this!==Pe&&this instanceof k?W:w).apply(C?m:this,arguments)}),qa(($?va:Va)(v,E),e,n)}function Aa(e,n,r,t){return e===o||zn(e,Ar[r])&&!ve.call(t,r)?n:e}function Ma(e,n,r,t,i,a){return De(e)&&De(n)&&(a.set(n,e),ao(e,n,o,Ma,a),a.delete(n)),e}function Ef(e){return Yt(e)?o:e}function Ba(e,n,r,t,i,a){var c=1&r,f=e.length,p=n.length;if(f!=p&&!(c&&f<p))return!1;var p=a.get(e),v=a.get(n);if(p&&v)return p==n&&v==e;var w=-1,m=!0,C=2&r?new mr:o;for(a.set(e,n),a.set(n,e);++w<f;){var W,I=e[w],$=n[w];if((W=t?c?t($,I,w,n,e,a):t(I,$,w,e,n,a):W)!==o){if(W)continue;m=!1;break}if(C){if(!Go(n,function(E,k){return!dt(C,k)&&(I===E||i(I,E,r,t,a))&&C.push(k)})){m=!1;break}}else if(I!==$&&!i(I,$,r,t,a)){m=!1;break}}return a.delete(e),a.delete(n),m}function Un(e){return Li(Ua(e,o,ec),e+"")}function zi(e){return ia(e,We,Ri)}function Oi(e){return ia(e,nn,Wa)}var Yi=ro?function(e){return ro.get(e)}:Gi;function vo(e){for(var n=e.name+"",r=Pr[n],t=ve.call(Pr,n)?r.length:0;t--;){var i=r[t],a=i.func;if(a==null||a==e)return i.name}return n}function Ur(e){return(ve.call(u,"placeholder")?u:e).placeholder}function U(){var e=(e=u.iteratee||Zi)===Zi?ca:e;return arguments.length?e(arguments[0],arguments[1]):e}function yo(i,n){var r,t,i=i.__data__;return((t=typeof(r=n))=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null)?i[typeof n=="string"?"string":"hash"]:i.map}function Ti(e){for(var n=We(e),r=n.length;r--;){var t=n[r],i=e[t];n[r]=[t,i,Na(i)]}return n}function Cr(e,n){return n=n,e=(e=e)==null?o:e[n],aa(e)?e:o}var Ri=ii?function(e){return e==null?[]:(e=ne(e),tr(ii(e),function(n){return $u.call(e,n)}))}:Ji,Wa=ii?function(e){for(var n=[];e;)or(n,Ri(e)),e=Gt(e);return n}:Ji,Ue=qe;function Pa(e,n,r){for(var t=-1,i=(n=cr(n,e)).length,a=!1;++t<i;){var c=In(n[t]);if(!(a=e!=null&&r(e,c)))break;e=e[c]}return a||++t!=i?a:!!(i=e==null?0:e.length)&&So(i)&&$n(c,i)&&(K(e)||Dr(e))}function Ha(e){return typeof e.constructor!="function"||zt(e)?{}:Hr(Gt(e))}function Lf(e){return K(e)||Dr(e)||!!(Vu&&e&&e[Vu])}function $n(e,n){var r=typeof e;return!!(n=n==null?O:n)&&(r=="number"||r!="symbol"&&Ht.test(e))&&-1<e&&e%1==0&&e<n}function Ze(e,n,r){var t;if(De(r))return t=typeof n,(t=="number"?en(r)&&$n(n,r.length):t=="string"&&n in r)&&zn(r[n],e)}function Xi(e,n){var r;if(!K(e))return r=typeof e,r=="number"||r=="symbol"||r=="boolean"||e==null||ln(e)||dr.test(e)||!It.test(e)||n!=null&&e in ne(n)}function ji(e){var n=vo(e),r=u[n];if(typeof r=="function"&&n in ae.prototype)return e===r?1:(n=Yi(r),n&&e===n[0])}(jn&&Ue(new jn(new ArrayBuffer(1)))!=fe||yt&&Ue(new yt)!=M||_t&&Ue(_t.resolve())!=Ae||Wr&&Ue(new Wr)!=_e||le&&Ue(new le)!=er)&&(Ue=function(r){var n=qe(r),r=n==Q?r.constructor:o,r=r?Sr(r):"";if(r)switch(r){case gf:return fe;case vf:return M;case yf:return Ae;case _f:return _e;case wf:return er}return n});var If=Mr?Vn:Qi;function zt(e){var n=e&&e.constructor;return e===(typeof n=="function"&&n.prototype||Ar)}function Na(e){return e==e&&!De(e)}function Fa(e,n){return function(r){return r!=null&&r[e]===n&&(n!==o||e in ne(r))}}function Ua(e,n,r){return n=Ie(n===o?e.length-1:n,0),function(){for(var t=arguments,i=-1,a=Ie(t.length-n,0),c=y(a);++i<a;)c[i]=t[n+i];for(var i=-1,f=y(n+1);++i<n;)f[i]=t[i];return f[n]=r(c),an(e,this,f)}}function $a(e,n){return n.length<2?e:xr(e,yn(n,0,-1))}function Ei(e,n){if((n!=="constructor"||typeof e[n]!="function")&&n!="__proto__")return e[n]}var Va=Za(va),Ot=oi||function(e,n){return Pe.setTimeout(e,n)},Li=Za(Ne);function qa(e,a,r){var t,i,a=a+"";return Li(e,function(c,f){var p=f.length;if(!p)return c;var v=p-1;return f[v]=(1<p?"& ":"")+f[v],f=f.join(2<p?", ":" "),c.replace(ct,`{
/* [wrapped with `+f+`] */
`)}(a,(t=(e=(e=a).match(Mt))?e[1].split(ft):[],i=r,dn(j,function(c){var f="_."+c[0];i&c[1]&&!Ft(t,f)&&t.push(f)}),t.sort())))}function Za(e){var n=0,r=0;return function(){var t=pf(),i=16-(t-r);if(r=t,0<i){if(800<=++n)return arguments[0]}else n=0;return e.apply(o,arguments)}}function _o(e,n){var r=-1,t=e.length,i=t-1;for(n=n===o?t:n;++r<n;){var a=yi(r,i),c=e[a];e[a]=e[r],e[r]=c}return e.length=n,e}Ii=(Br=xo(Br=function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Fo,function(r,t,i,a){n.push(i?a.replace(nr,"$1"):t||r)}),n},function(e){return Ii.size===500&&Ii.clear(),e})).cache;var Ii,Ka=Br;function In(e){if(typeof e=="string"||ln(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function Sr(e){if(e!=null){try{return qt.call(e)}catch{}try{return e+""}catch{}}return""}function Ga(e){if(e instanceof ae)return e.clone();var n=new Dn(e.__wrapped__,e.__chain__);return n.__actions__=Qe(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}jn=oe(function(e,n){return Ye(e)?xt(e,He(n,1,Ye,!0)):[]}),_t=oe(function(e,n){var r=_n(n);return Ye(r)&&(r=o),Ye(e)?xt(e,He(n,1,Ye,!0),U(r,2)):[]}),le=oe(function(e,n){var r=_n(n);return Ye(r)&&(r=o),Ye(e)?xt(e,He(n,1,Ye,!0),o,r):[]});function Ja(e,n,r){var t=e==null?0:e.length;return t?(r=r==null?0:J(r),r<0&&(r=Ie(t+r,0)),Ut(e,U(n,3),r)):-1}function Qa(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var i=t-1;return r!==o&&(i=J(r),i=r<0?Ie(t+i,0):Fe(i,t-1)),Ut(e,U(n,3),i,!0)}function ec(e){return e!=null&&e.length?He(e,1):[]}function nc(e){return e&&e.length?e[0]:o}Mr=oe(function(e){var n=Ce(e,xi);return n.length&&n[0]===e[0]?pi(n):[]}),oi=oe(function(e){var n=_n(e),r=Ce(e,xi);return n===_n(r)?n=o:r.pop(),r.length&&r[0]===e[0]?pi(r,U(n,2)):[]}),Ne=oe(function(e){var n=_n(e),r=Ce(e,xi);return(n=typeof n=="function"?n:o)&&r.pop(),r.length&&r[0]===e[0]?pi(r,o,n):[]});function _n(e){var n=e==null?0:e.length;return n?e[n-1]:o}Br=oe(rc);function rc(e,n){return e&&e.length&&n&&n.length?vi(e,n):e}var Af=Un(function(e,n){var r=e==null?0:e.length,t=ci(e,n);return ga(e,Ce(n,function(i){return $n(i,r)?+i:i}).sort(Da)),t});function Ai(e){return e==null?e:df.call(e)}var Mf=oe(function(e){return ar(He(e,1,Ye,!0))}),Bf=oe(function(e){var n=_n(e);return Ye(n)&&(n=o),ar(He(e,1,Ye,!0),U(n,2))}),Wf=oe(function(e){var n=typeof(n=_n(e))=="function"?n:o;return ar(He(e,1,Ye,!0),o,n)});function Mi(e){if(!e||!e.length)return[];var n=0;return e=tr(e,function(r){return Ye(r)&&(n=Ie(r.length,n),1)}),ni(n,function(r){return Ce(e,Jo(r))})}function tc(e,n){return!e||!e.length?[]:(e=Mi(e),n==null?e:Ce(e,function(r){return an(n,o,r)}))}var Pf=oe(function(e,n){return Ye(e)?xt(e,n):[]}),Hf=oe(function(e){return bi(tr(e,Ye))}),Nf=oe(function(e){var n=_n(e);return Ye(n)&&(n=o),bi(tr(e,Ye),U(n,2))}),Ff=oe(function(e){var n=typeof(n=_n(e))=="function"?n:o;return bi(tr(e,Ye),o,n)}),Uf=oe(Mi),$f=oe(function(e){var n=e.length,n=typeof(n=1<n?e[n-1]:o)=="function"?(e.pop(),n):o;return tc(e,n)});function oc(e){return e=u(e),e.__chain__=!0,e}function wo(e,n){return n(e)}var Vf=Un(function(e){function n(a){return ci(a,e)}var r=e.length,t=r?e[0]:0,i=this.__wrapped__;return!(1<r||this.__actions__.length)&&i instanceof ae&&$n(t)?((i=i.slice(t,+t+(r?1:0))).__actions__.push({func:wo,args:[n],thisArg:o}),new Dn(i,this.__chain__).thru(function(a){return r&&!a.length&&a.push(o),a})):this.thru(n)}),qf=lo(function(e,n,r){ve.call(e,r)?++e[r]:Nn(e,r,1)}),Zf=Ra(Ja),Kf=Ra(Qa);function ic(e,n){return(K(e)?dn:ur)(e,U(n,3))}function uc(e,n){return(K(e)?Kc:ra)(e,U(n,3))}var Gf=lo(function(e,n,r){ve.call(e,r)?e[r].push(n):Nn(e,r,[n])}),Jf=oe(function(e,n,r){var t=-1,i=typeof n=="function",a=en(e)?y(e.length):[];return ur(e,function(c){a[++t]=i?an(n,c,r):Ct(c,n,r)}),a}),Qf=lo(function(e,n,r){Nn(e,r,n)});function mo(e,n){return(K(e)?Ce:fa)(e,U(n,3))}var el=lo(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]}),nl=oe(function(e,n){if(e==null)return[];var r=n.length;return 1<r&&Ze(e,n[0],n[1])?n=[]:2<r&&Ze(n[0],n[1],n[2])&&(n=[n[0]]),ha(e,He(n,1),[])}),bo=Wi||function(){return Pe.Date.now()};function ac(e,n,r){return n=r?o:n,n=e&&n==null?e.length:n,Fn(e,S,o,o,o,o,n)}function cc(e,n){var r;if(typeof n!="function")throw new gn(h);return e=J(e),function(){return 0<--e&&(r=n.apply(this,arguments)),e<=1&&(n=o),r}}var Bi=oe(function(e,n,r){var t,i=1;return r.length&&(t=ir(r,Ur(Bi)),i|=32),Fn(e,i,n,r,t)}),fc=oe(function(e,n,r){var t,i=3;return r.length&&(t=ir(r,Ur(fc)),i|=32),Fn(n,i,e,r,t)});function lc(e,n,r){var t,i,a,c,f,p,v=0,w=!1,m=!1,C=!0;if(typeof e!="function")throw new gn(h);function W(X){var N=t,q=i;return t=i=o,v=X,c=e.apply(q,N)}function I(X){var N=X-p;return p===o||n<=N||N<0||m&&a<=X-v}function $(){var X,N=bo();if(I(N))return E(N);f=Ot($,(X=n-((N=N)-p),m?Fe(X,a-(N-v)):X))}function E(X){return f=o,C&&t?W(X):(t=i=o,c)}function k(){var X=bo(),N=I(X);if(t=arguments,i=this,p=X,N){if(f===o)return v=X=p,f=Ot($,n),w?W(X):c;if(m)return xa(f),f=Ot($,n),W(p)}return f===o&&(f=Ot($,n)),c}return n=mn(n)||0,De(r)&&(w=!!r.leading,m="maxWait"in r,a=m?Ie(mn(r.maxWait)||0,n):a,C="trailing"in r?!!r.trailing:C),k.cancel=function(){f!==o&&xa(f),v=0,t=p=i=f=o},k.flush=function(){return f===o?c:E(bo())},k}var Wi=oe(function(e,n){return na(e,1,n)}),rl=oe(function(e,n,r){return na(e,mn(n)||0,r)});function xo(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new gn(h);function r(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;return a.has(i)?a.get(i):(t=e.apply(this,t),r.cache=a.set(i,t)||a,t)}return r.cache=new(xo.Cache||Hn),r}function Co(e){if(typeof e!="function")throw new gn(h);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}xo.Cache=Hn;var Pi=Pi(function(e,n){var r=(n=n.length==1&&K(n[0])?Ce(n[0],cn(U())):Ce(He(n,1),cn(U()))).length;return oe(function(t){for(var i=-1,a=Fe(t.length,r);++i<a;)t[i]=n[i].call(this,t[i]);return an(e,this,t)})}),Hi=oe(function(e,n){var r=ir(n,Ur(Hi));return Fn(e,32,o,n,r)}),sc=oe(function(e,n){var r=ir(n,Ur(sc));return Fn(e,64,o,n,r)}),tl=Un(function(e,n){return Fn(e,256,o,o,o,n)});function zn(e,n){return e===n||e!=e&&n!=n}var ol=go(si),il=go(function(e,n){return n<=e}),Dr=ua(function(){return arguments}())?ua:function(e){return ze(e)&&ve.call(e,"callee")&&!$u.call(e,"callee")},K=y.isArray,ul=zu?cn(zu):function(e){return ze(e)&&qe(e)==P};function en(e){return e!=null&&So(e.length)&&!Vn(e)}function Ye(e){return ze(e)&&en(e)}var lr=wn||Qi,wn=Ou?cn(Ou):function(e){return ze(e)&&qe(e)==Ve};function Ni(e){if(!ze(e))return!1;var n=qe(e);return n==be||n=="[object DOMException]"||typeof e.message=="string"&&typeof e.name=="string"&&!Yt(e)}function Vn(e){return De(e)?(e=qe(e),e==Xe||e==pe||e=="[object AsyncFunction]"||e=="[object Proxy]"):!1}function pc(e){return typeof e=="number"&&e==J(e)}function So(e){return typeof e=="number"&&-1<e&&e%1==0&&e<=O}function De(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function ze(e){return e!=null&&typeof e=="object"}var hc=Yu?cn(Yu):function(e){return ze(e)&&Ue(e)==M};function dc(e){return typeof e=="number"||ze(e)&&qe(e)==ye}function Yt(e){return!ze(e)||qe(e)!=Q?!1:(e=Gt(e),e===null?!0:(e=ve.call(e,"constructor")&&e.constructor,typeof e=="function"&&e instanceof e&&qt.call(e)==af))}var Fi=Tu?cn(Tu):function(e){return ze(e)&&qe(e)==je},gc=Ru?cn(Ru):function(e){return ze(e)&&Ue(e)==_e};function Do(e){return typeof e=="string"||!K(e)&&ze(e)&&qe(e)==pn}function ln(e){return typeof e=="symbol"||ze(e)&&qe(e)==Qn}var $r=Xu?cn(Xu):function(e){return ze(e)&&So(e.length)&&!!me[qe(e)]},al=go(gi),cl=go(function(e,n){return e<=n});function vc(e){if(!e)return[];if(en(e))return(Do(e)?Sn:Qe)(e);if(vt&&e[vt]){for(var n,r=e[vt](),t=[];!(n=r.next()).done;)t.push(n.value);return t}var i=Ue(e);return(i==M?ti:i==_e?$t:Vr)(e)}function qn(e){return e?(e=mn(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0}function J(n){var n=qn(n),r=n%1;return n==n?r?n-r:n:0}function yc(e){return e?br(J(e),0,x):0}function mn(e){if(typeof e=="number")return e;if(ln(e))return Y;if(typeof(e=De(e)?De(n=typeof e.valueOf=="function"?e.valueOf():e)?n+"":n:e)!="string")return e===0?e:+e;e=Mu(e);var n=Wt.test(e);return n||Uo.test(e)?qc(e.slice(2),n?2:8):Bt.test(e)?Y:+e}function _c(e){return Ln(e,nn(e))}function de(e){return e==null?"":fn(e)}var fl=Nr(function(e,n){if(zt(n)||en(n))Ln(n,We(n),e);else for(var r in n)ve.call(n,r)&&bt(e,r,n[r])}),wc=Nr(function(e,n){Ln(n,nn(n),e)}),ko=Nr(function(e,n,r,t){Ln(n,nn(n),e,t)}),ll=Nr(function(e,n,r,t){Ln(n,We(n),e,t)}),sl=Un(ci),pl=oe(function(e,n){e=ne(e);var r=-1,t=n.length,i=2<t?n[2]:o;for(i&&Ze(n[0],n[1],i)&&(t=1);++r<t;)for(var a=n[r],c=nn(a),f=-1,p=c.length;++f<p;){var v=c[f],w=e[v];(w===o||zn(w,Ar[v])&&!ve.call(e,v))&&(e[v]=a[v])}return e}),hl=oe(function(e){return e.push(o,Ma),an(mc,o,e)});function Ui(e,n,r){return e=e==null?o:xr(e,n),e===o?r:e}function $i(e,n){return e!=null&&Pa(e,n,Df)}var dl=ja(function(e,n,r){e[n=n!=null&&typeof n.toString!="function"?Zt.call(n):n]=r},qi(rn)),gl=ja(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=Zt.call(n)),ve.call(e,n)?e[n].push(r):e[n]=[r]},U),vl=oe(Ct);function We(e){return(en(e)?Gu:di)(e)}function nn(e){return en(e)?Gu(e,!0):kf(e)}var yl=Nr(function(e,n,r){ao(e,n,r)}),mc=Nr(function(e,n,r,t){ao(e,n,r,t)}),_l=Un(function(e,n){var r={};if(e==null)return r;for(var t=!1,i=(n=Ce(n,function(a){return a=cr(a,e),t=t||1<a.length,a}),Ln(e,Oi(e),r),t&&(r=vn(r,7,Ef)),n.length);i--;)mi(r,n[i]);return r}),wl=Un(function(e,n){return e==null?{}:da(r=e,n,function(t,i){return $i(r,i)});var r});function bc(e,n){if(e==null)return{};var r=Ce(Oi(e),function(t){return[t]});return n=U(n),da(e,r,function(t,i){return n(t,i[0])})}var xc=Ia(We),Cc=Ia(nn);function Vr(e){return e==null?[]:ri(e,We(e))}var ml=Fr(function(e,n,r){return n=n.toLowerCase(),e+(r?Sc(n):n)});function Sc(e){return Vi(de(e).toLowerCase())}function Dc(e){return(e=de(e))&&e.replace($o,ef).replace(gr,"")}var bl=Fr(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),xl=Fr(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),Cl=Ta("toLowerCase"),Sl=Fr(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()}),Dl=Fr(function(e,n,r){return e+(r?" ":"")+Vi(n)}),kl=Fr(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),Vi=Ta("toUpperCase");function kc(e,n,r){return e=de(e),(n=r?o:n)===o?(r=e,Nc.test(r)?e.match(Pc)||[]:e.match(Or)||[]):e.match(n)||[]}var zc=oe(function(e,n){try{return an(e,o,n)}catch(r){return Ni(r)?r:new H(r)}}),zl=Un(function(e,n){return dn(n,function(r){r=In(r),Nn(e,r,Bi(e[r],e))}),e});function qi(e){return function(){return e}}var Ol=Xa(),Yl=Xa(!0);function rn(e){return e}function Zi(e){return ca(typeof e=="function"?e:vn(e,1))}var Tl=oe(function(e,n){return function(r){return Ct(r,e,n)}}),Rl=oe(function(e,n){return function(r){return Ct(e,r,n)}});function Ki(e,n,r){var t=We(n),i=uo(n,t),a=(r!=null||De(n)&&(i.length||!t.length)||(r=n,n=e,e=this,i=uo(n,We(n))),!(De(r)&&"chain"in r&&!r.chain)),c=Vn(e);return dn(i,function(f){var p=n[f];e[f]=p,c&&(e.prototype[f]=function(){var v,w=this.__chain__;return a||w?(((v=e(this.__wrapped__)).__actions__=Qe(this.__actions__)).push({func:p,args:arguments,thisArg:e}),v.__chain__=w,v):p.apply(e,or([this.value()],arguments))})}),e}function Gi(){}var Xl=Di(Ce),jl=Di(ju),El=Di(Go);function Oc(e){return Xi(e)?Jo(In(e)):(n=e,function(r){return xr(r,n)});var n}var Ll=Ea(),Il=Ea(!0);function Ji(){return[]}function Qi(){return!1}var Al=po(function(e,n){return e+n},0),Ml=ki("ceil"),Bl=po(function(e,n){return e/n},1),Wl=ki("floor"),eu,Pl=po(function(e,n){return e*n},1),Hl=ki("round"),Nl=po(function(e,n){return e-n},0);return u.after=function(e,n){if(typeof n!="function")throw new gn(h);return e=J(e),function(){if(--e<1)return n.apply(this,arguments)}},u.ary=ac,u.assign=fl,u.assignIn=wc,u.assignInWith=ko,u.assignWith=ll,u.at=sl,u.before=cc,u.bind=Bi,u.bindAll=zl,u.bindKey=fc,u.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return K(e)?e:[e]},u.chain=oc,u.chunk=function(e,n,r){n=(r?Ze(e,n,r):n===o)?1:Ie(J(n),0);var t=e==null?0:e.length;if(!t||n<1)return[];for(var i=0,a=0,c=y(eo(t/n));i<t;)c[a++]=yn(e,i,i+=n);return c},u.compact=function(e){for(var n=-1,r=e==null?0:e.length,t=0,i=[];++n<r;){var a=e[n];a&&(i[t++]=a)}return i},u.concat=function(){var e=arguments.length;if(!e)return[];for(var n=y(e-1),r=arguments[0],t=e;t--;)n[t-1]=arguments[t];return or(K(r)?Qe(r):[r],He(n,1))},u.cond=function(e){var n=e==null?0:e.length,r=U();return e=n?Ce(e,function(t){if(typeof t[1]!="function")throw new gn(h);return[r(t[0]),t[1]]}):[],oe(function(t){for(var i=-1;++i<n;){var a=e[i];if(an(a[0],this,t))return an(a[1],this,t)}})},u.conforms=function(e){return n=vn(e,1),r=We(n),function(t){return ea(t,n,r)};var n,r},u.constant=qi,u.countBy=qf,u.create=function(e,n){return e=Hr(e),n==null?e:Qu(e,n)},u.curry=function e(n,r,t){return n=Fn(n,8,o,o,o,o,o,r=t?o:r),n.placeholder=e.placeholder,n},u.curryRight=function e(n,r,t){return n=Fn(n,16,o,o,o,o,o,r=t?o:r),n.placeholder=e.placeholder,n},u.debounce=lc,u.defaults=pl,u.defaultsDeep=hl,u.defer=Wi,u.delay=rl,u.difference=jn,u.differenceBy=_t,u.differenceWith=le,u.drop=function(e,n,r){var t=e==null?0:e.length;return t?yn(e,(n=r||n===o?1:J(n))<0?0:n,t):[]},u.dropRight=function(e,n,r){var t=e==null?0:e.length;return t?yn(e,0,(n=t-(n=r||n===o?1:J(n)))<0?0:n):[]},u.dropRightWhile=function(e,n){return e&&e.length?fo(e,U(n,3),!0,!0):[]},u.dropWhile=function(e,n){return e&&e.length?fo(e,U(n,3),!0):[]},u.fill=function(e,n,r,t){if(!(p=e==null?0:e.length))return[];r&&typeof r!="number"&&Ze(e,n,r)&&(r=0,t=p);var i=e,a=n,c=r,f=t,p=i.length;for((c=J(c))<0&&(c=p<-c?0:p+c),(f=f===o||p<f?p:J(f))<0&&(f+=p),f=f<c?0:yc(f);c<f;)i[c++]=a;return i},u.filter=function(e,n){return(K(e)?tr:ta)(e,U(n,3))},u.flatMap=function(e,n){return He(mo(e,n),1)},u.flatMapDeep=function(e,n){return He(mo(e,n),1/0)},u.flatMapDepth=function(e,n,r){return r=r===o?1:J(r),He(mo(e,n),r)},u.flatten=ec,u.flattenDeep=function(e){return e!=null&&e.length?He(e,1/0):[]},u.flattenDepth=function(e,n){return e!=null&&e.length?He(e,n=n===o?1:J(n)):[]},u.flip=function(e){return Fn(e,512)},u.flow=Ol,u.flowRight=Yl,u.fromPairs=function(e){for(var n=-1,r=e==null?0:e.length,t={};++n<r;){var i=e[n];t[i[0]]=i[1]}return t},u.functions=function(e){return e==null?[]:uo(e,We(e))},u.functionsIn=function(e){return e==null?[]:uo(e,nn(e))},u.groupBy=Gf,u.initial=function(e){return e!=null&&e.length?yn(e,0,-1):[]},u.intersection=Mr,u.intersectionBy=oi,u.intersectionWith=Ne,u.invert=dl,u.invertBy=gl,u.invokeMap=Jf,u.iteratee=Zi,u.keyBy=Qf,u.keys=We,u.keysIn=nn,u.map=mo,u.mapKeys=function(e,n){var r={};return n=U(n,3),En(e,function(t,i,a){Nn(r,n(t,i,a),t)}),r},u.mapValues=function(e,n){var r={};return n=U(n,3),En(e,function(t,i,a){Nn(r,i,n(t,i,a))}),r},u.matches=function(e){return la(vn(e,1))},u.matchesProperty=function(e,n){return sa(e,vn(n,1))},u.memoize=xo,u.merge=yl,u.mergeWith=mc,u.method=Tl,u.methodOf=Rl,u.mixin=Ki,u.negate=Co,u.nthArg=function(e){return e=J(e),oe(function(n){return pa(n,e)})},u.omit=_l,u.omitBy=function(e,n){return bc(e,Co(U(n)))},u.once=function(e){return cc(2,e)},u.orderBy=function(e,n,r,t){return e==null?[]:ha(e,n=K(n)?n:n==null?[]:[n],r=K(r=t?o:r)?r:r==null?[]:[r])},u.over=Xl,u.overArgs=Pi,u.overEvery=jl,u.overSome=El,u.partial=Hi,u.partialRight=sc,u.partition=el,u.pick=wl,u.pickBy=bc,u.property=Oc,u.propertyOf=function(e){return function(n){return e==null?o:xr(e,n)}},u.pull=Br,u.pullAll=rc,u.pullAllBy=function(e,n,r){return e&&e.length&&n&&n.length?vi(e,n,U(r,2)):e},u.pullAllWith=function(e,n,r){return e&&e.length&&n&&n.length?vi(e,n,o,r):e},u.pullAt=Af,u.range=Ll,u.rangeRight=Il,u.rearg=tl,u.reject=function(e,n){return(K(e)?tr:ta)(e,Co(U(n,3)))},u.remove=function(e,n){var r=[];if(!e||!e.length)return r;var t=-1,i=[],a=e.length;for(n=U(n,3);++t<a;){var c=e[t];n(c,t,e)&&(r.push(c),i.push(t))}return ga(e,i),r},u.rest=function(e,n){if(typeof e!="function")throw new gn(h);return oe(e,n=n===o?n:J(n))},u.reverse=Ai,u.sampleSize=function(e,n,r){return n=(r?Ze(e,n,r):n===o)?1:J(n),(K(e)?mf:Of)(e,n)},u.set=function(e,n,r){return e==null?e:Dt(e,n,r)},u.setWith=function(e,n,r,t){return t=typeof t=="function"?t:o,e==null?e:Dt(e,n,r,t)},u.shuffle=function(e){return(K(e)?bf:Yf)(e)},u.slice=function(e,n,r){var t=e==null?0:e.length;return t?(r=r&&typeof r!="number"&&Ze(e,n,r)?(n=0,t):(n=n==null?0:J(n),r===o?t:J(r)),yn(e,n,r)):[]},u.sortBy=nl,u.sortedUniq=function(e){return e&&e.length?ya(e):[]},u.sortedUniqBy=function(e,n){return e&&e.length?ya(e,U(n,2)):[]},u.split=function(e,n,r){return r&&typeof r!="number"&&Ze(e,n,r)&&(n=r=o),(r=r===o?x:r>>>0)?(e=de(e))&&(typeof n=="string"||n!=null&&!Fi(n))&&!(n=fn(n))&&Er(e)?fr(Sn(e),0,r):e.split(n,r):[]},u.spread=function(e,n){if(typeof e!="function")throw new gn(h);return n=n==null?0:Ie(J(n),0),oe(function(i){var t=i[n],i=fr(i,0,n);return t&&or(i,t),an(e,this,i)})},u.tail=function(e){var n=e==null?0:e.length;return n?yn(e,1,n):[]},u.take=function(e,n,r){return e&&e.length?yn(e,0,(n=r||n===o?1:J(n))<0?0:n):[]},u.takeRight=function(e,n,r){var t=e==null?0:e.length;return t?yn(e,(n=t-(n=r||n===o?1:J(n)))<0?0:n,t):[]},u.takeRightWhile=function(e,n){return e&&e.length?fo(e,U(n,3),!1,!0):[]},u.takeWhile=function(e,n){return e&&e.length?fo(e,U(n,3)):[]},u.tap=function(e,n){return n(e),e},u.throttle=function(e,n,r){var t=!0,i=!0;if(typeof e!="function")throw new gn(h);return De(r)&&(t="leading"in r?!!r.leading:t,i="trailing"in r?!!r.trailing:i),lc(e,n,{leading:t,maxWait:n,trailing:i})},u.thru=wo,u.toArray=vc,u.toPairs=xc,u.toPairsIn=Cc,u.toPath=function(e){return K(e)?Ce(e,In):ln(e)?[e]:Qe(Ka(de(e)))},u.toPlainObject=_c,u.transform=function(e,n,r){var t,i=K(e),a=i||lr(e)||$r(e);return n=U(n,4),r==null&&(t=e&&e.constructor,r=a?i?new t:[]:De(e)&&Vn(t)?Hr(Gt(e)):{}),(a?dn:En)(e,function(c,f,p){return n(r,c,f,p)}),r},u.unary=function(e){return ac(e,1)},u.union=Mf,u.unionBy=Bf,u.unionWith=Wf,u.uniq=function(e){return e&&e.length?ar(e):[]},u.uniqBy=function(e,n){return e&&e.length?ar(e,U(n,2)):[]},u.uniqWith=function(e,n){return n=typeof n=="function"?n:o,e&&e.length?ar(e,o,n):[]},u.unset=function(e,n){return e==null||mi(e,n)},u.unzip=Mi,u.unzipWith=tc,u.update=function(e,n,r){return e==null?e:wa(e,n,Ci(r))},u.updateWith=function(e,n,r,t){return t=typeof t=="function"?t:o,e==null?e:wa(e,n,Ci(r),t)},u.values=Vr,u.valuesIn=function(e){return e==null?[]:ri(e,nn(e))},u.without=Pf,u.words=kc,u.wrap=function(e,n){return Hi(Ci(n),e)},u.xor=Hf,u.xorBy=Nf,u.xorWith=Ff,u.zip=Uf,u.zipObject=function(e,n){return ba(e||[],n||[],bt)},u.zipObjectDeep=function(e,n){return ba(e||[],n||[],Dt)},u.zipWith=$f,u.entries=xc,u.entriesIn=Cc,u.extend=wc,u.extendWith=ko,Ki(u,u),u.add=Al,u.attempt=zc,u.camelCase=ml,u.capitalize=Sc,u.ceil=Ml,u.clamp=function(e,n,r){return r===o&&(r=n,n=o),r!==o&&(r=(r=mn(r))==r?r:0),n!==o&&(n=(n=mn(n))==n?n:0),br(mn(e),n,r)},u.clone=function(e){return vn(e,4)},u.cloneDeep=function(e){return vn(e,5)},u.cloneDeepWith=function(e,n){return vn(e,5,n=typeof n=="function"?n:o)},u.cloneWith=function(e,n){return vn(e,4,n=typeof n=="function"?n:o)},u.conformsTo=function(e,n){return n==null||ea(e,n,We(n))},u.deburr=Dc,u.defaultTo=function(e,n){return e==null||e!=e?n:e},u.divide=Bl,u.endsWith=function(e,n,r){e=de(e),n=fn(n);var t=e.length,t=r=r===o?t:br(J(r),0,t);return 0<=(r-=n.length)&&e.slice(r,t)==n},u.eq=zn,u.escape=function(e){return(e=de(e))&&hn.test(e)?e.replace(ut,nf):e},u.escapeRegExp=function(e){return(e=de(e))&&Ge.test(e)?e.replace(Rn,"\\$&"):e},u.every=function(e,n,r){return(K(e)?ju:Cf)(e,U(n=r&&Ze(e,n,r)?o:n,3))},u.find=Zf,u.findIndex=Ja,u.findKey=function(e,n){return Eu(e,U(n,3),En)},u.findLast=Kf,u.findLastIndex=Qa,u.findLastKey=function(e,n){return Eu(e,U(n,3),li)},u.floor=Wl,u.forEach=ic,u.forEachRight=uc,u.forIn=function(e,n){return e==null?e:fi(e,U(n,3),nn)},u.forInRight=function(e,n){return e==null?e:oa(e,U(n,3),nn)},u.forOwn=function(e,n){return e&&En(e,U(n,3))},u.forOwnRight=function(e,n){return e&&li(e,U(n,3))},u.get=Ui,u.gt=ol,u.gte=il,u.has=function(e,n){return e!=null&&Pa(e,n,Sf)},u.hasIn=$i,u.head=nc,u.identity=rn,u.includes=function(e,n,r,t){return e=en(e)?e:Vr(e),r=r&&!t?J(r):0,t=e.length,r<0&&(r=Ie(t+r,0)),Do(e)?r<=t&&-1<e.indexOf(n,r):!!t&&-1<jr(e,n,r)},u.indexOf=function(e,n,r){var t=e==null?0:e.length;return t?(r=r==null?0:J(r),jr(e,n,r=r<0?Ie(t+r,0):r)):-1},u.inRange=function(e,n,r){return n=qn(n),r===o?(r=n,n=0):r=qn(r),(e=e=mn(e))>=Fe(n=n,r=r)&&e<Ie(n,r)},u.invoke=vl,u.isArguments=Dr,u.isArray=K,u.isArrayBuffer=ul,u.isArrayLike=en,u.isArrayLikeObject=Ye,u.isBoolean=function(e){return e===!0||e===!1||ze(e)&&qe(e)==Ke},u.isBuffer=lr,u.isDate=wn,u.isElement=function(e){return ze(e)&&e.nodeType===1&&!Yt(e)},u.isEmpty=function(e){if(e==null)return!0;if(en(e)&&(K(e)||typeof e=="string"||typeof e.splice=="function"||lr(e)||$r(e)||Dr(e)))return!e.length;var n,r=Ue(e);if(r==M||r==_e)return!e.size;if(zt(e))return!di(e).length;for(n in e)if(ve.call(e,n))return!1;return!0},u.isEqual=function(e,n){return St(e,n)},u.isEqualWith=function(e,n,r){var t=(r=typeof r=="function"?r:o)?r(e,n):o;return t===o?St(e,n,o,r):!!t},u.isError=Ni,u.isFinite=function(e){return typeof e=="number"&&qu(e)},u.isFunction=Vn,u.isInteger=pc,u.isLength=So,u.isMap=hc,u.isMatch=function(e,n){return e===n||hi(e,n,Ti(n))},u.isMatchWith=function(e,n,r){return r=typeof r=="function"?r:o,hi(e,n,Ti(n),r)},u.isNaN=function(e){return dc(e)&&e!=+e},u.isNative=function(e){if(If(e))throw new H("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return aa(e)},u.isNil=function(e){return e==null},u.isNull=function(e){return e===null},u.isNumber=dc,u.isObject=De,u.isObjectLike=ze,u.isPlainObject=Yt,u.isRegExp=Fi,u.isSafeInteger=function(e){return pc(e)&&-O<=e&&e<=O},u.isSet=gc,u.isString=Do,u.isSymbol=ln,u.isTypedArray=$r,u.isUndefined=function(e){return e===o},u.isWeakMap=function(e){return ze(e)&&Ue(e)==er},u.isWeakSet=function(e){return ze(e)&&qe(e)=="[object WeakSet]"},u.join=function(e,n){return e==null?"":lf.call(e,n)},u.kebabCase=bl,u.last=_n,u.lastIndexOf=function(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var i=t;if(r!==o&&(i=(i=J(r))<0?Ie(t+i,0):Fe(i,t-1)),n!=n)return Ut(e,Lu,i,!0);for(var a=e,c=n,f=i+1;f--;)if(a[f]===c)return f;return f},u.lowerCase=xl,u.lowerFirst=Cl,u.lt=al,u.lte=cl,u.max=function(e){return e&&e.length?io(e,rn,si):o},u.maxBy=function(e,n){return e&&e.length?io(e,U(n,2),si):o},u.mean=function(e){return Iu(e,rn)},u.meanBy=function(e,n){return Iu(e,U(n,2))},u.min=function(e){return e&&e.length?io(e,rn,gi):o},u.minBy=function(e,n){return e&&e.length?io(e,U(n,2),gi):o},u.stubArray=Ji,u.stubFalse=Qi,u.stubObject=function(){return{}},u.stubString=function(){return""},u.stubTrue=function(){return!0},u.multiply=Pl,u.nth=function(e,n){return e&&e.length?pa(e,J(n)):o},u.noConflict=function(){return Pe._===this&&(Pe._=cf),this},u.noop=Gi,u.now=bo,u.pad=function(e,n,r){e=de(e);var t=(n=J(n))?Lr(e):0;return!n||n<=t?e:ho(no(n=(n-t)/2),r)+e+ho(eo(n),r)},u.padEnd=function(e,n,r){e=de(e);var t=(n=J(n))?Lr(e):0;return n&&t<n?e+ho(n-t,r):e},u.padStart=function(e,n,r){e=de(e);var t=(n=J(n))?Lr(e):0;return n&&t<n?ho(n-t,r)+e:e},u.parseInt=function(e,n,r){return n=r||n==null?0:n&&+n,hf(de(e).replace(zr,""),n||0)},u.random=function(e,n,r){var t;return r&&typeof r!="boolean"&&Ze(e,n,r)&&(n=r=o),r===o&&(typeof n=="boolean"?(r=n,n=o):typeof e=="boolean"&&(r=e,e=o)),e===o&&n===o?(e=0,n=1):(e=qn(e),n===o?(n=e,e=0):n=qn(n)),n<e&&(t=e,e=n,n=t),r||e%1||n%1?(t=Zu(),Fe(e+t*(n-e+Vc("1e-"+((t+"").length-1))),n)):yi(e,n)},u.reduce=function(e,n,r){var t=K(e)?Ko:Au,i=arguments.length<3;return t(e,U(n,4),r,i,ur)},u.reduceRight=function(e,n,r){var t=K(e)?Gc:Au,i=arguments.length<3;return t(e,U(n,4),r,i,ra)},u.repeat=function(e,n,r){return n=(r?Ze(e,n,r):n===o)?1:J(n),_i(de(e),n)},u.replace=function(){var e=arguments,n=de(e[0]);return e.length<3?n:n.replace(e[1],e[2])},u.result=function(e,n,r){var t=-1,i=(n=cr(n,e)).length;for(i||(i=1,e=o);++t<i;){var a=e==null?o:e[In(n[t])];a===o&&(t=i,a=r),e=Vn(a)?a.call(e):a}return e},u.round=Hl,u.runInContext=g,u.sample=function(e){return(K(e)?Ju:zf)(e)},u.size=function(e){if(e==null)return 0;if(en(e))return Do(e)?Lr(e):e.length;var n=Ue(e);return n==M||n==_e?e.size:di(e).length},u.snakeCase=Sl,u.some=function(e,n,r){return(K(e)?Go:Tf)(e,U(n=r&&Ze(e,n,r)?o:n,3))},u.sortedIndex=function(e,n){return co(e,n)},u.sortedIndexBy=function(e,n,r){return wi(e,n,U(r,2))},u.sortedIndexOf=function(e,n){var r=e==null?0:e.length;if(r){var t=co(e,n);if(t<r&&zn(e[t],n))return t}return-1},u.sortedLastIndex=function(e,n){return co(e,n,!0)},u.sortedLastIndexBy=function(e,n,r){return wi(e,n,U(r,2),!0)},u.sortedLastIndexOf=function(e,n){if(e!=null&&e.length){var r=co(e,n,!0)-1;if(zn(e[r],n))return r}return-1},u.startCase=Dl,u.startsWith=function(e,n,r){return e=de(e),r=r==null?0:br(J(r),0,e.length),n=fn(n),e.slice(r,r+n.length)==n},u.subtract=Nl,u.sum=function(e){return e&&e.length?ei(e,rn):0},u.sumBy=function(e,n){return e&&e.length?ei(e,U(n,2)):0},u.template=function(e,n,w){var t,i,p=u.templateSettings;w&&Ze(e,n,w)&&(n=o),e=de(e),n=ko({},n,p,Aa);var a=We(w=ko({},n.imports,p.imports,Aa)),c=ri(w,a),f=0,p=n.interpolate||Tr,v="__p += '",w=gt((n.escape||Tr).source+"|"+p.source+"|"+(p===at?Bn:Tr).source+"|"+(n.evaluate||Tr).source+"|$","g"),m="//# sourceURL="+(ve.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Uc+"]")+`
`;if(e.replace(w,function(C,W,I,$,E,k){return I=I||$,v+=e.slice(f,k).replace(Vo,rf),W&&(t=!0,v+=`' +
__e(`+W+`) +
'`),E&&(i=!0,v+=`';
`+E+`;
__p += '`),I&&(v+=`' +
((__t = (`+I+`)) == null ? '' : __t) +
'`),f=k+C.length,C}),v+=`';
`,p=ve.call(n,"variable")&&n.variable){if(Yr.test(p))throw new H("Invalid `variable` option passed into `_.template`")}else v=`with (obj) {
`+v+`
}
`;if(v=(i?v.replace(un,""):v).replace(Ee,"$1").replace(Tn,"$1;"),v="function("+(p||"obj")+`) {
`+(p?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(t?", __e = _.escape":"")+(i?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`,(w=zc(function(){return Z(a,m+"return "+v).apply(o,c)})).source=v,Ni(w))throw w;return w},u.times=function(e,n){if((e=J(e))<1||O<e)return[];for(var r=x,t=Fe(e,x),t=(n=U(n),e-=x,ni(t,n));++r<e;)n(r);return t},u.toFinite=qn,u.toInteger=J,u.toLength=yc,u.toLower=function(e){return de(e).toLowerCase()},u.toNumber=mn,u.toSafeInteger=function(e){return e?br(J(e),-O,O):e===0?e:0},u.toString=de,u.toUpper=function(e){return de(e).toUpperCase()},u.trim=function(e,n,r){return(e=de(e))&&(r||n===o)?Mu(e):e&&(n=fn(n))?(r=Sn(e),e=Sn(n),fr(r,Bu(r,e),Wu(r,e)+1).join("")):e},u.trimEnd=function(e,n,r){return(e=de(e))&&(r||n===o)?e.slice(0,Hu(e)+1):e&&(n=fn(n))?fr(r=Sn(e),0,Wu(r,Sn(n))+1).join(""):e},u.trimStart=function(e,n,r){return(e=de(e))&&(r||n===o)?e.replace(zr,""):e&&(n=fn(n))?fr(r=Sn(e),Bu(r,Sn(n))).join(""):e},u.truncate=function(e,i){var r,c=30,t="...",i=(De(i)&&(r="separator"in i?i.separator:r,c="length"in i?J(i.length):c,t="omission"in i?fn(i.omission):t),(e=de(e)).length);if((i=Er(e)?(a=Sn(e)).length:i)<=c)return e;if((i=c-Lr(t))<1)return t;var a,c=a?fr(a,0,i).join(""):e.slice(0,i);if(r===o)return c+t;if(a&&(i+=c.length-i),Fi(r)){if(e.slice(i).search(r)){var f,p=c;for((r=r.global?r:gt(r.source,de(lt.exec(r))+"g")).lastIndex=0;f=r.exec(p);)var v=f.index;c=c.slice(0,v===o?i:v)}}else e.indexOf(fn(r),i)==i||-1<(a=c.lastIndexOf(r))&&(c=c.slice(0,a));return c+t},u.unescape=function(e){return(e=de(e))&&F.test(e)?e.replace(it,tf):e},u.uniqueId=function(e){var n=++uf;return de(e)+n},u.upperCase=kl,u.upperFirst=Vi,u.each=ic,u.eachRight=uc,u.first=nc,Ki(u,(eu={},En(u,function(e,n){ve.call(u.prototype,n)||(eu[n]=e)}),eu),{chain:!1}),u.VERSION="4.17.21",dn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),dn(["drop","take"],function(e,n){ae.prototype[e]=function(r){r=r===o?1:Ie(J(r),0);var t=this.__filtered__&&!n?new ae(this):this.clone();return t.__filtered__?t.__takeCount__=Fe(r,t.__takeCount__):t.__views__.push({size:Fe(r,x),type:e+(t.__dir__<0?"Right":"")}),t},ae.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),dn(["filter","map","takeWhile"],function(e,n){var r=n+1,t=r==1||r==3;ae.prototype[e]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:U(i,3),type:r}),a.__filtered__=a.__filtered__||t,a}}),dn(["head","last"],function(e,n){var r="take"+(n?"Right":"");ae.prototype[e]=function(){return this[r](1).value()[0]}}),dn(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");ae.prototype[e]=function(){return this.__filtered__?new ae(this):this[r](1)}}),ae.prototype.compact=function(){return this.filter(rn)},ae.prototype.find=function(e){return this.filter(e).head()},ae.prototype.findLast=function(e){return this.reverse().find(e)},ae.prototype.invokeMap=oe(function(e,n){return typeof e=="function"?new ae(this):this.map(function(r){return Ct(r,e,n)})}),ae.prototype.reject=function(e){return this.filter(Co(U(e)))},ae.prototype.slice=function(e,n){e=J(e);var r=this;return r.__filtered__&&(0<e||n<0)?new ae(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==o?(n=J(n))<0?r.dropRight(-n):r.take(n-e):r)},ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ae.prototype.toArray=function(){return this.take(x)},En(ae.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),t=/^(?:head|last)$/.test(n),i=u[t?"take"+(n=="last"?"Right":""):n],a=t||/^find/.test(n);i&&(u.prototype[n]=function(){function c($){return $=i.apply(u,or([$],v)),t&&m?$[0]:$}var f,p=this.__wrapped__,v=t?[1]:arguments,I=p instanceof ae,C=v[0],w=I||K(p),m=(w&&r&&typeof C=="function"&&C.length!=1&&(I=w=!1),this.__chain__),C=!!this.__actions__.length,W=a&&!m,I=I&&!C;return!a&&w?(p=I?p:new ae(this),(f=e.apply(p,v)).__actions__.push({func:wo,args:[c],thisArg:o}),new Dn(f,m)):W&&I?e.apply(this,v):(f=this.thru(c),W?t?f.value()[0]:f.value():f)})}),dn(["pop","push","shift","sort","splice","unshift"],function(e){var n=Vt[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",t=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var i,a=arguments;return t&&!this.__chain__?(i=this.value(),n.apply(K(i)?i:[],a)):this[r](function(c){return n.apply(K(c)?c:[],a)})}}),En(ae.prototype,function(e,n){var r,t=u[n];t&&(r=t.name+"",ve.call(Pr,r)||(Pr[r]=[]),Pr[r].push({name:n,func:t}))}),Pr[so(o,2).name]=[{name:"wrapper",func:o}],ae.prototype.clone=function(){var e=new ae(this.__wrapped__);return e.__actions__=Qe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Qe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Qe(this.__views__),e},ae.prototype.reverse=function(){var e;return this.__filtered__?((e=new ae(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},ae.prototype.value=function(){var e=this.__wrapped__.value(),n=this.__dir__,r=K(e),t=n<0,i=r?e.length:0,a=function(X,N,q){for(var ce=-1,ke=q.length;++ce<ke;){var tn=q[ce],Te=tn.size;switch(tn.type){case"drop":X+=Te;break;case"dropRight":N-=Te;break;case"take":N=Fe(N,X+Te);break;case"takeRight":X=Ie(X,N-Te)}}return{start:X,end:N}}(0,i,this.__views__),c=a.start,f=(a=a.end)-c,p=t?a:c-1,v=this.__iteratees__,w=v.length,m=0,C=Fe(f,this.__takeCount__);if(!r||!t&&i==f&&C==f)return ma(e,this.__actions__);var W=[];e:for(;f--&&m<C;){for(var I=-1,$=e[p+=n];++I<w;){var E=v[I],k=E.iteratee,E=E.type,k=k($);if(E==2)$=k;else if(!k){if(E==1)continue e;break e}}W[m++]=$}return W},u.prototype.at=Vf,u.prototype.chain=function(){return oc(this)},u.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},u.prototype.next=function(){this.__values__===o&&(this.__values__=vc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},u.prototype.plant=function(e){for(var n,i=this;i instanceof to;)var r=Ga(i),t=(r.__index__=0,r.__values__=o,n?t.__wrapped__=r:n=r,r),i=i.__wrapped__;return t.__wrapped__=e,n},u.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof ae?(e=e,(e=(e=this.__actions__.length?new ae(this):e).reverse()).__actions__.push({func:wo,args:[Ai],thisArg:o}),new Dn(e,this.__chain__)):this.thru(Ai)},u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return ma(this.__wrapped__,this.__actions__)},u.prototype.first=u.prototype.head,vt&&(u.prototype[vt]=function(){return this}),u}();yr?((yr.exports=Ir)._=Ir,vr._=Ir):Pe._=Ir}.call(Gr);const Zn=1e5,Kn=window.devicePixelRatio||1,Jr={daubConfig:{lineWidth:20,strokeStyle:"white"},tagConfig:{fontSize:20,showText:!0,fillStyle:"rgba(242, 88, 85, 0.5)",textFillStyle:"rgba(255, 255, 255, 0.6)",hoverStrokeStyle:"#F25856",hoverLineWidth:1,hoverLineDash:[5],highlightStrokeStyle:"yellow",highlightLineWidth:2,highlightLineDash:[5],customDraw(){}},layerConfig:{fillStyle:"rgba(0, 0, 0, 0.6)"},cropConfig:{lineDash:[],strokeStyle:"rgba(255, 255, 255, 1)",lineWidth:2,customDraw(){}}},Qr={width:0,height:0},sn={x:void 0,y:void 0};function et(o){o.clearRect(-Zn/2,-Zn/2,Zn,Zn)}function fu(o,h){let _=new Image;return h&&(_.crossOrigin="anonymous"),_.src=o,new Promise((l,S)=>{_.complete?l(_):(_.onload=function(){l(_)},_.onerror=function(){S("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25:"+_.src)})})}function nt(o,h,_,l,S,O){o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(h,_,l,S,O)}function lu(o,h){o.fillStyle=h.layerConfig.fillStyle,o.fillRect(-Zn/2,-Zn/2,Zn,Zn)}function su(o,h,_,l,S){o.clearRect(h,_,l,S)}function pu(o,h,_,l,S,O,Y){O=ie.exports.cloneDeep(O.cropConfig),Y&&Y.cropConfig&&Object.assign(O,Y.cropConfig),o.setLineDash(O.lineDash),o.strokeStyle=O.strokeStyle,o.lineWidth=O.lineWidth,o.strokeRect(h,_,l,S)}function hu(o){return o=o.getClientRects()[0],o?{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}:void 0}function jt(o,h){o.canvas.width=h.width,o.canvas.height=h.height}function On(o,h=["width","height"],_=!1){try{var l=function(O){let Y=Object.prototype.toString.call(O);return Y.slice(8,Y.length-1)}(o);let S=_?1/Kn:Kn;if(l==="Number")return o*S;h.forEach(O=>{o[O]*=S})}catch{}return o}function du(o){return Array.from(o.touches||[]).map(h=>On({clientX:h.clientX,clientY:h.clientY},["clientX","clientY"]))}function gu(o,h,_,l,S,O,Y){Y||(et(o),lu(o,O)),su(o,h,_,l,S),pu(o,h,_,l,S,O)}function Eo(o,h,_,l){let S,O;h.forEach((Y,x)=>{o&&(S=h[x-1]||Y,O=Y,o.beginPath(),o.lineJoin="round",o.lineCap="round",o.lineWidth=Y.lineWidth||l.daubConfig.lineWidth,o.strokeStyle=Y.strokeStyle||l.daubConfig.strokeStyle,o.moveTo(S._x||S.x,S._y||S.y),o.lineTo(O._x||O.x,O._y||O.y),o.stroke())})}function Gn(o,h,_,l,S,O){O||(et(o),lu(o,l)),h.forEach(Y=>{var A;let x=Jn(Y,Y.__scale,_),j=(S&&(x[0]+=S.offsetX,x[1]+=S.offsetY),su(o,...x),pu(o,...x,l,Y),ie.exports.cloneDeep(l.cropConfig));Y&&Y.cropConfig&&Object.assign(j,Y.cropConfig),(A=j.customDraw)==null||A.call(j,o,{target:Y,positions:x})})}function rt(o,h,_=1,l={x:0,y:0}){let S=[],O=[];return h.map(x=>{{var j=_,A=l;let B=ie.exports.cloneDeep(x);return B.startX=B.startX*j+A.x,B.endX=B.endX*j+A.x,B.startY=B.startY*j+A.y,B.endY=B.endY*j+A.y,B}}).forEach((x,j)=>{!function(A,B){if(A.x>=B.startX&&A.x<=B.endX&&A.y>=B.startY&&A.y<=B.endY)return 1}(o,x)||(S.push(h[j]),O.push(j))}),{boxList:S,indexList:O}}function Lo(o,h){let _=h[0],l=h[0]+h[2],S=h[1],O=h[1]+h[3];return o.x>=_&&o.x<=l&&o.y>=S&&o.y<=O}function Io(o,h){var _=Math.abs(h.x-o.x),l=Math.abs(h.y-o.y);return[Math.min(o.x,h.x),Math.min(o.y,h.y),_,l]}function Yn(Y){let h=Y;var{startX:Y,startY:x,endX:_,endY:l}=h,S=Math.abs(Y-_),O=Math.abs(x-l),Y=Math.min(Y,_),x=Math.min(x,l);return h.startX=Y,h.startY=x,h.endX=Y+S,h.endY=x+O,{info:h,position:[Y,x,S,O]}}function tt(_,l){var _=Yn(_),l=Yn(l),S=Math.min(_.info.startY,l.info.startY),O=Math.max(_.info.endY,l.info.endY);let Y;Math.abs(O-S)<_.position[3]+l.position[3]&&(Y={startY:Math.max(_.info.startY,l.info.startY),endY:Math.min(_.info.endY,l.info.endY)}),O=Math.min(_.info.startX,l.info.startX),S=Math.max(_.info.endX,l.info.endX),S=Math.abs(S-O),O=_.position[2]+l.position[2];let x;if((x=S<O?{startX:Math.max(_.info.startX,l.info.startX),endX:Math.min(_.info.endX,l.info.endX)}:x)!==void 0&&Y!==void 0)return Object.assign(Y,x)}function Jn(Y,h=1,_={x:0,y:0}){var Y=Yn(Y),{startX:l,startY:S}=Y.info,O=Y.position[2],Y=Y.position[3];return[l*h+_.x,S*h+_.y,O*h,Y*h]}function Ao(o){return o=Jn(o),5<=o[2]&&5<=o[3]}function Mo(o,h,_,l,S,O,Y,x,j,A,B,Ke,Ve){let be=ie.exports.cloneDeep(O.tagConfig);if(Ke&&Object.assign(be,Ke),o.font=be.fontSize+"px sans-serif",x||j){if(!j||x&&x.type==="move"||(o.fillStyle=be.fillStyle,o.fillRect(h,_,l,S),Y&&be.showText&&(O=parseFloat(o.font.split(" ")[0]),o.fillStyle=be.textFillStyle,o.fillText(B||Y+"",h+4,_+S/2+O/2))),A&&(o.strokeStyle=be.highlightStrokeStyle,o.lineWidth=be.highlightLineWidth,o.setLineDash(be.highlightLineDash),o.strokeRect(h,_,l,S)),x&&Lo(x,[h,_,l,S])){if(x.type==="click")return{isShow:j=!j,isCrash:!0};x.type!=="move"||j||(o.strokeStyle=be.hoverStrokeStyle,o.lineWidth=be.hoverLineWidth,o.setLineDash(be.hoverLineDash),o.strokeRect(h,_,l,S))}be.customDraw(o,{target:Ve,positions:[h,_,l,S]})}}function Mn(o,h,_,l,S={offsetX:0,offsetY:0},O){let Y=!1,x=[];return h.forEach(j=>{let A=Jn(j,j.__scale,_);A[0]+=S.offsetX,A[1]+=S.offsetY;var B=Mo(o,...A,l,(j.__index||0)+1,O,j.isShow,j.showOutLine,j.labelText,j.tagConfig,j);B!==void 0&&(j.isShow=B.isShow,B.isCrash&&(Y=!0,x.push(j)))}),{isReDraw:Y,redrawList:x}}function vu(o,h,_){return _=Et({x:o[0],y:o[1]},h,_),o[0]=_.x,o[1]=_.y,o[2]/=h/Kn,o[3]/=h/Kn,o}function yu(o,h){return(o.x<=h.x?"left":"right")+"-"+(o.y<=h.y?"top":"bottom")}function _u(o,O,_){var l=Io(o,O),S=(O.x-o.x)/_,O=(O.y-o.y)/_;let Y=!1;return{isStartMove:Y=5<l[2]||5<l[3]?!0:Y,offsetInfo:{offsetX:S,offsetY:O}}}function Et(o,h,_){return{x:o.x/h+_.x,y:o.y/h+_.y}}function Lt(o,h,_,l){return o=Et({x:o.layerX,y:o.layerY},h,_),{x:o.x,y:o.y,type:l}}function Bo(o,h,_,l,S){o=Lt(o,_,S,"move");let O=h.map((x,j)=>{return[x,j,A=-1]=[x,l,j],x=Jn(x,x.__scale,j),B=(j=b.mobile()?6*Kn:6)/2,[{index:A,name:"left-top",type:"vertex",positions:[x[0]-B,x[1]-B,j,j]},{index:A,name:"right-top",type:"vertex",positions:[x[0]+x[2]-B,x[1]-B,j,j]},{index:A,name:"left-bottom",type:"vertex",positions:[x[0]-B,x[1]+x[3]-B,j,j]},{index:A,name:"right-bottom",type:"vertex",positions:[x[0]+x[2]-B,x[1]+x[3]-B,j,j]},{index:A,name:"left",type:"border",positions:[x[0]-B,x[1]+B,j,x[3]-B]},{index:A,name:"top",type:"border",positions:[x[0]+B,x[1]-B,x[2]-B,j]},{index:A,name:"right",type:"border",positions:[x[0]+x[2]-B,x[1]+B,j,x[3]-B]},{index:A,name:"bottom",type:"border",positions:[x[0]+B,x[1]+x[3]-B,x[2]-B,j]}];var A,B}).flat(),Y=function(x,j){let A=!1,B=[],Ke=[];return j.forEach((Ve,be)=>{Lo(x,Ve)&&(A=!0,B.push(Ve),Ke.push(be))}),{hasIn:A,coverList:B,coverIndexList:Ke}}(o,O.map(x=>x.positions));return{hasIn:Y.hasIn,list:Y.coverIndexList.map(x=>O[x])}}function Wo(o){if(o=o.find(h=>h.type==="vertex")||o[0],o)return o;throw new Error("findOneBorderOrVertex list may be empty.")}function wu(o,h,_,l,S,O,Y){Y||((Y=Bo(h,_,l,S,O)).hasIn?((h=Wo(Y.list).name)!=="left-top"&&h!=="right-bottom"||(o.style.cursor="nwse-resize"),h!=="right-top"&&h!=="left-bottom"||(o.style.cursor="nesw-resize"),h!=="left"&&h!=="right"||(o.style.cursor="col-resize"),h!=="top"&&h!=="bottom"||(o.style.cursor="row-resize")):o.style.cursor="auto")}function mu(o,h,_,l,S,O,Y,x,j,A,B){if(h&&h.x!==void 0&&_&&_.x!==void 0){var h=_u(h,_,O);if(h.isStartMove)return{offsetX:_,offsetY:O}=h.offsetInfo,h=Jn(function(ye,be,Q){if(!Q)return ye;let pe=ie.exports.cloneDeep(ye),M=Q.name;var{offsetX:ye,offsetY:Q}=be;return M.includes("left")&&(pe.startX+=ye),M.includes("top")&&(pe.startY+=Q),M.includes("right")&&(pe.endX+=ye),M.includes("bottom")&&(pe.endY+=Q),pe}(l,{offsetX:_/S,offsetY:O/S},j),S,Y),Gn(o,A,Y,B),B.mode=="crop"&&gu(o,...h,B,!0),Mn(o,x,Y,B),B.mode=="tag"&&Mo(o,...h,B,(l.__index||0)+1,void 0,l.isShow,l.showOutLine,l.labelText,l.tagConfig,void 0),h}}function bu(o,h){return Math.abs(o-h)}function xu(o){return{width:bu(o[0].clientX,o[1].clientX),height:bu(o[0].clientY,o[1].clientY)}}function Po(o,h,_=1){return Yn({startX:(o[0]-h.x)/_,startY:(o[1]-h.y)/_,endX:(o[0]+o[2]-h.x)/_,endY:(o[1]+o[3]-h.y)/_}).info}function on(o,h,_){return o.map((l,S)=>(l.__scale=h,l.__index=S,Yn(No(l,_)).info))}function Ho(o,h,_){return o.map(l=>l.map(S=>({...S,_x:S.x*_+h.x,_y:S.y*_+h.y})))}function Cu(o,h){for(const _ of h)if(tt(o,_))return!0;return!1}function Su(o,h){return h=tt(o,h),!(!h||h.startX!==o.startX||h.endX!==o.endX||h.startY!==o.startY||h.endY!==o.endY)}function Du(o,h,_){let l=ie.exports.cloneDeep(_);return o==="img"&&(l.startX=l.startX+h.startX,l.startY=l.startY+h.startY,l.endX=l.endX+h.startX,l.endY=l.endY+h.startY),o==="crop"&&(l.startX=l.startX-h.startX,l.startY=l.startY-h.startY,l.endX=l.endX-h.startX,l.endY=l.endY-h.startY),l}function No(o,h){return o.startX=parseFloat(o.startX.toFixed(h)),o.endX=parseFloat(o.endX.toFixed(h)),o.startY=parseFloat(o.startY.toFixed(h)),o.endY=parseFloat(o.endY.toFixed(h)),o}var kr=(o,h)=>{const _=o.__vccOpts||o;for(var[l,S]of h)_[l]=S;return _},ot=o=>(V.pushScopeId("data-v-6b3495a2"),o=o(),V.popScopeId(),o);const Xc=["onTouchmove","onTouchstart","onTouchend"],jc={key:0,class:"mode-panel"},Ec={class:"status"},Lc={class:"text"},Ic={class:"tip"},Ac=ot(()=>V.createElementVNode("kbd",null,"Ctrl",-1)),Mc=V.createTextVNode(" + "),Bc=ot(()=>V.createElementVNode("kbd",null,"B",-1)),Wc=ot(()=>V.createElementVNode("span",{style:{"font-size":"14px","margin-left":"10px"}},"\u5207\u6362\u6A21\u5F0F",-1));ot=V.defineComponent({props:{cropConfig:{default:()=>Jr.cropConfig},daubConfig:{default:()=>Jr.daubConfig},layerConfig:{default:()=>Jr.layerConfig},tagConfig:{default:()=>Jr.tagConfig},drawingText:null,isShowTip:{type:Boolean,default:!1},enableScale:{type:Boolean,default:!0},enableMove:{type:Boolean,default:!0},enableDrawCrop:{type:Boolean,default:!0},enableDrawTag:{type:Boolean,default:!0},initScale:{type:Boolean,default:!0},enableInteractiveTagChangeStatus:{type:Boolean,default:!0},enableCropCross:{type:Boolean,default:!1},handleResizeCropCross:{default:"reset"},enableInteractiveCropDelete:{type:Boolean,default:!0},enableCropResize:{type:Boolean,default:!0},enableTagResize:{type:Boolean,default:!1},enableDrawCropOutOfImg:{type:Boolean,default:!0},enableDrawTagOutOfCrop:{type:Boolean,default:!0},enableDrawTagOutOfImg:{type:Boolean,default:!0},isImgCrop:{type:Boolean,default:!1},isCropSingle:{type:Boolean,default:!1},cropList:{default:()=>Array()},tagList:{default:()=>Array()},daubStack:{default:()=>Array()},mode:{default:"crop"},mobileOperation:{default:"move"},src:null,precision:{default:0},splitClickAndDoubleClickEvent:{type:Boolean,default:!1},disableDefaultShortcuts:{default:()=>Array()},customDrawTopCtx:null},emits:["update:cropList","update:daubStack","cropListChange","update:tagList","tagListChange","update:mode","update:mobileOperation","resizeStart","resizeEnd","delCrop","drawCropStart","drawTagStart","mouseOverInfo","onLoadImage"],setup(o,{expose:h,emit:_}){const l=o;let S=!1,O,Y,x=null,j=null,A={last:{down:void 0,up:void 0},prev:{down:void 0,up:void 0}};const B=b.mobile()?.1/Kn*1.5:.1;let Ke=B,Ve=!1;function be(){j=null,Ve=!1,Ke=B,F.resizeHovering=void 0}let Xe=!1,pe=null,M=null,ye,Q=ie.exports.cloneDeep(Qr),Ae=ie.exports.cloneDeep(Qr),je=ie.exports.cloneDeep(sn),_e=ie.exports.cloneDeep(sn),pn=ie.exports.cloneDeep(sn),Qn={x:0,y:0},er=0,P={x:0,y:0},fe={x:0,y:0},G=1,bn,xn,pr=1,xe,ge=1,Me,se=[],ue=[],un=[],Ee=V.computed(()=>{let s=ie.exports.cloneDeep(Jr);return Object.assign(s.cropConfig,l.cropConfig),Object.assign(s.tagConfig,l.tagConfig),Object.assign(s.layerConfig,l.layerConfig),Object.assign(s.daubConfig,l.daubConfig),s.drawingText=l.drawingText,s.mode=l.mode,s}),Tn=V.ref(),it=V.ref(),ut=V.ref(),F={isScaleing:!1,isDrawRecting:!1,isMoving:!1,resizeHovering:void 0,isMouseDown:()=>je.x!==void 0,isMouseUpDownPoints:()=>je.x!==void 0&&_e.x!==void 0};const hn={dragCreatRectInterrupt(){ft()},dragCreatOrResizeRect(s){var d,T;M&&(s=="drawCrop"&&(l.isCropSingle&&!F.isDrawRecting&&(ue=[]),F.isDrawRecting||_("drawCropStart"),F.isDrawRecting=!0,Me=function(R,L,D,re,ee,Le,Se,Be){if(L.x!==void 0&&D.x!==void 0){let he=vu(Io(L,D),re,ee);if(he[2]=On(he[2],void 0,!0),he[3]=On(he[3],void 0,!0),5<he[2]||5<he[3])return Gn(R,Le,Se,Be),gu(R,...he,Be,!0),he}}(M,je,_e,ge,fe,ue,P,Ee.value),Mn(M,se,P,Ee.value),(d=l.customDrawTopCtx)==null||d.call(l,M,Rn)),s=="drawTag"&&(F.isDrawRecting||_("drawTagStart"),F.isDrawRecting=!0,Gn(M,ue,P,Ee.value),Me=function(R,L,D,re,ee,Le,Se,Be){if(L.x!==void 0&&D.x!==void 0){let he=vu(Io(L,D),re,ee);if(he[2]=On(he[2],void 0,!0),he[3]=On(he[3],void 0,!0),5<he[2]||5<he[3])return Mn(R,Le,Se,Be),Mo(R,...he,Be,Le.length+1,void 0,!0,void 0,Be.drawingText,void 0,void 0),he}}(M,je,_e,ge,fe,se,P,Ee.value),(T=l.customDrawTopCtx)==null||T.call(l,M,Rn)),s=="resize")&&{crop(){var L;l.enableCropResize&&F.resizeHovering&&M?(j=ue[F.resizeHovering.index||0],F.resizeHovering&&j&&(F.isDrawRecting=!0,Me=mu(M,je,_e,j,j.__scale||1,ge,P,se,F.resizeHovering,ue.filter((D,re)=>{var ee;return re!==((ee=F.resizeHovering)==null?void 0:ee.index)}),Ee.value),(L=l.customDrawTopCtx)==null||L.call(l,M,Rn))):hn.move()},tag(){var L;l.enableTagResize&&F.resizeHovering&&M?(j=se[F.resizeHovering.index||0],F.resizeHovering&&j&&(F.isDrawRecting=!0,Me=mu(M,je,_e,j,j.__scale||1,ge,P,se.filter((D,re)=>{var ee;return re!==((ee=F.resizeHovering)==null?void 0:ee.index)}),F.resizeHovering,ue,Ee.value),(L=l.customDrawTopCtx)==null||L.call(l,M,Rn))):hn.move()},daub(){}}[l.mode]()},changeMode(){l.mode==="tag"?_("update:mode","crop"):_("update:mode","tag")},scale(s,d){if(!ye||!pe||!M)throw new Error("can't find canvas ctx or img");F.isScaleing=!0,pe.translate(fe.x,fe.y),M.translate(fe.x,fe.y),fe={x:fe.x-(d.x/(ge*s)-d.x/ge),y:fe.y-(d.y/(ge*s)-d.y/ge)},pe.scale(s,s),M.scale(s,s),pe.translate(-fe.x,-fe.y),M.translate(-fe.x,-fe.y),ge*=s,et(pe),et(M),nt(pe,ye,P.x,P.y,Ae.width*G,Ae.height*G),Ge(),Ve=!1,F.isScaleing=!1},move(){var s;if(l.enableMove&&pe&&M&&ye&&!F.isScaleing){F.isMoving=!0;let d=function(T,R,L,D,re,ee,Le,Se,Be,he,Wn,Xn){if(Le.x!==void 0&&Se.x!==void 0&&(Le=_u(Le,Se,he),Le.isStartMove))return{offsetX:Se,offsetY:he}=Le.offsetInfo,et(T),nt(T,L,(T={x:ee.x+Se,y:ee.y+he}).x,T.y,D.width*re,D.height*re),Gn(R,Be,ee,Xn,Le.offsetInfo),Mn(R,Wn,ee,Xn,{offsetX:Se,offsetY:he}),{offsetX:Se,offsetY:he}}(pe,M,ye,Ae,G,P,je,_e,ue,ge,se,Ee.value);(s=l.customDrawTopCtx)==null||s.call(l,M,T=>Rn(T).map(R=>(d&&(R[0]+=d.offsetX,R[1]+=d.offsetY),R))),d&&(xn=ie.exports.cloneDeep(P))&&(xn.x+=d.offsetX,xn.y+=d.offsetY)}},hoverRect(s){M&&(Ve=function(d,T,R,L,D,re,ee,Le,Se,Be,he){if(T==="tag"&&!Se){let Wn=R.filter(gr=>!gr.isShow),Xn=!1,Xr=Lt(ee,L,re,"move"),Nt=[];Wn.forEach(gr=>{var pt=Jn(gr,gr.__scale,D);Lo(Xr,pt)&&(Nt.push(gr),Xn=!0)}),Xn?(Be=!0,Mn(d,Nt,D,he,void 0,Xr)):Be&&(Gn(d,Le,D,he),Mn(d,R,D,he),Be=!1)}return Be}(M,l.mode,se,ge,P,fe,s,ue,F.isScaleing,Ve,Ee.value),S||(l.enableCropResize&&l.mode==="crop"&&wu(Tn.value,s,ue,ge,P,fe,F.isScaleing),l.enableTagResize&&l.mode==="tag"&&wu(Tn.value,s,se,ge,P,fe,F.isScaleing)))}},hr={onMouseOverMove(s){b.mobile()||F.isMouseDown()||b.mobile()?this.onHoldMouseLeftBtnMove(s):hn.hoverRect(s)},onHoldMouseLeftBtnMove(s){var d,T;_e={x:s.layerX,y:s.layerY},S?this.onDrawSwitchOnStartDraw():l.mode==="daub"?F.isScaleing||(s=Et(pn,ge,fe),T={x:(d=Et(_e,ge,fe)).x,y:d.y,lineWidth:l.daubConfig.lineWidth,strokeStyle:l.daubConfig.strokeStyle},M&&(Eo(M,[s,d],P,Ee.value),pn=ie.exports.cloneDeep(_e),un[un.length-1].push(T))):F.resizeHovering?hn.dragCreatOrResizeRect("resize"):hn.move()},onDoubleClick(s){l.mode==="crop"&&l.enableInteractiveCropDelete&&st(rt(s,ue,G,P).boxList),l.mode==="tag"&&rt(s,se,G,P).boxList.forEach(T=>{var R;(R=T==null?void 0:T.onDoubleClick)==null||R.call(T,"",T)})},onCick(s){if(l.mode==="tag"&&M){let T=rt(s,se,G,P).boxList;var d;T.forEach(R=>{var L;(L=R==null?void 0:R.onClick)==null||L.call(R,"",R)}),l.enableInteractiveTagChangeStatus&&(Gn(M,ue,P,Ee.value),{isReDraw:s,redrawList:d}=Mn(M,se,P,Ee.value,void 0,s),s&&(Ge(),Yr("statusChange",nr(d))))}},onWheel(s,d,T){(l.enableScale||T)&&hn.scale(s,d)},onDrawSwitchOnStartDraw(){l.mode==="crop"?l.enableDrawCrop&&hn.dragCreatOrResizeRect("drawCrop"):l.enableDrawTag&&hn.dragCreatOrResizeRect("drawTag")}},Cn={shiftMode(){hn.changeMode()},shiftDrawSwitch(s){V.nextTick(()=>{s==="on"&&((l.enableDrawCrop&&l.mode==="crop"||l.enableDrawTag&&l.mode==="tag")&&(Tn.value.style.cursor="crosshair"),F.isMouseDown()||(S=!0)),s==="off"&&(F.isMoving||F.resizeHovering||hn.dragCreatRectInterrupt(),S=!1)})},init(){(async function(){if(be(),Xe=!1,pe=null,M=null,ye=void 0,Q=ie.exports.cloneDeep(Qr),Ae=ie.exports.cloneDeep(Qr),je=ie.exports.cloneDeep(sn),_e=ie.exports.cloneDeep(sn),pn=ie.exports.cloneDeep(sn),P={x:0,y:0},fe={x:0,y:0},G=1,bn=void 0,xn=void 0,pr=1,xe=void 0,ge=1,Me=void 0,se=[],ue=[],await V.nextTick(),1<l.cropList.length){let s={startX:1/0,startY:1/0,endX:-1/0,endY:-1/0};l.cropList.forEach(d=>{d=Yn(d),d.info.startX<s.startX&&(s.startX=d.info.startX),d.info.startY<s.startY&&(s.startY=d.info.startY),d.info.endX>s.endX&&(s.endX=d.info.endX),d.info.endY>s.endY&&(s.endY=d.info.endY)}),bn=s}return l.cropList.length==1&&(bn=l.cropList[0]),se=ie.exports.cloneDeep(l.tagList),ue=ie.exports.cloneDeep(l.cropList),un=ie.exports.cloneDeep(l.daubStack),dr(),b.mobile()||(window.addEventListener("keydown",at),window.addEventListener("keyup",It)),zr(),pe=it.value.getContext("2d"),M=ut.value.getContext("2d"),pe&&M?(Q=On(hu(pe.canvas)))?(jt(pe,Q),jt(M,Q),_("onLoadImage",{status:"loading"}),fu(l.src).then(s=>{if(_("onLoadImage",{status:"success"}),!Q||!pe||!M)return Promise.reject("canvasWH or canvas var not has valid values.");if(ye=s,Ae={width:ye.width,height:ye.height},l.initScale){s=Q,L=ye,D=s.width/L.width,s=s.height/L.height;var d,T,R,L={scale:D<s?D:s,fit:D<s?"height":"width"};if(G=pr=L.scale,bn)return D=Jn(bn,pr,P),s=(Q.width-.05*Q.width)/D[2],d=(Q.height-.05*Q.height)/D[3],d=Q.width/Q.height>D[2]/D[3]?d:s,T=D[0]+D[2],R=D[1]+D[3],(d=d)==s?(P.x=(Q.width-T*d-.05*Q.width/2)/d,P.y=((Q.height-D[3]*d)/2-D[1]*d)/d):(P.x=((Q.width-D[2]*d)/2-D[0]*d)/d,P.y=(Q.height-R*d-.05*Q.height/2)/d),ue=on(ue,G,l.precision),se=on(se,G,l.precision),un=Ho(un,P,G),ct({deltaY:1,clientX:0,clientY:0,preventDefault(){},stopPropagation(){},__zoom:d},!0),!0;L.fit==="width"?P.x=(Q.width-Ae.width*G)/2:P.y=(Q.height-Ae.height*G)/2,bn={startX:0,startY:0,endX:0+Ae.width,endY:0+Ae.height},l.isImgCrop&&Or("add",ue=[bn])}var L,D;return ue=on(ue,G,l.precision),se=on(se,G,l.precision),un=Ho(un,P,G),nt(pe,ye,P.x,P.y,ye.width*G,ye.height*G),Ge(),!0}).catch(s=>{_("onLoadImage",{status:"error",msg:JSON.stringify(s)})})):Promise.reject("Error: can't get canvas height and width."):Promise.reject("Error: can't find canvas element.")})().then(()=>{Xe=!0})},resize(){requestAnimationFrame(()=>{(async function(){if(Fo(),await V.nextTick(),dr(),pe&&M&&ye){if(!(Q=On(hu(pe.canvas))))return Promise.reject("Error: can't get canvas height and width.");jt(pe,Q),jt(M,Q),pe.scale(ge,ge),M.scale(ge,ge),pe.translate(-fe.x,-fe.y),M.translate(-fe.x,-fe.y),nt(pe,ye,P.x,P.y,ye.width*G,ye.height*G),ue=on(ue,G,l.precision),se=on(se,G,l.precision),Ge(),Xe=!0}})()})}};function at(s){s.code!=="Space"||l.disableDefaultShortcuts.includes("space")||(s.target===document.body&&s.preventDefault(),Cn.shiftDrawSwitch("on"))}function It(s){if(s.code==="KeyB"&&s.ctrlKey){if(l.disableDefaultShortcuts.includes("ctrl+b"))return;Cn.shiftMode()}s.code!=="Space"||l.disableDefaultShortcuts.includes("space")||Cn.shiftDrawSwitch("off")}function dr(){var s=Tn.value.getBoundingClientRect();xe={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y}}function Fo(){j=null,Xe=!1,Q=ie.exports.cloneDeep(Qr),je=ie.exports.cloneDeep(sn),_e=ie.exports.cloneDeep(sn),pn=ie.exports.cloneDeep(sn),xe=void 0}function Rn(s){return on(s,G,l.precision).map(T=>Jn(T,G,P))}function Ge(){var s;M&&(Gn(M,ue,P,Ee.value),Mn(M,se,P,Ee.value),un.forEach(d=>{M&&Eo(M,d,P,Ee.value)}),(s=l.customDrawTopCtx)==null||s.call(l,M,Rn))}function zr(){b.mobile()&&(l.mobileOperation==="draw"&&Cn.shiftDrawSwitch("on"),l.mobileOperation==="move"&&Cn.shiftDrawSwitch("off"))}function At(){Cn.resize()}function ct(s,d){l.enableScale&&(s.stopPropagation(),s.preventDefault());var T,R,L;if(!xe)throw new Error("can't find  containerInfo.");!Xe&&!s.__zoom||F.isDrawRecting||F.isMoving||(T=d?0:(s.clientX-xe.left)*Kn,R=d?0:(s.clientY-xe.top)*Kn,L=s.deltaY<0?1:-1,s=d?s.__zoom:Math.exp(L*Ke),ge*s<.2||hr.onWheel(s,{x:T,y:R},d))}function Mt(s){if(F.resizeHovering){var d;let T={crop:{boxList:ue,trigger:Or,getBoxFunc:Bn},tag:{boxList:se,trigger:Yr,getBoxFunc:nr},daub:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]}}[l.mode];T.boxList[F.resizeHovering.index]=s,_("resizeEnd",{index:F.resizeHovering.index,box:s}),l.mode==="tag"&&(d=yu(je,_e),Object.assign(s,{__oprateType:"resize",__vertexPosition:d})),T.trigger("resize",T.getBoxFunc([s]))}}function ft(){Xe&&(F.isMoving=!1,xn&&(P=ie.exports.cloneDeep(xn)),xn=void 0,F.isMouseUpDownPoints()&&{crop(){if(Me){let d={...j,...Po(Me,P,G)};j=null,F.resizeHovering?!l.enableCropCross&&Cu(d,ue.filter((T,R)=>{var L;return R!==((L=F.resizeHovering)==null?void 0:L.index)}))?(l.handleResizeCropCross==="reset"&&Ge(),l.handleResizeCropCross==="delete"&&st([ue[F.resizeHovering.index]])):Mt(d):(d=on([d],G,l.precision)[0],!l.enableCropCross&&Cu(d,ue)?Ge():(ue.push(d),Or("add",Bn([d])))),Me=void 0}},tag(){var d,T;Me&&(d={...j,...Po(Me,P,G)},j=null,F.resizeHovering?Mt(d):(d=yu(je,_e),T=on([T=Po(Me,P,G)],G,l.precision)[0],Object.assign(T,{isShow:!0,__oprateType:"add",__vertexPosition:d}),se.push(T),Yr("add",nr([T]))),Me=void 0)},daub(){Me=Me&&void 0;let d=ie.exports.cloneDeep(un);_("update:daubStack",d.map(T=>T.map(R=>(R._x!=null&&R._y!=null?(delete R._x,delete R._y):(R.x=(R.x-P.x)/G,R.y=(R.y-P.y)/G),R))))}}[l.mode](),F.resizeHovering=void 0,F.isDrawRecting=!1,je=ie.exports.cloneDeep(sn),_e=ie.exports.cloneDeep(sn),pn=ie.exports.cloneDeep(sn),Tn.value.style.cursor="auto")}function Or(s,d){var T=Bn(ue);_("update:cropList",T),_("cropListChange",{type:s,list:d})}function Yr(s,d){let T={type:s,list:d};if(s==="add"){let R=d.filter(L=>Reflect.get(L,"__parentCrop"))[0];R&&(T.parentCrop=Bn([Reflect.get(R,"__parentCrop")])[0],delete R.__parentCrop)}_("tagListChange",T),s=nr(se),_("update:tagList",s)}function nr(s){let d=s||se,T=ue,R=[];return d.forEach(ee=>{let D=ee;if(!l.enableDrawTagOutOfCrop&&D.__oprateType&&D.__vertexPosition){if(re=rt((ee=D,{x:(re=(re=D.__vertexPosition).split("-"))[0]==="left"?ee.startX:ee.endX,y:re[1]==="top"?ee.startY:ee.endY}),T).boxList[0],!re)return;ee=tt(D,re),ee&&Ao(ee)?(Object.assign(D,ee),D.__parentCrop=re):D.__isValidity=!1}delete D.__oprateType,Reflect.deleteProperty(D,"__vertexPosition"),l.enableDrawTagOutOfCrop&&!l.enableDrawTagOutOfImg&&(re={startX:0,startY:0,endX:(ee=Ae).width,endY:ee.height},(ee=tt(D,re))&&Ao(ee)?Object.assign(D,ee):D.__isValidity=!1);var re,ee=Yn(D);R.push(No(ee.info,l.precision))}),R.filter(L=>L.__isValidity!==!1)}function Bn(s){return(s||ue).map(re=>{let L=re;l.enableDrawCropOutOfImg||(D={startX:0,startY:0,endX:(D=Ae).width,endY:D.height},(D=tt(L,D))&&Ao(D)?L={...re,...D}:L._del=!0),Reflect.deleteProperty(L,"__vertexPosition");var D,re=Yn(L);return No(re.info,l.precision)}).filter(R=>!R._del)}function lt(s){var d;Xe&&pe&&M&&(d=new Date().getTime(),O=d,A.prev.down?A.last.down=d:A.prev.down=d,d=On(d={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),je={x:d.layerX,y:d.layerY},pn=ie.exports.cloneDeep(je),l.mode=="daub"&&un.push([]),l.mode==="crop"&&!S&&l.enableCropResize&&(s=Bo(d,ue,ge,P,fe)).hasIn&&(F.resizeHovering=Wo(s.list),_("resizeStart",{index:F.resizeHovering.index,box:ue[F.resizeHovering.index]})),l.mode==="tag"&&!S&&l.enableTagResize&&(s=Bo(d,se,ge,P,fe)).hasIn&&(F.resizeHovering=Wo(s.list),_("resizeStart",{index:F.resizeHovering.index,box:se[F.resizeHovering.index]})))}V.onBeforeUnmount(()=>{window.removeEventListener("resize",At),b.mobile()||(window.removeEventListener("keydown",at),window.removeEventListener("keyup",It)),be()}),V.onMounted(()=>{Cn.init(),window.addEventListener("resize",At)}),V.watch(()=>l.mode,s=>{s==="tag"&&(Tn.value.style.cursor="auto")}),V.watch(()=>l.src,s=>{s&&Cn.init()}),V.watch(()=>l.mobileOperation,s=>{Xe&&zr()}),V.watch(()=>l.tagList,s=>{Xe&&(se=on(s,G,l.precision),Ge())},{deep:!0}),V.watch(()=>l.daubStack,s=>{Xe&&(un=Ho(ie.exports.cloneDeep(l.daubStack),P,G),Ge())},{deep:!0}),V.watch(()=>l.cropList,s=>{Xe&&(ue=on(s,G,l.precision),Ge())});let Bt=ie.exports.throttle(function(s){if(s){s=Lt(s,ge,fe,"over");let d=ie.exports.cloneDeep(s);d.x-=P.x,d.y-=P.y,d.x/=G,d.y/=G,_("mouseOverInfo",{canvas:s,img:d})}else _("mouseOverInfo",{canvas:null,img:null})},100,{leading:!1,trailing:!0});function Wt(s){Xe&&(s=On(s={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),Y=new Date().getTime(),hr.onMouseOverMove(s),Bt(s))}function Pt(){var s;Xe&&(s=new Date().getTime(),A.prev.up?A.last.up=s:A.prev.up=s,ft())}function Uo(){Xe&&(Tn.value.style.cursor="auto",ft(),Bt())}function Ht(){x&&clearTimeout(x),x=null}function $o(s){if(dr(),Xe){let d=Lt(On({layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),ge,fe,"click");var s=Y&&O?Y-O:0;O=void 0,Y=void 0,100<s||(l.splitClickAndDoubleClickEvent?(Ht(),x=setTimeout(()=>{hr.onCick(d),x=null},230)):hr.onCick(d),s=l.splitClickAndDoubleClickEvent?320:360,A.prev.up&&A.prev.down&&A.last.up&&A.last.down&&(A.last.up-A.prev.down<s?(l.splitClickAndDoubleClickEvent&&Ht(),hr.onDoubleClick(d),A.prev.down=void 0,A.prev.up=void 0):(A.prev.down=A.last.down,A.prev.up=A.last.up),A.last.down=void 0,A.last.up=void 0))}}function Tr(s){dr(),O=new Date().getTime();var d=s.touches;if(s.touches.length===1&&lt({layerX:d[0].clientX-((xe==null?void 0:xe.left)||0),layerY:d[0].clientY-((xe==null?void 0:xe.top)||0)}),s.touches.length==2){if(!xe)throw new Error("can't find  containerInfo.");xu(du(s)),Qn={x:(d[0].clientX+d[1].clientX)/2,y:(d[0].clientY+d[1].clientY)/2}}}function Vo(s){Y=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Wt({layerX:d[0].clientX-((xe==null?void 0:xe.left)||0),layerY:d[0].clientY-((xe==null?void 0:xe.top)||0)}),s.touches.length==2){if(!xe)throw new Error("can't find  containerInfo.");var{width:d,height:s}=xu(du(s)),d=(s=s,Math.sqrt(Math.pow(d,2)+Math.pow(s,2))),s=-(d-er);er=d,ct({onTouchMove:!0,deltaY:s,preventDefault(){},stopPropagation(){},clientX:Qn.x,clientY:Qn.y})}}function Rr(s){Pt()}function st(s){if(s.length!==0){let d=[],T=[];Bn().forEach(L=>{(s.find(D=>(D=Yn(D).info,D.startX===L.startX&&D.endX===L.endX&&D.startY===L.startY&&D.endY===L.endY))?T:d).push(L)}),ue=on(d,G,l.precision),_("delCrop",T),Ge(),Or("delete",Bn(T))}}return h({render:Ge,removeTagItems:function(s){let d=[],T=[];s.length!==0&&nr().forEach(L=>{(s.find(D=>(D=Yn(D).info,D.startX===L.startX&&D.endX===L.endX&&D.startY===L.startY&&D.endY===L.endY))?T:d).push(L)}),se=on(d,G,l.precision),Ge(),Yr("delete",T)},getTagListGroupByCropIndex:function(s="startPoint"){let d=nr(),T=Bn();return d.forEach(R=>{var L;s==="startPoint"&&(L=rt({x:R.startX,y:R.startY},T),R.__groupIndex=L.indexList[0]),s==="allIn"&&(L=function(D,re){let ee=[],Le=[];return re.forEach((Se,Be)=>{Su(D,Se)&&(Le.push(Se),ee.push(Be))}),{boxList:Le,indexList:ee}}(R,T),R.__groupIndex=L.indexList[0])}),ie.exports.groupBy(d,"__groupIndex")},getBase64ImageData:async function(s){const d=document.createElement("canvas");d.style.width=Ae.width+"px",d.style.height=Ae.height+"px",d.width=Ae.width,d.height=Ae.height;let T=d.getContext("2d");return fu(l.src,s).then(R=>{if(T){let L={x:0,y:0};return nt(T,R,0,0,R.width,R.height),Gn(T,l.cropList,L,Ee.value,void 0,!0),Mn(T,l.tagList,L,Ee.value),l.daubStack.forEach(D=>{T&&Eo(T,D,L,Ee.value)}),d.toDataURL("image/png")}throw new Error("ctx not exist")})},hooks:Cn}),(s,d)=>(V.openBlock(),V.createElementBlock("div",{class:"comp-ocr-img",ref_key:"containerRef",ref:Tn,onMousedown:lt,onMouseenter:dr,onClick:$o,onMouseup:Pt,onMousemove:Wt,onMouseout:Uo,onMousewheel:ct,onTouchmove:V.withModifiers(Vo,["stop","prevent"]),onTouchstart:V.withModifiers(Tr,["stop"]),onTouchend:V.withModifiers(Rr,["stop"])},[V.createElementVNode("canvas",{class:"canvas",ref_key:"canvasRef",ref:it},null,512),V.createElementVNode("canvas",{class:"canvas2",ref_key:"canvas2Ref",ref:ut},null,512),V.unref(l).isShowTip?(V.openBlock(),V.createElementBlock("div",jc,[V.createElementVNode("div",Ec,[V.createElementVNode("div",{class:V.normalizeClass(["circle",{crop:o.mode==="crop",tag:o.mode==="tag"}])},null,2),V.createElementVNode("div",Lc,V.toDisplayString(o.mode==="crop"?"\u88C1\u526A\u6A21\u5F0F":"\u6807\u8BB0\u9519\u8BEF\u884C"),1)]),V.createElementVNode("div",Ic,[V.renderSlot(s.$slots,"tip",{},()=>[Ac,Mc,Bc,Wc],!0)])])):V.createCommentVNode("",!0)],40,Xc))}}),An.ImgMark=kr(ot,[["__scopeId","data-v-6b3495a2"]]),An.boxIsAllInOtherBox=Su,An.transformTagBoxRelativeTo=Du,An.transformTagListBoxRelativeTo=function(o,h,_){return _.map(l=>Du(o,h,l))},Object.defineProperties(An,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
