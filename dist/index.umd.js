(function(dr,U){typeof exports=="object"&&typeof module!="undefined"?U(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],U):U((dr=typeof globalThis!="undefined"?globalThis:dr||self).kezhi={},dr.Vue)})(this,function(dr,U){"use strict";var ht,pt,Bn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},de={exports:{}};pt=(ht=de).exports,function(){var i,v="Expected a function",y="__lodash_hash_undefined__",h="__lodash_placeholder__",k=128,I=9007199254740991,ne=NaN,L=4294967295,q=[["ary",k],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],D="[object Arguments]",ae="[object Array]",Q="[object Boolean]",ue="[object Date]",H="[object Error]",me="[object Function]",te="[object GeneratorFunction]",ce="[object Map]",xe="[object Number]",_e="[object Object]",gn="[object Promise]",Pr="[object RegExp]",F="[object Set]",he="[object String]",pe="[object Symbol]",er="[object WeakMap]",Fe="[object ArrayBuffer]",mr="[object DataView]",lr="[object Float32Array]",be="[object Float64Array]",wr="[object Int8Array]",jr="[object Int16Array]",Se="[object Int32Array]",ie="[object Uint8Array]",Te="[object Uint8ClampedArray]",rr="[object Uint16Array]",dn="[object Uint32Array]",_t=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,nr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qe=/&(?:amp|lt|gt|quot|#39);/g,Pn=/[&<>"']/g,yt=RegExp(qe.source),tr=RegExp(Pn.source),mt=/<%-([\s\S]+?)%>/g,$n=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,Hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vn=/^\w*$/,qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dr=/[\\^$.*+?()[\]{}|]/g,$r=RegExp(Dr.source),_n=/^\s+/,xt=/\s/,bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,yi=/\{\n\/\* \[wrapped with (.+)\] \*/,mi=/,? & /,wi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xi=/[()=,{}\[\]\/\s]/,bi=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,s=/\w*$/,w=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,M=/^\[object .+?Constructor\]$/,A=/^0o[0-7]+$/i,W=/^(?:0|[1-9]\d*)$/,ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,T=/($^)/,K=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Z="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Rr="\\u2700-\\u27bf",Ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ne="A-Z\\xc0-\\xd6\\xd8-\\xde",xr="\\ufe0e\\ufe0f",yn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ci="['\u2019]",Hr="["+ke+"]",mn="["+yn+"]",wn="["+Z+"]",xn="["+Rr+"]",Kn="["+Ke+"]",Vr="[^"+ke+yn+"\\d+"+Rr+Ke+Ne+"]",kr="\\ud83c[\\udffb-\\udfff]",Yt="[^"+ke+"]",Yi="(?:\\ud83c[\\udde6-\\uddff]){2}",Xi="[\\ud800-\\udbff][\\udc00-\\udfff]",bn="["+Ne+"]",fu="\\u200d",cu="(?:"+Kn+"|"+Vr+")",yn="(?:"+bn+"|"+Vr+")",Rr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ne="(?:"+wn+"|"+kr+")?",Vr="["+xr+"]?",Ne=Vr+Ne+("(?:"+fu+"(?:"+[Yt,Yi,Xi].join("|")+")"+Vr+Ne+")*"),xn="(?:"+[xn,Yi,Xi].join("|")+")"+Ne,Hr="(?:"+[Yt+wn+"?",wn,Yi,Xi,Hr].join("|")+")",Xf=RegExp(Ci,"g"),Sf=RegExp(wn,"g"),Si=RegExp(kr+"(?="+kr+")|"+Hr+Ne,"g"),zf=RegExp([bn+"?"+Kn+"+"+Rr+"(?="+[mn,bn,"$"].join("|")+")",yn+"+"+Ke+"(?="+[mn,bn+cu,"$"].join("|")+")",bn+"?"+cu+"+"+Rr,bn+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",xn].join("|"),"g"),jf=RegExp("["+fu+ke+Z+xr+"]"),Df=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kf=-1,ye={};ye[lr]=ye[be]=ye[wr]=ye[jr]=ye[Se]=ye[ie]=ye[Te]=ye[rr]=ye[dn]=!0,ye[D]=ye[ae]=ye[Fe]=ye[Q]=ye[mr]=ye[ue]=ye[H]=ye[me]=ye[ce]=ye[xe]=ye[_e]=ye[Pr]=ye[F]=ye[he]=ye[er]=!1;var ge={};ge[D]=ge[ae]=ge[Fe]=ge[mr]=ge[Q]=ge[ue]=ge[lr]=ge[be]=ge[wr]=ge[jr]=ge[Se]=ge[ce]=ge[xe]=ge[_e]=ge[Pr]=ge[F]=ge[he]=ge[pe]=ge[ie]=ge[Te]=ge[rr]=ge[dn]=!0,ge[H]=ge[me]=ge[er]=!1;var Mf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Of=parseFloat,If=parseInt,Z=typeof Bn=="object"&&Bn&&Bn.Object===Object&&Bn,xr=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Z||xr||Function("return this")(),xr=pt&&!pt.nodeType&&pt,on=xr&&ht&&!ht.nodeType&&ht,lu=on&&on.exports===xr,zi=lu&&Z.process,Z=function(){try{var p=on&&on.require&&on.require("util").types;return p||zi&&zi.binding&&zi.binding("util")}catch{}}(),su=Z&&Z.isArrayBuffer,hu=Z&&Z.isDate,pu=Z&&Z.isMap,vu=Z&&Z.isRegExp,gu=Z&&Z.isSet,du=Z&&Z.isTypedArray;function Ze(p,m,d){switch(d.length){case 0:return p.call(m);case 1:return p.call(m,d[0]);case 2:return p.call(m,d[0],d[1]);case 3:return p.call(m,d[0],d[1],d[2])}return p.apply(m,d)}function Lf(p,m,d,E){for(var N=-1,ee=p==null?0:p.length;++N<ee;){var Ce=p[N];m(E,Ce,d(Ce),p)}return E}function ir(p,m){for(var d=-1,E=p==null?0:p.length;++d<E&&m(p[d],d,p)!==!1;);return p}function Ef(p,m){for(var d=p==null?0:p.length;d--&&m(p[d],d,p)!==!1;);return p}function _u(p,m){for(var d=-1,E=p==null?0:p.length;++d<E;)if(!m(p[d],d,p))return!1;return!0}function qr(p,m){for(var d=-1,E=p==null?0:p.length,N=0,ee=[];++d<E;){var Ce=p[d];m(Ce,d,p)&&(ee[N++]=Ce)}return ee}function Xt(p,m){return!!(p==null?0:p.length)&&-1<Cn(p,m,0)}function ji(p,m,d){for(var E=-1,N=p==null?0:p.length;++E<N;)if(d(m,p[E]))return!0;return!1}function we(p,m){for(var d=-1,E=p==null?0:p.length,N=Array(E);++d<E;)N[d]=m(p[d],d,p);return N}function Kr(p,m){for(var d=-1,E=m.length,N=p.length;++d<E;)p[N+d]=m[d];return p}function Di(p,m,d,E){var N=-1,ee=p==null?0:p.length;for(E&&ee&&(d=p[++N]);++N<ee;)d=m(d,p[N],N,p);return d}function Af(p,m,d,E){var N=p==null?0:p.length;for(E&&N&&(d=p[--N]);N--;)d=m(d,p[N],N,p);return d}function Ri(p,m){for(var d=-1,E=p==null?0:p.length;++d<E;)if(m(p[d],d,p))return!0;return!1}var Tf=ki("length");function yu(p,m,d){var E;return d(p,function(N,ee,Ce){if(m(N,ee,Ce))return E=ee,!1}),E}function St(p,m,d,E){for(var N=p.length,ee=d+(E?1:-1);E?ee--:++ee<N;)if(m(p[ee],ee,p))return ee;return-1}function Cn(p,m,d){return m==m?function(E,N,ee){for(var Ce=ee-1,le=E.length;++Ce<le;)if(E[Ce]===N)return Ce;return-1}(p,m,d):St(p,mu,d)}function Bf(p,m,d,E){for(var N=d-1,ee=p.length;++N<ee;)if(E(p[N],m))return N;return-1}function mu(p){return p!=p}function wu(p,m){var d=p==null?0:p.length;return d?Oi(p,m)/d:ne}function ki(p){return function(m){return m==null?i:m[p]}}function Mi(p){return function(m){return p==null?i:p[m]}}function xu(p,m,d,E,N){return N(p,function(ee,Ce,le){d=E?(E=!1,ee):m(d,ee,Ce,le)}),d}function Oi(p,m){for(var d,E=-1,N=p.length;++E<N;){var ee=m(p[E]);ee!==i&&(d=d===i?ee:d+ee)}return d}function Ii(p,m){for(var d=-1,E=Array(p);++d<p;)E[d]=m(d);return E}function bu(p){return p&&p.slice(0,Su(p)+1).replace(_n,"")}function Ge(p){return function(m){return p(m)}}function Li(p,m){return we(m,function(d){return p[d]})}function Zn(p,m){return p.has(m)}function Cu(p,m){for(var d=-1,E=p.length;++d<E&&-1<Cn(m,p[d],0););return d}function Yu(p,m){for(var d=p.length;d--&&-1<Cn(m,p[d],0););return d}var Wf=Mi({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),Uf=Mi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ff(p){return"\\"+Mf[p]}function Yn(p){return jf.test(p)}function Ei(p){var m=-1,d=Array(p.size);return p.forEach(function(E,N){d[++m]=[N,E]}),d}function Xu(p,m){return function(d){return p(m(d))}}function Zr(p,m){for(var d=-1,E=p.length,N=0,ee=[];++d<E;){var Ce=p[d];Ce!==m&&Ce!==h||(p[d]=h,ee[N++]=d)}return ee}function zt(p){var m=-1,d=Array(p.size);return p.forEach(function(E){d[++m]=E}),d}function Xn(p){return(Yn(p)?function(m){for(var d=Si.lastIndex=0;Si.test(m);)++d;return d}:Tf)(p)}function sr(p){return Yn(p)?p.match(Si)||[]:p.split("")}function Su(p){for(var m=p.length;m--&&xt.test(p.charAt(m)););return m}var Nf=Mi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Sn=function p(m){var d=(m=m==null?Ie:Sn.defaults(Ie.Object(),m,Sn.pick(Ie,Rf))).Array,E=m.Date,N=m.Error,ee=m.Function,Ce=m.Math,le=m.Object,Ai=m.RegExp,Pf=m.String,or=m.TypeError,jt=d.prototype,Ti=ee.prototype,zn=le.prototype,jn=m["__core-js_shared__"],Dt=Ti.toString,se=zn.hasOwnProperty,$f=0,zu=(Oo=/[^.]+$/.exec(jn&&jn.keys&&jn.keys.IE_PROTO||""))?"Symbol(src)_1."+Oo:"",Rt=zn.toString,Hf=Dt.call(le),Vf=Ie._,qf=Ai("^"+Dt.call(se).replace(Dr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dn=lu?m.Buffer:i,br=m.Symbol,kt=m.Uint8Array,ju=Dn?Dn.allocUnsafe:i,Mt=Xu(le.getPrototypeOf,le),Du=le.create,Ru=zn.propertyIsEnumerable,Ot=jt.splice,ku=br?br.isConcatSpreadable:i,Gn=br?br.iterator:i,un=br?br.toStringTag:i,It=function(){try{var e=hn(le,"defineProperty");return e({},"",{}),e}catch{}}(),Bi=m.clearTimeout!==Ie.clearTimeout&&m.clearTimeout,Wi=E&&E.now!==Ie.Date.now&&E.now,Ui=m.setTimeout!==Ie.setTimeout&&m.setTimeout,Lt=Ce.ceil,Et=Ce.floor,Fi=le.getOwnPropertySymbols,Ni=Dn?Dn.isBuffer:i,Mu=m.isFinite,Kf=jt.join,Zf=Xu(le.keys,le),Me=Ce.max,Ee=Ce.min,Gf=E.now,Jf=m.parseInt,Ou=Ce.random,Qf=jt.reverse,Jn=hn(m,"DataView"),Qn=hn(m,"Map"),et=hn(m,"Promise"),Rn=hn(m,"Set"),an=hn(m,"WeakMap"),rt=hn(le,"create"),At=an&&new an,kn={},ec=pn(Jn),rc=pn(Qn),nc=pn(et),tc=pn(Rn),ic=pn(an),Mn=br?br.prototype:i,nt=Mn?Mn.valueOf:i,Iu=Mn?Mn.toString:i;function u(e){if(je(e)&&!P(e)&&!(e instanceof J)){if(e instanceof hr)return e;if(se.call(e,"__wrapped__"))return La(e)}return new hr(e)}var On=function(e){return Ye(e)?Du?Du(e):(Pi.prototype=e,e=new Pi,Pi.prototype=i,e):{}};function Pi(){}function Tt(){}function hr(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=i}function J(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function fn(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}function Mr(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}function Or(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}function cn(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new Or;++r<n;)this.add(e[r])}function pr(e){e=this.__data__=new Mr(e),this.size=e.size}function Lu(e,r){var n,t=P(e),o=!t&&vn(e),a=!t&&!o&&rn(e),f=!t&&!o&&!a&&An(e),c=t||o||a||f,l=c?Ii(e.length,Pf):[],g=l.length;for(n in e)!r&&!se.call(e,n)||c&&(n=="length"||a&&(n=="offset"||n=="parent")||f&&(n=="buffer"||n=="byteLength"||n=="byteOffset")||Ar(n,g))||l.push(n);return l}function Eu(e){var r=e.length;return r?e[ro(0,r-1)]:i}function oc(e,r){return Jt(Pe(e),ln(r,0,e.length))}function uc(e){return Jt(Pe(e))}function $i(e,r,n){(n===i||vr(e[r],n))&&(n!==i||r in e)||Ir(e,r,n)}function tt(e,r,n){var t=e[r];se.call(e,r)&&vr(t,n)&&(n!==i||r in e)||Ir(e,r,n)}function Bt(e,r){for(var n=e.length;n--;)if(vr(e[n][0],r))return n;return-1}function ac(e,r,n,t){return Gr(e,function(o,a,f){r(t,o,n(o),f)}),t}function Au(e,r){return e&&Yr(r,Oe(r),e)}function Ir(e,r,n){r=="__proto__"&&It?It(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}function Hi(e,r){for(var n=-1,t=r.length,o=d(t),a=e==null;++n<t;)o[n]=a?i:Ro(e,r[n]);return o}function ln(e,r,n){return e==e&&(n!==i&&(e=e<=n?e:n),r!==i&&(e=r<=e?e:r)),e}function ur(e,r,n,t,o,a){var f,c=1&r,l=2&r,g=4&r;if((f=n?o?n(e,t,o,a):n(e):f)!==i)return f;if(!Ye(e))return e;var _,x,S=P(e);if(S){if(f=function(j){var Y=j.length,b=new j.constructor(Y);return Y&&typeof j[0]=="string"&&se.call(j,"index")&&(b.index=j.index,b.input=j.input),b}(e),!c)return Pe(e,f)}else{var R=Ae(e),t=R==me||R==te;if(rn(e))return aa(e,c);if(R==_e||R==D||t&&!o){if(f=l||t?{}:Sa(e),!c)return l?(t=_=e,x=(x=f)&&Yr(t,He(t),x),Yr(_,Ya(_),x)):(x=Au(f,_=e),Yr(_,yo(_),x))}else{if(!ge[R])return o?e:{};f=function(Y,b,X){var O=Y.constructor;switch(b){case Fe:return lo(Y);case Q:case ue:return new O(+Y);case mr:return function(re,oe){return oe=oe?lo(re.buffer):re.buffer,new re.constructor(oe,re.byteOffset,re.byteLength)}(Y,X);case lr:case be:case wr:case jr:case Se:case ie:case Te:case rr:case dn:return fa(Y,X);case ce:return new O;case xe:case he:return new O(Y);case Pr:return function(re){var oe=new re.constructor(re.source,s.exec(re));return oe.lastIndex=re.lastIndex,oe}(Y);case F:return new O;case pe:return function(re){return nt?le(nt.call(re)):{}}(Y)}}(e,R,c)}}if(c=(a=a||new pr).get(e),c)return c;a.set(e,f),Qa(e)?e.forEach(function(j){f.add(ur(j,r,n,j,e,a))}):Ga(e)&&e.forEach(function(j,Y){f.set(Y,ur(j,r,n,Y,e,a))});var z=S?i:(g?l?vo:po:l?He:Oe)(e);return ir(z||e,function(j,Y){z&&(j=e[Y=j]),tt(f,Y,ur(j,r,n,Y,e,a))}),f}function Tu(e,r,n){var t=n.length;if(e==null)return!t;for(e=le(e);t--;){var o=n[t],a=r[o],f=e[o];if(f===i&&!(o in e)||!a(f))return!1}return!0}function Bu(e,r,n){if(typeof e!="function")throw new or(v);return lt(function(){e.apply(i,n)},r)}function it(e,r,n,t){var o=-1,a=Xt,f=!0,c=e.length,l=[],g=r.length;if(!c)return l;n&&(r=we(r,Ge(n))),t?(a=ji,f=!1):200<=r.length&&(a=Zn,f=!1,r=new cn(r));e:for(;++o<c;){var _=e[o],x=n==null?_:n(_),_=t||_!==0?_:0;if(f&&x==x){for(var S=g;S--;)if(r[S]===x)continue e;l.push(_)}else a(r,x,t)||l.push(_)}return l}u.templateSettings={escape:mt,evaluate:$n,interpolate:wt,variable:"",imports:{_:u}},(u.prototype=Tt.prototype).constructor=u,(hr.prototype=On(Tt.prototype)).constructor=hr,(J.prototype=On(Tt.prototype)).constructor=J,fn.prototype.clear=function(){this.__data__=rt?rt(null):{},this.size=0},fn.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},fn.prototype.get=function(e){var r=this.__data__;if(rt){var n=r[e];return n===y?i:n}return se.call(r,e)?r[e]:i},fn.prototype.has=function(e){var r=this.__data__;return rt?r[e]!==i:se.call(r,e)},fn.prototype.set=function(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rt&&r===i?y:r,this},Mr.prototype.clear=function(){this.__data__=[],this.size=0},Mr.prototype.delete=function(e){var r=this.__data__;return!((e=Bt(r,e))<0)&&(e==r.length-1?r.pop():Ot.call(r,e,1),--this.size,!0)},Mr.prototype.get=function(e){var r=this.__data__;return(e=Bt(r,e))<0?i:r[e][1]},Mr.prototype.has=function(e){return-1<Bt(this.__data__,e)},Mr.prototype.set=function(e,r){var n=this.__data__,t=Bt(n,e);return t<0?(++this.size,n.push([e,r])):n[t][1]=r,this},Or.prototype.clear=function(){this.size=0,this.__data__={hash:new fn,map:new(Qn||Mr),string:new fn}},Or.prototype.delete=function(e){return e=Gt(this,e).delete(e),this.size-=e?1:0,e},Or.prototype.get=function(e){return Gt(this,e).get(e)},Or.prototype.has=function(e){return Gt(this,e).has(e)},Or.prototype.set=function(e,r){var n=Gt(this,e),t=n.size;return n.set(e,r),this.size+=n.size==t?0:1,this},cn.prototype.add=cn.prototype.push=function(e){return this.__data__.set(e,y),this},cn.prototype.has=function(e){return this.__data__.has(e)},pr.prototype.clear=function(){this.__data__=new Mr,this.size=0},pr.prototype.delete=function(e){var r=this.__data__,e=r.delete(e);return this.size=r.size,e},pr.prototype.get=function(e){return this.__data__.get(e)},pr.prototype.has=function(e){return this.__data__.has(e)},pr.prototype.set=function(e,r){var n=this.__data__;if(n instanceof Mr){var t=n.__data__;if(!Qn||t.length<199)return t.push([e,r]),this.size=++n.size,this;n=this.__data__=new Or(t)}return n.set(e,r),this.size=n.size,this};var Gr=ha(Cr),Wu=ha(qi,!0);function fc(e,r){var n=!0;return Gr(e,function(t,o,a){return n=!!r(t,o,a)}),n}function Wt(e,r,n){for(var t=-1,o=e.length;++t<o;){var a,f,c=e[t],l=r(c);l!=null&&(a===i?l==l&&!Qe(l):n(l,a))&&(a=l,f=c)}return f}function Uu(e,r){var n=[];return Gr(e,function(t,o,a){r(t,o,a)&&n.push(t)}),n}function Le(e,r,n,t,o){var a=-1,f=e.length;for(n=n||wc,o=o||[];++a<f;){var c=e[a];0<r&&n(c)?1<r?Le(c,r-1,n,t,o):Kr(o,c):t||(o[o.length]=c)}return o}var Vi=pa(),Fu=pa(!0);function Cr(e,r){return e&&Vi(e,r,Oe)}function qi(e,r){return e&&Fu(e,r,Oe)}function Ut(e,r){return qr(r,function(n){return Tr(e[n])})}function sn(e,r){for(var n=0,t=(r=Qr(r,e)).length;e!=null&&n<t;)e=e[Xr(r[n++])];return n&&n==t?e:i}function Nu(e,r,n){return r=r(e),P(e)?r:Kr(r,n(e))}function Be(e){return e==null?e===i?"[object Undefined]":"[object Null]":un&&un in le(e)?function(r){var n=se.call(r,un),t=r[un];try{r[un]=i;var o=!0}catch{}var a=Rt.call(r);return o&&(n?r[un]=t:delete r[un]),a}(e):Rt.call(e)}function Ki(e,r){return r<e}function cc(e,r){return e!=null&&se.call(e,r)}function lc(e,r){return e!=null&&r in le(e)}function Zi(e,r,n){for(var t=n?ji:Xt,o=e[0].length,a=e.length,f=a,c=d(a),l=1/0,g=[];f--;){var _=e[f];f&&r&&(_=we(_,Ge(r))),l=Ee(_.length,l),c[f]=!n&&(r||120<=o&&120<=_.length)?new cn(f&&_):i}var _=e[0],x=-1,S=c[0];e:for(;++x<o&&g.length<l;){var R=_[x],z=r?r(R):R,R=n||R!==0?R:0;if(!(S?Zn(S,z):t(g,z,n))){for(f=a;--f;){var j=c[f];if(!(j?Zn(j,z):t(e[f],z,n)))continue e}S&&S.push(z),g.push(R)}}return g}function ot(e,r,n){return r=(e=Ra(e,r=Qr(r,e)))==null?e:e[Xr(fr(r))],r==null?i:Ze(r,e,n)}function Pu(e){return je(e)&&Be(e)==D}function ut(e,r,n,t,o){return e===r||(e==null||r==null||!je(e)&&!je(r)?e!=e&&r!=r:function(a,f,c,l,g,_){var x=P(a),S=P(f),R=x?ae:Ae(a),z=S?ae:Ae(f),j=(R=R==D?_e:R)==_e,S=(z=z==D?_e:z)==_e,z=R==z;if(z&&rn(a)){if(!rn(f))return!1;j=!(x=!0)}return z&&!j?(_=_||new pr,x||An(a)?Ca(a,f,c,l,g,_):function(Y,b,X,O,re,oe,Re){switch(X){case mr:if(Y.byteLength!=b.byteLength||Y.byteOffset!=b.byteOffset)return!1;Y=Y.buffer,b=b.buffer;case Fe:return!!(Y.byteLength==b.byteLength&&oe(new kt(Y),new kt(b)));case Q:case ue:case xe:return vr(+Y,+b);case H:return Y.name==b.name&&Y.message==b.message;case Pr:case he:return Y==b+"";case ce:var Xe=Ei;case F:var ve=1&O;return Xe=Xe||zt,Y.size!=b.size&&!ve?!1:(ve=Re.get(Y),ve?ve==b:(O|=2,Re.set(Y,b),Xe=Ca(Xe(Y),Xe(b),O,re,oe,Re),Re.delete(Y),Xe));case pe:if(nt)return nt.call(Y)==nt.call(b)}return!1}(a,f,R,c,l,g,_)):!(1&c)&&(j=j&&se.call(a,"__wrapped__"),S=S&&se.call(f,"__wrapped__"),j||S)?(j=j?a.value():a,S=S?f.value():f,_=_||new pr,g(j,S,c,l,_)):z&&(_=_||new pr,function(Y,b,X,O,re,oe){var Re=1&X,Xe=po(Y),ve=Xe.length,Ue=po(b).length;if(ve!=Ue&&!Re)return!1;for(var gr=ve;gr--;){var Sr=Xe[gr];if(!(Re?Sr in b:se.call(b,Sr)))return!1}var zr=oe.get(Y),Ue=oe.get(b);if(zr&&Ue)return zr==b&&Ue==Y;var fi=!0;oe.set(Y,b),oe.set(b,Y);for(var Uo=Re;++gr<ve;){Sr=Xe[gr];var Fo,ci=Y[Sr],li=b[Sr];if(!((Fo=O?Re?O(li,ci,Sr,b,Y,oe):O(ci,li,Sr,Y,b,oe):Fo)===i?ci===li||re(ci,li,X,O,oe):Fo)){fi=!1;break}Uo=Uo||Sr=="constructor"}return fi&&!Uo&&(zr=Y.constructor,Ue=b.constructor,zr!=Ue&&"constructor"in Y&&"constructor"in b&&!(typeof zr=="function"&&zr instanceof zr&&typeof Ue=="function"&&Ue instanceof Ue)&&(fi=!1)),oe.delete(Y),oe.delete(b),fi}(a,f,c,l,g,_))}(e,r,n,t,ut,o))}function Gi(e,r,n,t){var o=n.length,a=o,f=!t;if(e==null)return!a;for(e=le(e);o--;){var c=n[o];if(f&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var l=(c=n[o])[0],g=e[l],_=c[1];if(f&&c[2]){if(g===i&&!(l in e))return!1}else{var x,S=new pr;if(!((x=t?t(g,_,l,e,r,S):x)===i?ut(_,g,3,t,S):x))return!1}}return!0}function $u(e){return!(!Ye(e)||(r=e,zu&&zu in r))&&(Tr(e)?qf:M).test(pn(e));var r}function Hu(e){return typeof e=="function"?e:e==null?Ve:typeof e=="object"?P(e)?Ku(e[0],e[1]):qu(e):pf(e)}function Ji(e){if(!ct(e))return Zf(e);var r,n=[];for(r in le(e))se.call(e,r)&&r!="constructor"&&n.push(r);return n}function sc(e){if(!Ye(e))return function(o){var a=[];if(o!=null)for(var f in le(o))a.push(f);return a}(e);var r,n=ct(e),t=[];for(r in e)(r!="constructor"||!n&&se.call(e,r))&&t.push(r);return t}function Qi(e,r){return e<r}function Vu(e,r){var n=-1,t=$e(e)?d(e.length):[];return Gr(e,function(o,a,f){t[++n]=r(o,a,f)}),t}function qu(e){var r=_o(e);return r.length==1&&r[0][2]?ja(r[0][0],r[0][1]):function(n){return n===e||Gi(n,e,r)}}function Ku(e,r){return mo(e)&&za(r)?ja(Xr(e),r):function(n){var t=Ro(n,e);return t===i&&t===r?ko(n,e):ut(r,t,3)}}function Ft(e,r,n,t,o){e!==r&&Vi(r,function(a,f){var c,l,g,_,x,S,R,z,j,Y,b,X,O;o=o||new pr,Ye(a)?(l=r,_=n,x=Ft,S=t,R=o,b=xo(c=e,g=f),X=xo(l,g),(O=R.get(X))?$i(c,g,O):(z=S?S(b,X,g+"",c,l,R):i,(j=z===i)&&(Y=P(X),O=!Y&&rn(X),l=!Y&&!O&&An(X),z=X,Y||O||l?z=P(b)?b:De(b)?Pe(b):O?aa(X,!(j=!1)):l?fa(X,!(j=!1)):[]:st(X)||vn(X)?vn(z=b)?z=nf(b):Ye(b)&&!Tr(b)||(z=Sa(X)):j=!1),j&&(R.set(X,z),x(z,X,_,S,R),R.delete(X)),$i(c,g,z))):(z=t?t(xo(e,f),a,f+"",e,r,o):i,$i(e,f,z=z===i?a:z))},He)}function Zu(e,r){var n=e.length;if(n)return Ar(r+=r<0?n:0,n)?e[r]:i}function Gu(e,r,n){r=r.length?we(r,function(o){return P(o)?function(a){return sn(a,o.length===1?o[0]:o)}:o}):[Ve];var t=-1;return r=we(r,Ge(B())),function(o,a){var f=o.length;for(o.sort(a);f--;)o[f]=o[f].value;return o}(Vu(e,function(o,a,f){return{criteria:we(r,function(c){return c(o)}),index:++t,value:o}}),function(o,a){return function(f,c,l){for(var g=-1,_=f.criteria,x=c.criteria,S=_.length,R=l.length;++g<S;){var z=ca(_[g],x[g]);if(z){if(R<=g)return z;var j=l[g];return z*(j=="desc"?-1:1)}}return f.index-c.index}(o,a,n)})}function Ju(e,r,n){for(var t=-1,o=r.length,a={};++t<o;){var f=r[t],c=sn(e,f);n(c,f)&&at(a,Qr(f,e),c)}return a}function eo(e,r,n,t){var o=t?Bf:Cn,a=-1,f=r.length,c=e;for(e===r&&(r=Pe(r)),n&&(c=we(e,Ge(n)));++a<f;)for(var l=0,g=r[a],_=n?n(g):g;-1<(l=o(c,_,l,t));)c!==e&&Ot.call(c,l,1),Ot.call(e,l,1);return e}function Qu(e,r){for(var n=e?r.length:0,t=n-1;n--;){var o,a=r[n];n!=t&&a===o||(Ar(o=a)?Ot.call(e,a,1):oo(e,a))}return e}function ro(e,r){return e+Et(Ou()*(r-e+1))}function no(e,r){var n="";if(!e||r<1||I<r)return n;for(;r%2&&(n+=e),(r=Et(r/2))&&(e+=e),r;);return n}function V(e,r){return bo(Da(e,r,Ve),e+"")}function hc(e){return Eu(Tn(e))}function pc(e,r){return e=Tn(e),Jt(e,ln(r,0,e.length))}function at(e,r,n,t){if(!Ye(e))return e;for(var o=-1,a=(r=Qr(r,e)).length,f=a-1,c=e;c!=null&&++o<a;){var l,g=Xr(r[o]),_=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;o!=f&&(l=c[g],(_=t?t(l,g,c):i)===i&&(_=Ye(l)?l:Ar(r[o+1])?[]:{})),tt(c,g,_),c=c[g]}return e}var ea=At?function(e,r){return At.set(e,r),e}:Ve,to=It?function(e,r){return It(e,"toString",{configurable:!0,enumerable:!1,value:Io(r),writable:!0})}:Ve;function vc(e){return Jt(Tn(e))}function ar(e,r,n){var t=-1,o=e.length;(n=o<n?o:n)<0&&(n+=o),o=n<(r=r<0?o<-r?0:o+r:r)?0:n-r>>>0,r>>>=0;for(var a=d(o);++t<o;)a[t]=e[t+r];return a}function gc(e,r){var n;return Gr(e,function(t,o,a){return!(n=r(t,o,a))}),!!n}function Nt(e,r,n){var t=0,o=e==null?t:e.length;if(typeof r=="number"&&r==r&&o<=2147483647){for(;t<o;){var a=t+o>>>1,f=e[a];f!==null&&!Qe(f)&&(n?f<=r:f<r)?t=1+a:o=a}return o}return io(e,r,Ve,n)}function io(e,r,n,t){var o=0,a=e==null?0:e.length;if(a===0)return 0;for(var f=(r=n(r))!=r,c=r===null,l=Qe(r),g=r===i;o<a;){var _=Et((o+a)/2),x=n(e[_]),S=x!==i,R=x===null,z=x==x,j=Qe(x),x=f?t||z:g?z&&(t||S):c?z&&S&&(t||!R):l?z&&S&&!R&&(t||!j):!R&&!j&&(t?x<=r:x<r);x?o=_+1:a=_}return Ee(a,4294967294)}function ra(e,r){for(var n=-1,t=e.length,o=0,a=[];++n<t;){var f,c=e[n],l=r?r(c):c;n&&vr(l,f)||(f=l,a[o++]=c===0?0:c)}return a}function na(e){return typeof e=="number"?e:Qe(e)?ne:+e}function Je(e){if(typeof e=="string")return e;if(P(e))return we(e,Je)+"";if(Qe(e))return Iu?Iu.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function Jr(e,r,n){var t=-1,o=Xt,a=e.length,f=!0,c=[],l=c;if(n)f=!1,o=ji;else if(200<=a){var g=r?null:yc(e);if(g)return zt(g);f=!1,o=Zn,l=new cn}else l=r?[]:c;e:for(;++t<a;){var _=e[t],x=r?r(_):_,_=n||_!==0?_:0;if(f&&x==x){for(var S=l.length;S--;)if(l[S]===x)continue e;r&&l.push(x),c.push(_)}else o(l,x,n)||(l!==c&&l.push(x),c.push(_))}return c}function oo(e,r){return(e=Ra(e,r=Qr(r,e)))==null||delete e[Xr(fr(r))]}function ta(e,r,n,t){return at(e,r,n(sn(e,r)),t)}function Pt(e,r,n,t){for(var o=e.length,a=t?o:-1;(t?a--:++a<o)&&r(e[a],a,e););return n?ar(e,t?0:a,t?a+1:o):ar(e,t?a+1:0,t?o:a)}function ia(e,r){var n=e;return Di(r,function(t,o){return o.func.apply(o.thisArg,Kr([t],o.args))},n=e instanceof J?e.value():n)}function uo(e,r,n){var t=e.length;if(t<2)return t?Jr(e[0]):[];for(var o=-1,a=d(t);++o<t;)for(var f=e[o],c=-1;++c<t;)c!=o&&(a[o]=it(a[o]||f,e[c],r,n));return Jr(Le(a,1),r,n)}function oa(e,r,n){for(var t=-1,o=e.length,a=r.length,f={};++t<o;){var c=t<a?r[t]:i;n(f,e[t],c)}return f}function ao(e){return De(e)?e:[]}function fo(e){return typeof e=="function"?e:Ve}function Qr(e,r){return P(e)?e:mo(e,r)?[e]:Ia(fe(e))}var co=V;function en(e,r,n){var t=e.length;return n=n===i?t:n,!r&&t<=n?e:ar(e,r,n)}var ua=Bi||function(e){return Ie.clearTimeout(e)};function aa(e,r){return r?e.slice():(r=e.length,r=ju?ju(r):new e.constructor(r),e.copy(r),r)}function lo(e){var r=new e.constructor(e.byteLength);return new kt(r).set(new kt(e)),r}function fa(e,r){return r=r?lo(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.length)}function ca(e,r){if(e!==r){var n=e!==i,t=e===null,o=e==e,a=Qe(e),f=r!==i,c=r===null,l=r==r,g=Qe(r);if(!c&&!g&&!a&&r<e||a&&f&&l&&!c&&!g||t&&f&&l||!n&&l||!o)return 1;if(!t&&!a&&!g&&e<r||g&&n&&o&&!t&&!a||c&&n&&o||!f&&o||!l)return-1}return 0}function la(e,r,n,t){for(var o=-1,a=e.length,f=n.length,c=-1,l=r.length,g=Me(a-f,0),_=d(l+g),x=!t;++c<l;)_[c]=r[c];for(;++o<f;)(x||o<a)&&(_[n[o]]=e[o]);for(;g--;)_[c++]=e[o++];return _}function sa(e,r,n,t){for(var o=-1,a=e.length,f=-1,c=n.length,l=-1,g=r.length,_=Me(a-c,0),x=d(_+g),S=!t;++o<_;)x[o]=e[o];for(var R=o;++l<g;)x[R+l]=r[l];for(;++f<c;)(S||o<a)&&(x[R+n[f]]=e[o++]);return x}function Pe(e,r){var n=-1,t=e.length;for(r=r||d(t);++n<t;)r[n]=e[n];return r}function Yr(e,r,n,t){var o=!n;n=n||{};for(var a=-1,f=r.length;++a<f;){var c=r[a],l=t?t(n[c],e[c],c,n,e):i;(o?Ir:tt)(n,c,l=l===i?e[c]:l)}return n}function $t(e,r){return function(n,t){var o=P(n)?Lf:ac,a=r?r():{};return o(n,e,B(t,2),a)}}function In(e){return V(function(r,n){var t=-1,o=n.length,a=1<o?n[o-1]:i,f=2<o?n[2]:i,a=3<e.length&&typeof a=="function"?(o--,a):i;for(f&&We(n[0],n[1],f)&&(a=o<3?i:a,o=1),r=le(r);++t<o;){var c=n[t];c&&e(r,c,t,a)}return r})}function ha(e,r){return function(n,t){if(n==null)return n;if(!$e(n))return e(n,t);for(var o=n.length,a=r?o:-1,f=le(n);(r?a--:++a<o)&&t(f[a],a,f)!==!1;);return n}}function pa(e){return function(r,n,t){for(var o=-1,a=le(r),f=t(r),c=f.length;c--;){var l=f[e?c:++o];if(n(a[l],l,a)===!1)break}return r}}function va(e){return function(r){var n=Yn(r=fe(r))?sr(r):i,t=n?n[0]:r.charAt(0),r=n?en(n,1).join(""):r.slice(1);return t[e]()+r}}function Ln(e){return function(r){return Di(sf(lf(r).replace(Xf,"")),e,"")}}function ft(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=On(e.prototype),t=e.apply(n,r);return Ye(t)?t:n}}function dc(e,r,n){var t=ft(e);return function o(){for(var a=arguments.length,f=d(a),c=a,l=En(o);c--;)f[c]=arguments[c];return l=a<3&&f[0]!==l&&f[a-1]!==l?[]:Zr(f,l),(a-=l.length)<n?ma(e,r,Ht,o.placeholder,i,f,l,i,i,n-a):Ze(this&&this!==Ie&&this instanceof o?t:e,this,f)}}function ga(e){return function(r,n,t){var o,a=le(r);return $e(r)||(o=B(n,3),r=Oe(r),n=function(f){return o(a[f],f,a)}),t=e(r,n,t),-1<t?a[o?r[t]:t]:i}}function da(e){return Er(function(r){var n=r.length,t=n,o=hr.prototype.thru;for(e&&r.reverse();t--;){var a=r[t];if(typeof a!="function")throw new or(v);o&&!l&&Zt(a)=="wrapper"&&(l=new hr([],!0))}for(t=l?t:n;++t<n;)var f=Zt(a=r[t]),c=f=="wrapper"?go(a):i,l=c&&wo(c[0])&&c[1]==424&&!c[4].length&&c[9]==1?l[Zt(c[0])].apply(l,c[3]):a.length==1&&wo(a)?l[f]():l.thru(a);return function(){var g=arguments,_=g[0];if(l&&g.length==1&&P(_))return l.plant(_).value();for(var x=0,S=n?r[x].apply(this,g):_;++x<n;)S=r[x].call(this,S);return S}})}function Ht(e,r,n,t,o,a,f,c,l,g){var _=r&k,x=1&r,S=2&r,R=24&r,z=512&r,j=S?i:ft(e);return function Y(){for(var b,X=d(Re=arguments.length),O=Re;O--;)X[O]=arguments[O];if(R&&(b=function(Xe,ve){for(var Ue=Xe.length,gr=0;Ue--;)Xe[Ue]===ve&&++gr;return gr}(X,re=En(Y))),t&&(X=la(X,t,o,R)),a&&(X=sa(X,a,f,R)),Re-=b,R&&Re<g){var oe=Zr(X,re);return ma(e,r,Ht,Y.placeholder,n,X,oe,c,l,g-Re)}var re=x?n:this,oe=S?re[e]:e,Re=X.length;return c?X=function(Xe,ve){for(var Ue=Xe.length,gr=Ee(ve.length,Ue),Sr=Pe(Xe);gr--;){var zr=ve[gr];Xe[gr]=Ar(zr,Ue)?Sr[zr]:i}return Xe}(X,c):z&&1<Re&&X.reverse(),_&&l<Re&&(X.length=l),(oe=this&&this!==Ie&&this instanceof Y?j||ft(oe):oe).apply(re,X)}}function _a(e,r){return function(n,t){return n=n,o=e,a=r(t),f={},Cr(n,function(c,l,g){o(f,a(c),l,g)}),f;var o,a,f}}function Vt(e,r){return function(n,t){var o;if(n===i&&t===i)return r;if(n!==i&&(o=n),t!==i){if(o===i)return t;t=typeof n=="string"||typeof t=="string"?(n=Je(n),Je(t)):(n=na(n),na(t)),o=e(n,t)}return o}}function so(e){return Er(function(r){return r=we(r,Ge(B())),V(function(n){var t=this;return e(r,function(o){return Ze(o,t,n)})})})}function qt(e,r){var n=(r=r===i?" ":Je(r)).length;return n<2?n?no(r,e):r:(n=no(r,Lt(e/Xn(r))),Yn(r)?en(sr(n),0,e).join(""):n.slice(0,e))}function _c(e,r,n,t){var o=1&r,a=ft(e);return function f(){for(var c=-1,l=arguments.length,g=-1,_=t.length,x=d(_+l),S=this&&this!==Ie&&this instanceof f?a:e;++g<_;)x[g]=t[g];for(;l--;)x[g++]=arguments[++c];return Ze(S,o?n:this,x)}}function ya(e){return function(r,n,t){return t&&typeof t!="number"&&We(r,n,t)&&(n=t=i),r=Br(r),n===i?(n=r,r=0):n=Br(n),function(o,a,f,c){for(var l=-1,g=Me(Lt((a-o)/(f||1)),0),_=d(g);g--;)_[c?g:++l]=o,o+=f;return _}(r,n,t=t===i?r<n?1:-1:Br(t),e)}}function Kt(e){return function(r,n){return typeof r=="string"&&typeof n=="string"||(r=cr(r),n=cr(n)),e(r,n)}}function ma(e,r,n,t,o,a,f,c,l,g){var _=8&r;return r|=_?32:64,4&(r&=~(_?64:32))||(r&=-4),g=[e,r,o,_?a:i,_?f:i,_?i:a,_?i:f,c,l,g],n=n.apply(i,g),wo(e)&&ka(n,g),n.placeholder=t,Ma(n,e,r)}function ho(e){var r=Ce[e];return function(n,t){if(n=cr(n),(t=t==null?0:Ee($(t),292))&&Mu(n)){var o=(fe(n)+"e").split("e");return+((o=(fe(r(o[0]+"e"+(+o[1]+t)))+"e").split("e"))[0]+"e"+(+o[1]-t))}return r(n)}}var yc=Rn&&1/zt(new Rn([,-0]))[1]==1/0?function(e){return new Rn(e)}:Ao;function wa(e){return function(r){var n,t,o,a=Ae(r);return a==ce?Ei(r):a==F?(a=r,n=-1,t=Array(a.size),a.forEach(function(f){t[++n]=[f,f]}),t):we(e(o=r),function(f){return[f,o[f]]})}}function Lr(e,r,n,t,o,a,f,c){var l=2&r;if(!l&&typeof e!="function")throw new or(v);var g,_,x=t?t.length:0;x||(r&=-97,t=o=i),f=f===i?f:Me($(f),0),c=c===i?c:$(c),x-=o?o.length:0,64&r&&(g=t,_=o,t=o=i);var S,R,z,j,Y=l?i:go(e),f=[e,r,n,t,o,g,_,a,f,c];return Y&&function(b,X){var O=b[1],re=X[1],oe=O|re,Re=oe<131,Xe=re==k&&O==8||re==k&&O==256&&b[7].length<=X[8]||re==384&&X[7].length<=X[8]&&O==8;if(!(!Re&&!Xe)){1&re&&(b[2]=X[2],oe|=1&O?0:4),O=X[3];{var ve;O&&(ve=b[3],b[3]=ve?la(ve,O,X[4]):O,b[4]=ve?Zr(b[3],h):X[4])}(O=X[5])&&(ve=b[5],b[5]=ve?sa(ve,O,X[6]):O,b[6]=ve?Zr(b[5],h):X[6]),(O=X[7])&&(b[7]=O),re&k&&(b[8]=b[8]==null?X[8]:Ee(b[8],X[8])),b[9]==null&&(b[9]=X[9]),b[0]=X[0],b[1]=oe}}(f,Y),e=f[0],r=f[1],n=f[2],t=f[3],o=f[4],!(c=f[9]=f[9]===i?l?0:e.length:Me(f[9]-x,0))&&24&r&&(r&=-25),n=r&&r!=1?r==8||r==16?dc(e,r,c):r!=32&&r!=33||o.length?Ht.apply(i,f):_c(e,r,n,t):(R=n,z=1&r,j=ft(S=e),function b(){return(this&&this!==Ie&&this instanceof b?j:S).apply(z?R:this,arguments)}),Ma((Y?ea:ka)(n,f),e,r)}function xa(e,r,n,t){return e===i||vr(e,zn[n])&&!se.call(t,n)?r:e}function ba(e,r,n,t,o,a){return Ye(e)&&Ye(r)&&(a.set(r,e),Ft(e,r,i,ba,a),a.delete(r)),e}function mc(e){return st(e)?i:e}function Ca(e,r,n,t,o,a){var f=1&n,c=e.length,l=r.length;if(c!=l&&!(f&&c<l))return!1;var g=a.get(e),l=a.get(r);if(g&&l)return g==r&&l==e;var _=-1,x=!0,S=2&n?new cn:i;for(a.set(e,r),a.set(r,e);++_<c;){var R,z=e[_],j=r[_];if((R=t?f?t(j,z,_,r,e,a):t(z,j,_,e,r,a):R)!==i){if(R)continue;x=!1;break}if(S){if(!Ri(r,function(Y,b){return!Zn(S,b)&&(z===Y||o(z,Y,n,t,a))&&S.push(b)})){x=!1;break}}else if(z!==j&&!o(z,j,n,t,a)){x=!1;break}}return a.delete(e),a.delete(r),x}function Er(e){return bo(Da(e,i,Ta),e+"")}function po(e){return Nu(e,Oe,yo)}function vo(e){return Nu(e,He,Ya)}var go=At?function(e){return At.get(e)}:Ao;function Zt(e){for(var r=e.name+"",n=kn[r],t=se.call(kn,r)?n.length:0;t--;){var o=n[t],a=o.func;if(a==null||a==e)return o.name}return r}function En(e){return(se.call(u,"placeholder")?u:e).placeholder}function B(){var e=(e=u.iteratee||Lo)===Lo?Hu:e;return arguments.length?e(arguments[0],arguments[1]):e}function Gt(e,r){var n,t=e.__data__;return((e=typeof(n=r))=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null)?t[typeof r=="string"?"string":"hash"]:t.map}function _o(e){for(var r=Oe(e),n=r.length;n--;){var t=r[n],o=e[t];r[n]=[t,o,za(o)]}return r}function hn(e,r){return r=r,r=(e=e)==null?i:e[r],$u(r)?r:i}var yo=Fi?function(e){return e==null?[]:(e=le(e),qr(Fi(e),function(r){return Ru.call(e,r)}))}:To,Ya=Fi?function(e){for(var r=[];e;)Kr(r,yo(e)),e=Mt(e);return r}:To,Ae=Be;function Xa(e,r,n){for(var t=-1,o=(r=Qr(r,e)).length,a=!1;++t<o;){var f=Xr(r[t]);if(!(a=e!=null&&n(e,f)))break;e=e[f]}return a||++t!=o?a:!!(o=e==null?0:e.length)&&ii(o)&&Ar(f,o)&&(P(e)||vn(e))}function Sa(e){return typeof e.constructor!="function"||ct(e)?{}:On(Mt(e))}function wc(e){return P(e)||vn(e)||!!(ku&&e&&e[ku])}function Ar(e,r){var n=typeof e;return!!(r=r==null?I:r)&&(n=="number"||n!="symbol"&&W.test(e))&&-1<e&&e%1==0&&e<r}function We(e,r,n){if(Ye(n)){var t=typeof r;return(t=="number"?$e(n)&&Ar(r,n.length):t=="string"&&r in n)&&vr(n[r],e)}}function mo(e,r){if(!P(e)){var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Qe(e)||Vn.test(e)||!Hn.test(e)||r!=null&&e in le(r)}}function wo(e){var r=Zt(e),n=u[r];if(typeof n=="function"&&r in J.prototype)return e===n?1:(n=go(n),n&&e===n[0])}(Jn&&Ae(new Jn(new ArrayBuffer(1)))!=mr||Qn&&Ae(new Qn)!=ce||et&&Ae(et.resolve())!=gn||Rn&&Ae(new Rn)!=F||an&&Ae(new an)!=er)&&(Ae=function(e){var r=Be(e),e=r==_e?e.constructor:i,e=e?pn(e):"";if(e)switch(e){case ec:return mr;case rc:return ce;case nc:return gn;case tc:return F;case ic:return er}return r});var xc=jn?Tr:Bo;function ct(e){var r=e&&e.constructor;return e===(typeof r=="function"&&r.prototype||zn)}function za(e){return e==e&&!Ye(e)}function ja(e,r){return function(n){return n!=null&&n[e]===r&&(r!==i||e in le(n))}}function Da(e,r,n){return r=Me(r===i?e.length-1:r,0),function(){for(var t=arguments,o=-1,a=Me(t.length-r,0),f=d(a);++o<a;)f[o]=t[r+o];for(var o=-1,c=d(r+1);++o<r;)c[o]=t[o];return c[r]=n(f),Ze(e,this,c)}}function Ra(e,r){return r.length<2?e:sn(e,ar(r,0,-1))}function xo(e,r){if((r!=="constructor"||typeof e[r]!="function")&&r!="__proto__")return e[r]}var ka=Oa(ea),lt=Ui||function(e,r){return Ie.setTimeout(e,r)},bo=Oa(to);function Ma(e,r,n){var t,o,r=r+"";return bo(e,function(a,f){var c=f.length;if(!c)return a;var l=c-1;return f[l]=(1<c?"& ":"")+f[l],f=f.join(2<c?", ":" "),a.replace(bt,`{
/* [wrapped with `+f+`] */
`)}(r,(t=(r=(r=r).match(yi))?r[1].split(mi):[],o=n,ir(q,function(a){var f="_."+a[0];o&a[1]&&!Xt(t,f)&&t.push(f)}),t.sort())))}function Oa(e){var r=0,n=0;return function(){var t=Gf(),o=16-(t-n);if(n=t,0<o){if(800<=++r)return arguments[0]}else r=0;return e.apply(i,arguments)}}function Jt(e,r){var n=-1,t=e.length,o=t-1;for(r=r===i?t:r;++n<r;){var a=ro(n,o),f=e[a];e[a]=e[n],e[n]=f}return e.length=r,e}var Co,Ia=(Co=(ai=ni(ai=function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(qn,function(n,t,o,a){r.push(o?a.replace(bi,"$1"):t||n)}),r},function(e){return Co.size===500&&Co.clear(),e})).cache,ai);function Xr(e){if(typeof e=="string"||Qe(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function pn(e){if(e!=null){try{return Dt.call(e)}catch{}try{return e+""}catch{}}return""}function La(e){if(e instanceof J)return e.clone();var r=new hr(e.__wrapped__,e.__chain__);return r.__actions__=Pe(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}var bc=V(function(e,r){return De(e)?it(e,Le(r,1,De,!0)):[]}),Cc=V(function(e,r){var n=fr(r);return De(n)&&(n=i),De(e)?it(e,Le(r,1,De,!0),B(n,2)):[]}),Yc=V(function(e,r){var n=fr(r);return De(n)&&(n=i),De(e)?it(e,Le(r,1,De,!0),i,n):[]});function Ea(e,r,n){var t=e==null?0:e.length;return t?(n=n==null?0:$(n),n<0&&(n=Me(t+n,0)),St(e,B(r,3),n)):-1}function Aa(e,r,n){var t=e==null?0:e.length;if(!t)return-1;var o=t-1;return n!==i&&(o=$(n),o=n<0?Me(t+o,0):Ee(o,t-1)),St(e,B(r,3),o,!0)}function Ta(e){return(e==null?0:e.length)?Le(e,1):[]}function Ba(e){return e&&e.length?e[0]:i}var Xc=V(function(e){var r=we(e,ao);return r.length&&r[0]===e[0]?Zi(r):[]}),Sc=V(function(e){var r=fr(e),n=we(e,ao);return r===fr(n)?r=i:n.pop(),n.length&&n[0]===e[0]?Zi(n,B(r,2)):[]}),zc=V(function(e){var r=fr(e),n=we(e,ao);return(r=typeof r=="function"?r:i)&&n.pop(),n.length&&n[0]===e[0]?Zi(n,i,r):[]});function fr(e){var r=e==null?0:e.length;return r?e[r-1]:i}var jc=V(Wa);function Wa(e,r){return e&&e.length&&r&&r.length?eo(e,r):e}var Dc=Er(function(e,r){var n=e==null?0:e.length,t=Hi(e,r);return Qu(e,we(r,function(o){return Ar(o,n)?+o:o}).sort(ca)),t});function Yo(e){return e==null?e:Qf.call(e)}var Rc=V(function(e){return Jr(Le(e,1,De,!0))}),kc=V(function(e){var r=fr(e);return De(r)&&(r=i),Jr(Le(e,1,De,!0),B(r,2))}),Mc=V(function(e){var r=typeof(r=fr(e))=="function"?r:i;return Jr(Le(e,1,De,!0),i,r)});function Xo(e){if(!e||!e.length)return[];var r=0;return e=qr(e,function(n){return De(n)&&(r=Me(n.length,r),1)}),Ii(r,function(n){return we(e,ki(n))})}function Ua(e,r){return!e||!e.length?[]:(e=Xo(e),r==null?e:we(e,function(n){return Ze(r,i,n)}))}var Oc=V(function(e,r){return De(e)?it(e,r):[]}),Ic=V(function(e){return uo(qr(e,De))}),Lc=V(function(e){var r=fr(e);return De(r)&&(r=i),uo(qr(e,De),B(r,2))}),Ec=V(function(e){var r=typeof(r=fr(e))=="function"?r:i;return uo(qr(e,De),i,r)}),Ac=V(Xo),Tc=V(function(e){var r=e.length,r=typeof(r=1<r?e[r-1]:i)=="function"?(e.pop(),r):i;return Ua(e,r)});function Fa(e){return e=u(e),e.__chain__=!0,e}function Qt(e,r){return r(e)}var Bc=Er(function(e){function r(a){return Hi(a,e)}var n=e.length,t=n?e[0]:0,o=this.__wrapped__;return!(1<n||this.__actions__.length)&&o instanceof J&&Ar(t)?((o=o.slice(t,+t+(n?1:0))).__actions__.push({func:Qt,args:[r],thisArg:i}),new hr(o,this.__chain__).thru(function(a){return n&&!a.length&&a.push(i),a})):this.thru(r)}),Wc=$t(function(e,r,n){se.call(e,n)?++e[n]:Ir(e,n,1)}),Uc=ga(Ea),Fc=ga(Aa);function Na(e,r){return(P(e)?ir:Gr)(e,B(r,3))}function Pa(e,r){return(P(e)?Ef:Wu)(e,B(r,3))}var Nc=$t(function(e,r,n){se.call(e,n)?e[n].push(r):Ir(e,n,[r])}),Pc=V(function(e,r,n){var t=-1,o=typeof r=="function",a=$e(e)?d(e.length):[];return Gr(e,function(f){a[++t]=o?Ze(r,f,n):ot(f,r,n)}),a}),$c=$t(function(e,r,n){Ir(e,n,r)});function ei(e,r){return(P(e)?we:Vu)(e,B(r,3))}var Hc=$t(function(e,r,n){e[n?0:1].push(r)},function(){return[[],[]]}),Vc=V(function(e,r){if(e==null)return[];var n=r.length;return 1<n&&We(e,r[0],r[1])?r=[]:2<n&&We(r[0],r[1],r[2])&&(r=[r[0]]),Gu(e,Le(r,1),[])}),ri=Wi||function(){return Ie.Date.now()};function $a(e,r,n){return r=n?i:r,r=e&&r==null?e.length:r,Lr(e,k,i,i,i,i,r)}function Ha(e,r){var n;if(typeof r!="function")throw new or(v);return e=$(e),function(){return 0<--e&&(n=r.apply(this,arguments)),e<=1&&(r=i),n}}var So=V(function(e,r,n){var t,o=1;return n.length&&(t=Zr(n,En(So)),o|=32),Lr(e,o,r,n,t)}),Va=V(function(e,r,n){var t,o=3;return n.length&&(t=Zr(n,En(Va)),o|=32),Lr(r,o,e,n,t)});function qa(e,r,n){var t,o,a,f,c,l,g=0,_=!1,x=!1,S=!0;if(typeof e!="function")throw new or(v);function R(X){var O=t,re=o;return t=o=i,g=X,f=e.apply(re,O)}function z(X){var O=X-l;return l===i||r<=O||O<0||x&&a<=X-g}function j(){var X,O=ri();if(z(O))return Y(O);c=lt(j,(O=r-((X=O)-l),x?Ee(O,a-(X-g)):O))}function Y(X){return c=i,S&&t?R(X):(t=o=i,f)}function b(){var X=ri(),O=z(X);if(t=arguments,o=this,l=X,O){if(c===i)return g=O=l,c=lt(j,r),_?R(O):f;if(x)return ua(c),c=lt(j,r),R(l)}return c===i&&(c=lt(j,r)),f}return r=cr(r)||0,Ye(n)&&(_=!!n.leading,x="maxWait"in n,a=x?Me(cr(n.maxWait)||0,r):a,S="trailing"in n?!!n.trailing:S),b.cancel=function(){c!==i&&ua(c),g=0,t=l=o=c=i},b.flush=function(){return c===i?f:Y(ri())},b}var qc=V(function(e,r){return Bu(e,1,r)}),Kc=V(function(e,r,n){return Bu(e,cr(r)||0,n)});function ni(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new or(v);function n(){var t=arguments,o=r?r.apply(this,t):t[0],a=n.cache;return a.has(o)?a.get(o):(t=e.apply(this,t),n.cache=a.set(o,t)||a,t)}return n.cache=new(ni.Cache||Or),n}function ti(e){if(typeof e!="function")throw new or(v);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}ni.Cache=Or;var Zc=co(function(e,r){var n=(r=r.length==1&&P(r[0])?we(r[0],Ge(B())):we(Le(r,1),Ge(B()))).length;return V(function(t){for(var o=-1,a=Ee(t.length,n);++o<a;)t[o]=r[o].call(this,t[o]);return Ze(e,this,t)})}),zo=V(function(e,r){var n=Zr(r,En(zo));return Lr(e,32,i,r,n)}),Ka=V(function(e,r){var n=Zr(r,En(Ka));return Lr(e,64,i,r,n)}),Gc=Er(function(e,r){return Lr(e,256,i,i,i,r)});function vr(e,r){return e===r||e!=e&&r!=r}var Jc=Kt(Ki),Qc=Kt(function(e,r){return r<=e}),vn=Pu(function(){return arguments}())?Pu:function(e){return je(e)&&se.call(e,"callee")&&!Ru.call(e,"callee")},P=d.isArray,el=su?Ge(su):function(e){return je(e)&&Be(e)==Fe};function $e(e){return e!=null&&ii(e.length)&&!Tr(e)}function De(e){return je(e)&&$e(e)}var rn=Ni||Bo,rl=hu?Ge(hu):function(e){return je(e)&&Be(e)==ue};function jo(e){if(!je(e))return!1;var r=Be(e);return r==H||r=="[object DOMException]"||typeof e.message=="string"&&typeof e.name=="string"&&!st(e)}function Tr(e){return Ye(e)?(e=Be(e),e==me||e==te||e=="[object AsyncFunction]"||e=="[object Proxy]"):!1}function Za(e){return typeof e=="number"&&e==$(e)}function ii(e){return typeof e=="number"&&-1<e&&e%1==0&&e<=I}function Ye(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function je(e){return e!=null&&typeof e=="object"}var Ga=pu?Ge(pu):function(e){return je(e)&&Ae(e)==ce};function Ja(e){return typeof e=="number"||je(e)&&Be(e)==xe}function st(e){return!je(e)||Be(e)!=_e?!1:(e=Mt(e),e===null?!0:(e=se.call(e,"constructor")&&e.constructor,typeof e=="function"&&e instanceof e&&Dt.call(e)==Hf))}var Do=vu?Ge(vu):function(e){return je(e)&&Be(e)==Pr},Qa=gu?Ge(gu):function(e){return je(e)&&Ae(e)==F};function oi(e){return typeof e=="string"||!P(e)&&je(e)&&Be(e)==he}function Qe(e){return typeof e=="symbol"||je(e)&&Be(e)==pe}var An=du?Ge(du):function(e){return je(e)&&ii(e.length)&&!!ye[Be(e)]},nl=Kt(Qi),tl=Kt(function(e,r){return e<=r});function ef(e){if(!e)return[];if($e(e))return(oi(e)?sr:Pe)(e);if(Gn&&e[Gn])return function(n){for(var t,o=[];!(t=n.next()).done;)o.push(t.value);return o}(e[Gn]());var r=Ae(e);return(r==ce?Ei:r==F?zt:Tn)(e)}function Br(e){return e?(e=cr(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):e===0?e:0}function $(e){var r=Br(e),e=r%1;return r==r?e?r-e:r:0}function rf(e){return e?ln($(e),0,L):0}function cr(e){if(typeof e=="number")return e;if(Qe(e))return ne;if(typeof(e=Ye(e)?Ye(r=typeof e.valueOf=="function"?e.valueOf():e)?r+"":r:e)!="string")return e===0?e:+e;e=bu(e);var r=C.test(e);return r||A.test(e)?If(e.slice(2),r?2:8):w.test(e)?ne:+e}function nf(e){return Yr(e,He(e))}function fe(e){return e==null?"":Je(e)}var il=In(function(e,r){if(ct(r)||$e(r))Yr(r,Oe(r),e);else for(var n in r)se.call(r,n)&&tt(e,n,r[n])}),tf=In(function(e,r){Yr(r,He(r),e)}),ui=In(function(e,r,n,t){Yr(r,He(r),e,t)}),ol=In(function(e,r,n,t){Yr(r,Oe(r),e,t)}),ul=Er(Hi),al=V(function(e,r){e=le(e);var n=-1,t=r.length,o=2<t?r[2]:i;for(o&&We(r[0],r[1],o)&&(t=1);++n<t;)for(var a=r[n],f=He(a),c=-1,l=f.length;++c<l;){var g=f[c],_=e[g];(_===i||vr(_,zn[g])&&!se.call(e,g))&&(e[g]=a[g])}return e}),fl=V(function(e){return e.push(i,ba),Ze(of,i,e)});function Ro(e,r,n){return r=e==null?i:sn(e,r),r===i?n:r}function ko(e,r){return e!=null&&Xa(e,r,lc)}var cl=_a(function(e,r,n){e[r=r!=null&&typeof r.toString!="function"?Rt.call(r):r]=n},Io(Ve)),ll=_a(function(e,r,n){r!=null&&typeof r.toString!="function"&&(r=Rt.call(r)),se.call(e,r)?e[r].push(n):e[r]=[n]},B),sl=V(ot);function Oe(e){return($e(e)?Lu:Ji)(e)}function He(e){return $e(e)?Lu(e,!0):sc(e)}var hl=In(function(e,r,n){Ft(e,r,n)}),of=In(function(e,r,n,t){Ft(e,r,n,t)}),pl=Er(function(e,r){var n={};if(e==null)return n;var t=!1;r=we(r,function(a){return a=Qr(a,e),t=t||1<a.length,a}),Yr(e,vo(e),n),t&&(n=ur(n,7,mc));for(var o=r.length;o--;)oo(n,r[o]);return n}),vl=Er(function(e,r){return e==null?{}:Ju(n=e,r,function(t,o){return ko(n,o)});var n});function uf(e,r){if(e==null)return{};var n=we(vo(e),function(t){return[t]});return r=B(r),Ju(e,n,function(t,o){return r(t,o[0])})}var af=wa(Oe),ff=wa(He);function Tn(e){return e==null?[]:Li(e,Oe(e))}var gl=Ln(function(e,r,n){return r=r.toLowerCase(),e+(n?cf(r):r)});function cf(e){return Mo(fe(e).toLowerCase())}function lf(e){return(e=fe(e))&&e.replace(ze,Wf).replace(Sf,"")}var dl=Ln(function(e,r,n){return e+(n?"-":"")+r.toLowerCase()}),_l=Ln(function(e,r,n){return e+(n?" ":"")+r.toLowerCase()}),yl=va("toLowerCase"),ml=Ln(function(e,r,n){return e+(n?"_":"")+r.toLowerCase()}),wl=Ln(function(e,r,n){return e+(n?" ":"")+Mo(r)}),Ti=Ln(function(e,r,n){return e+(n?" ":"")+r.toUpperCase()}),Mo=va("toUpperCase");function sf(e,r,n){return e=fe(e),(r=n?i:r)===i?(n=e,Df.test(n)?e.match(zf)||[]:e.match(wi)||[]):e.match(r)||[]}var hf=V(function(e,r){try{return Ze(e,i,r)}catch(n){return jo(n)?n:new N(n)}}),Oo=Er(function(e,r){return ir(r,function(n){n=Xr(n),Ir(e,n,So(e[n],e))}),e});function Io(e){return function(){return e}}Dn=da(),E=da(!0);function Ve(e){return e}function Lo(e){return Hu(typeof e=="function"?e:ur(e,1))}m=V(function(e,r){return function(n){return ot(n,e,r)}}),br=V(function(e,r){return function(n){return ot(e,n,r)}});function Eo(e,r,n){var t=Oe(r),o=Ut(r,t);n!=null||Ye(r)&&(o.length||!t.length)||(n=r,r=e,e=this,o=Ut(r,Oe(r)));var a=!(Ye(n)&&"chain"in n&&!n.chain),f=Tr(e);return ir(o,function(c){var l=r[c];e[c]=l,f&&(e.prototype[c]=function(){var g=this.__chain__;if(a||g){var _=e(this.__wrapped__);return(_.__actions__=Pe(this.__actions__)).push({func:l,args:arguments,thisArg:e}),_.__chain__=g,_}return l.apply(e,Kr([this.value()],arguments))})}),e}function Ao(){}Mn=so(we),Bi=so(_u),Jn=so(Ri);function pf(e){return mo(e)?ki(Xr(e)):(r=e,function(n){return sn(n,r)});var r}et=ya(),an=ya(!0);function To(){return[]}function Bo(){return!1}var jn=Vt(function(e,r){return e+r},0),Ui=ho("ceil"),to=Vt(function(e,r){return e/r},1),ai=ho("floor"),Wo,Wi=Vt(function(e,r){return e*r},1),co=ho("round"),Ni=Vt(function(e,r){return e-r},0);return u.after=function(e,r){if(typeof r!="function")throw new or(v);return e=$(e),function(){if(--e<1)return r.apply(this,arguments)}},u.ary=$a,u.assign=il,u.assignIn=tf,u.assignInWith=ui,u.assignWith=ol,u.at=ul,u.before=Ha,u.bind=So,u.bindAll=Oo,u.bindKey=Va,u.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return P(e)?e:[e]},u.chain=Fa,u.chunk=function(e,r,n){r=(n?We(e,r,n):r===i)?1:Me($(r),0);var t=e==null?0:e.length;if(!t||r<1)return[];for(var o=0,a=0,f=d(Lt(t/r));o<t;)f[a++]=ar(e,o,o+=r);return f},u.compact=function(e){for(var r=-1,n=e==null?0:e.length,t=0,o=[];++r<n;){var a=e[r];a&&(o[t++]=a)}return o},u.concat=function(){var e=arguments.length;if(!e)return[];for(var r=d(e-1),n=arguments[0],t=e;t--;)r[t-1]=arguments[t];return Kr(P(n)?Pe(n):[n],Le(r,1))},u.cond=function(e){var r=e==null?0:e.length,n=B();return e=r?we(e,function(t){if(typeof t[1]!="function")throw new or(v);return[n(t[0]),t[1]]}):[],V(function(t){for(var o=-1;++o<r;){var a=e[o];if(Ze(a[0],this,t))return Ze(a[1],this,t)}})},u.conforms=function(e){return r=ur(e,1),n=Oe(r),function(t){return Tu(t,r,n)};var r,n},u.constant=Io,u.countBy=Wc,u.create=function(e,r){return e=On(e),r==null?e:Au(e,r)},u.curry=function e(r,n,t){return n=Lr(r,8,i,i,i,i,i,n=t?i:n),n.placeholder=e.placeholder,n},u.curryRight=function e(r,n,t){return n=Lr(r,16,i,i,i,i,i,n=t?i:n),n.placeholder=e.placeholder,n},u.debounce=qa,u.defaults=al,u.defaultsDeep=fl,u.defer=qc,u.delay=Kc,u.difference=bc,u.differenceBy=Cc,u.differenceWith=Yc,u.drop=function(e,r,n){var t=e==null?0:e.length;return t?ar(e,(r=n||r===i?1:$(r))<0?0:r,t):[]},u.dropRight=function(e,r,n){var t=e==null?0:e.length;return t?ar(e,0,(r=t-(r=n||r===i?1:$(r)))<0?0:r):[]},u.dropRightWhile=function(e,r){return e&&e.length?Pt(e,B(r,3),!0,!0):[]},u.dropWhile=function(e,r){return e&&e.length?Pt(e,B(r,3),!0):[]},u.fill=function(e,r,n,t){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&We(e,r,n)&&(n=0,t=o),function(a,f,c,l){var g=a.length;for((c=$(c))<0&&(c=g<-c?0:g+c),(l=l===i||g<l?g:$(l))<0&&(l+=g),l=l<c?0:rf(l);c<l;)a[c++]=f;return a}(e,r,n,t)):[]},u.filter=function(e,r){return(P(e)?qr:Uu)(e,B(r,3))},u.flatMap=function(e,r){return Le(ei(e,r),1)},u.flatMapDeep=function(e,r){return Le(ei(e,r),1/0)},u.flatMapDepth=function(e,r,n){return n=n===i?1:$(n),Le(ei(e,r),n)},u.flatten=Ta,u.flattenDeep=function(e){return(e==null?0:e.length)?Le(e,1/0):[]},u.flattenDepth=function(e,r){return(e==null?0:e.length)?Le(e,r=r===i?1:$(r)):[]},u.flip=function(e){return Lr(e,512)},u.flow=Dn,u.flowRight=E,u.fromPairs=function(e){for(var r=-1,n=e==null?0:e.length,t={};++r<n;){var o=e[r];t[o[0]]=o[1]}return t},u.functions=function(e){return e==null?[]:Ut(e,Oe(e))},u.functionsIn=function(e){return e==null?[]:Ut(e,He(e))},u.groupBy=Nc,u.initial=function(e){return(e==null?0:e.length)?ar(e,0,-1):[]},u.intersection=Xc,u.intersectionBy=Sc,u.intersectionWith=zc,u.invert=cl,u.invertBy=ll,u.invokeMap=Pc,u.iteratee=Lo,u.keyBy=$c,u.keys=Oe,u.keysIn=He,u.map=ei,u.mapKeys=function(e,r){var n={};return r=B(r,3),Cr(e,function(t,o,a){Ir(n,r(t,o,a),t)}),n},u.mapValues=function(e,r){var n={};return r=B(r,3),Cr(e,function(t,o,a){Ir(n,o,r(t,o,a))}),n},u.matches=function(e){return qu(ur(e,1))},u.matchesProperty=function(e,r){return Ku(e,ur(r,1))},u.memoize=ni,u.merge=hl,u.mergeWith=of,u.method=m,u.methodOf=br,u.mixin=Eo,u.negate=ti,u.nthArg=function(e){return e=$(e),V(function(r){return Zu(r,e)})},u.omit=pl,u.omitBy=function(e,r){return uf(e,ti(B(r)))},u.once=function(e){return Ha(2,e)},u.orderBy=function(e,r,n,t){return e==null?[]:Gu(e,r=P(r)?r:r==null?[]:[r],n=P(n=t?i:n)?n:n==null?[]:[n])},u.over=Mn,u.overArgs=Zc,u.overEvery=Bi,u.overSome=Jn,u.partial=zo,u.partialRight=Ka,u.partition=Hc,u.pick=vl,u.pickBy=uf,u.property=pf,u.propertyOf=function(e){return function(r){return e==null?i:sn(e,r)}},u.pull=jc,u.pullAll=Wa,u.pullAllBy=function(e,r,n){return e&&e.length&&r&&r.length?eo(e,r,B(n,2)):e},u.pullAllWith=function(e,r,n){return e&&e.length&&r&&r.length?eo(e,r,i,n):e},u.pullAt=Dc,u.range=et,u.rangeRight=an,u.rearg=Gc,u.reject=function(e,r){return(P(e)?qr:Uu)(e,ti(B(r,3)))},u.remove=function(e,r){var n=[];if(!e||!e.length)return n;var t=-1,o=[],a=e.length;for(r=B(r,3);++t<a;){var f=e[t];r(f,t,e)&&(n.push(f),o.push(t))}return Qu(e,o),n},u.rest=function(e,r){if(typeof e!="function")throw new or(v);return V(e,r=r===i?r:$(r))},u.reverse=Yo,u.sampleSize=function(e,r,n){return r=(n?We(e,r,n):r===i)?1:$(r),(P(e)?oc:pc)(e,r)},u.set=function(e,r,n){return e==null?e:at(e,r,n)},u.setWith=function(e,r,n,t){return t=typeof t=="function"?t:i,e==null?e:at(e,r,n,t)},u.shuffle=function(e){return(P(e)?uc:vc)(e)},u.slice=function(e,r,n){var t=e==null?0:e.length;return t?(n=n&&typeof n!="number"&&We(e,r,n)?(r=0,t):(r=r==null?0:$(r),n===i?t:$(n)),ar(e,r,n)):[]},u.sortBy=Vc,u.sortedUniq=function(e){return e&&e.length?ra(e):[]},u.sortedUniqBy=function(e,r){return e&&e.length?ra(e,B(r,2)):[]},u.split=function(e,r,n){return n&&typeof n!="number"&&We(e,r,n)&&(r=n=i),(n=n===i?L:n>>>0)?(e=fe(e))&&(typeof r=="string"||r!=null&&!Do(r))&&!(r=Je(r))&&Yn(e)?en(sr(e),0,n):e.split(r,n):[]},u.spread=function(e,r){if(typeof e!="function")throw new or(v);return r=r==null?0:Me($(r),0),V(function(n){var t=n[r],n=en(n,0,r);return t&&Kr(n,t),Ze(e,this,n)})},u.tail=function(e){var r=e==null?0:e.length;return r?ar(e,1,r):[]},u.take=function(e,r,n){return e&&e.length?ar(e,0,(r=n||r===i?1:$(r))<0?0:r):[]},u.takeRight=function(e,r,n){var t=e==null?0:e.length;return t?ar(e,(r=t-(r=n||r===i?1:$(r)))<0?0:r,t):[]},u.takeRightWhile=function(e,r){return e&&e.length?Pt(e,B(r,3),!1,!0):[]},u.takeWhile=function(e,r){return e&&e.length?Pt(e,B(r,3)):[]},u.tap=function(e,r){return r(e),e},u.throttle=function(e,r,n){var t=!0,o=!0;if(typeof e!="function")throw new or(v);return Ye(n)&&(t="leading"in n?!!n.leading:t,o="trailing"in n?!!n.trailing:o),qa(e,r,{leading:t,maxWait:r,trailing:o})},u.thru=Qt,u.toArray=ef,u.toPairs=af,u.toPairsIn=ff,u.toPath=function(e){return P(e)?we(e,Xr):Qe(e)?[e]:Pe(Ia(fe(e)))},u.toPlainObject=nf,u.transform=function(e,r,n){var t,o=P(e),a=o||rn(e)||An(e);return r=B(r,4),n==null&&(t=e&&e.constructor,n=a?o?new t:[]:Ye(e)&&Tr(t)?On(Mt(e)):{}),(a?ir:Cr)(e,function(f,c,l){return r(n,f,c,l)}),n},u.unary=function(e){return $a(e,1)},u.union=Rc,u.unionBy=kc,u.unionWith=Mc,u.uniq=function(e){return e&&e.length?Jr(e):[]},u.uniqBy=function(e,r){return e&&e.length?Jr(e,B(r,2)):[]},u.uniqWith=function(e,r){return r=typeof r=="function"?r:i,e&&e.length?Jr(e,i,r):[]},u.unset=function(e,r){return e==null||oo(e,r)},u.unzip=Xo,u.unzipWith=Ua,u.update=function(e,r,n){return e==null?e:ta(e,r,fo(n))},u.updateWith=function(e,r,n,t){return t=typeof t=="function"?t:i,e==null?e:ta(e,r,fo(n),t)},u.values=Tn,u.valuesIn=function(e){return e==null?[]:Li(e,He(e))},u.without=Oc,u.words=sf,u.wrap=function(e,r){return zo(fo(r),e)},u.xor=Ic,u.xorBy=Lc,u.xorWith=Ec,u.zip=Ac,u.zipObject=function(e,r){return oa(e||[],r||[],tt)},u.zipObjectDeep=function(e,r){return oa(e||[],r||[],at)},u.zipWith=Tc,u.entries=af,u.entriesIn=ff,u.extend=tf,u.extendWith=ui,Eo(u,u),u.add=jn,u.attempt=hf,u.camelCase=gl,u.capitalize=cf,u.ceil=Ui,u.clamp=function(e,r,n){return n===i&&(n=r,r=i),n!==i&&(n=(n=cr(n))==n?n:0),r!==i&&(r=(r=cr(r))==r?r:0),ln(cr(e),r,n)},u.clone=function(e){return ur(e,4)},u.cloneDeep=function(e){return ur(e,5)},u.cloneDeepWith=function(e,r){return ur(e,5,r=typeof r=="function"?r:i)},u.cloneWith=function(e,r){return ur(e,4,r=typeof r=="function"?r:i)},u.conformsTo=function(e,r){return r==null||Tu(e,r,Oe(r))},u.deburr=lf,u.defaultTo=function(e,r){return e==null||e!=e?r:e},u.divide=to,u.endsWith=function(e,r,n){e=fe(e),r=Je(r);var t=e.length,t=n=n===i?t:ln($(n),0,t);return 0<=(n-=r.length)&&e.slice(n,t)==r},u.eq=vr,u.escape=function(e){return(e=fe(e))&&tr.test(e)?e.replace(Pn,Uf):e},u.escapeRegExp=function(e){return(e=fe(e))&&$r.test(e)?e.replace(Dr,"\\$&"):e},u.every=function(e,r,n){return(P(e)?_u:fc)(e,B(r=n&&We(e,r,n)?i:r,3))},u.find=Uc,u.findIndex=Ea,u.findKey=function(e,r){return yu(e,B(r,3),Cr)},u.findLast=Fc,u.findLastIndex=Aa,u.findLastKey=function(e,r){return yu(e,B(r,3),qi)},u.floor=ai,u.forEach=Na,u.forEachRight=Pa,u.forIn=function(e,r){return e==null?e:Vi(e,B(r,3),He)},u.forInRight=function(e,r){return e==null?e:Fu(e,B(r,3),He)},u.forOwn=function(e,r){return e&&Cr(e,B(r,3))},u.forOwnRight=function(e,r){return e&&qi(e,B(r,3))},u.get=Ro,u.gt=Jc,u.gte=Qc,u.has=function(e,r){return e!=null&&Xa(e,r,cc)},u.hasIn=ko,u.head=Ba,u.identity=Ve,u.includes=function(e,r,n,t){return e=$e(e)?e:Tn(e),n=n&&!t?$(n):0,t=e.length,n<0&&(n=Me(t+n,0)),oi(e)?n<=t&&-1<e.indexOf(r,n):!!t&&-1<Cn(e,r,n)},u.indexOf=function(e,r,n){var t=e==null?0:e.length;return t?(n=n==null?0:$(n),Cn(e,r,n=n<0?Me(t+n,0):n)):-1},u.inRange=function(e,r,n){return r=Br(r),n===i?(n=r,r=0):n=Br(n),(e=e=cr(e))>=Ee(r=r,n=n)&&e<Me(r,n)},u.invoke=sl,u.isArguments=vn,u.isArray=P,u.isArrayBuffer=el,u.isArrayLike=$e,u.isArrayLikeObject=De,u.isBoolean=function(e){return e===!0||e===!1||je(e)&&Be(e)==Q},u.isBuffer=rn,u.isDate=rl,u.isElement=function(e){return je(e)&&e.nodeType===1&&!st(e)},u.isEmpty=function(e){if(e==null)return!0;if($e(e)&&(P(e)||typeof e=="string"||typeof e.splice=="function"||rn(e)||An(e)||vn(e)))return!e.length;var r,n=Ae(e);if(n==ce||n==F)return!e.size;if(ct(e))return!Ji(e).length;for(r in e)if(se.call(e,r))return!1;return!0},u.isEqual=function(e,r){return ut(e,r)},u.isEqualWith=function(e,r,n){var t=(n=typeof n=="function"?n:i)?n(e,r):i;return t===i?ut(e,r,i,n):!!t},u.isError=jo,u.isFinite=function(e){return typeof e=="number"&&Mu(e)},u.isFunction=Tr,u.isInteger=Za,u.isLength=ii,u.isMap=Ga,u.isMatch=function(e,r){return e===r||Gi(e,r,_o(r))},u.isMatchWith=function(e,r,n){return n=typeof n=="function"?n:i,Gi(e,r,_o(r),n)},u.isNaN=function(e){return Ja(e)&&e!=+e},u.isNative=function(e){if(xc(e))throw new N("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $u(e)},u.isNil=function(e){return e==null},u.isNull=function(e){return e===null},u.isNumber=Ja,u.isObject=Ye,u.isObjectLike=je,u.isPlainObject=st,u.isRegExp=Do,u.isSafeInteger=function(e){return Za(e)&&-I<=e&&e<=I},u.isSet=Qa,u.isString=oi,u.isSymbol=Qe,u.isTypedArray=An,u.isUndefined=function(e){return e===i},u.isWeakMap=function(e){return je(e)&&Ae(e)==er},u.isWeakSet=function(e){return je(e)&&Be(e)=="[object WeakSet]"},u.join=function(e,r){return e==null?"":Kf.call(e,r)},u.kebabCase=dl,u.last=fr,u.lastIndexOf=function(e,r,n){var t=e==null?0:e.length;if(!t)return-1;var o=t;return n!==i&&(o=(o=$(n))<0?Me(t+o,0):Ee(o,t-1)),r==r?function(a,f,c){for(var l=c+1;l--;)if(a[l]===f)return l;return l}(e,r,o):St(e,mu,o,!0)},u.lowerCase=_l,u.lowerFirst=yl,u.lt=nl,u.lte=tl,u.max=function(e){return e&&e.length?Wt(e,Ve,Ki):i},u.maxBy=function(e,r){return e&&e.length?Wt(e,B(r,2),Ki):i},u.mean=function(e){return wu(e,Ve)},u.meanBy=function(e,r){return wu(e,B(r,2))},u.min=function(e){return e&&e.length?Wt(e,Ve,Qi):i},u.minBy=function(e,r){return e&&e.length?Wt(e,B(r,2),Qi):i},u.stubArray=To,u.stubFalse=Bo,u.stubObject=function(){return{}},u.stubString=function(){return""},u.stubTrue=function(){return!0},u.multiply=Wi,u.nth=function(e,r){return e&&e.length?Zu(e,$(r)):i},u.noConflict=function(){return Ie._===this&&(Ie._=Vf),this},u.noop=Ao,u.now=ri,u.pad=function(e,r,n){e=fe(e);var t=(r=$(r))?Xn(e):0;return!r||r<=t?e:qt(Et(t=(r-t)/2),n)+e+qt(Lt(t),n)},u.padEnd=function(e,r,n){e=fe(e);var t=(r=$(r))?Xn(e):0;return r&&t<r?e+qt(r-t,n):e},u.padStart=function(e,r,n){e=fe(e);var t=(r=$(r))?Xn(e):0;return r&&t<r?qt(r-t,n)+e:e},u.parseInt=function(e,r,n){return r=n||r==null?0:r&&+r,Jf(fe(e).replace(_n,""),r||0)},u.random=function(e,r,n){var t;return n&&typeof n!="boolean"&&We(e,r,n)&&(r=n=i),n===i&&(typeof r=="boolean"?(n=r,r=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&r===i?(e=0,r=1):(e=Br(e),r===i?(r=e,e=0):r=Br(r)),r<e&&(t=e,e=r,r=t),n||e%1||r%1?(n=Ou(),Ee(e+n*(r-e+Of("1e-"+((n+"").length-1))),r)):ro(e,r)},u.reduce=function(e,r,n){var t=P(e)?Di:xu,o=arguments.length<3;return t(e,B(r,4),n,o,Gr)},u.reduceRight=function(e,r,n){var t=P(e)?Af:xu,o=arguments.length<3;return t(e,B(r,4),n,o,Wu)},u.repeat=function(e,r,n){return r=(n?We(e,r,n):r===i)?1:$(r),no(fe(e),r)},u.replace=function(){var e=arguments,r=fe(e[0]);return e.length<3?r:r.replace(e[1],e[2])},u.result=function(e,r,n){var t=-1,o=(r=Qr(r,e)).length;for(o||(o=1,e=i);++t<o;){var a=e==null?i:e[Xr(r[t])];a===i&&(t=o,a=n),e=Tr(a)?a.call(e):a}return e},u.round=co,u.runInContext=p,u.sample=function(e){return(P(e)?Eu:hc)(e)},u.size=function(e){if(e==null)return 0;if($e(e))return oi(e)?Xn(e):e.length;var r=Ae(e);return r==ce||r==F?e.size:Ji(e).length},u.snakeCase=ml,u.some=function(e,r,n){return(P(e)?Ri:gc)(e,B(r=n&&We(e,r,n)?i:r,3))},u.sortedIndex=function(e,r){return Nt(e,r)},u.sortedIndexBy=function(e,r,n){return io(e,r,B(n,2))},u.sortedIndexOf=function(e,r){var n=e==null?0:e.length;if(n){var t=Nt(e,r);if(t<n&&vr(e[t],r))return t}return-1},u.sortedLastIndex=function(e,r){return Nt(e,r,!0)},u.sortedLastIndexBy=function(e,r,n){return io(e,r,B(n,2),!0)},u.sortedLastIndexOf=function(e,r){if(e==null?0:e.length){var n=Nt(e,r,!0)-1;if(vr(e[n],r))return n}return-1},u.startCase=wl,u.startsWith=function(e,r,n){return e=fe(e),n=n==null?0:ln($(n),0,e.length),r=Je(r),e.slice(n,n+r.length)==r},u.subtract=Ni,u.sum=function(e){return e&&e.length?Oi(e,Ve):0},u.sumBy=function(e,r){return e&&e.length?Oi(e,B(r,2)):0},u.template=function(e,r,n){var t=u.templateSettings;n&&We(e,r,n)&&(r=i),e=fe(e),r=ui({},r,t,xa);var o,a,f=Oe(t=ui({},r.imports,t.imports,xa)),c=Li(t,f),l=0,t=r.interpolate||T,g="__p += '",t=Ai((r.escape||T).source+"|"+t.source+"|"+(t===wt?Ct:T).source+"|"+(r.evaluate||T).source+"|$","g"),_="//# sourceURL="+(se.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++kf+"]")+`
`;if(e.replace(t,function(x,S,R,z,j,Y){return R=R||z,g+=e.slice(l,Y).replace(K,Ff),S&&(o=!0,g+=`' +
__e(`+S+`) +
'`),j&&(a=!0,g+=`';
`+j+`;
__p += '`),R&&(g+=`' +
((__t = (`+R+`)) == null ? '' : __t) +
'`),l=Y+x.length,x}),g+=`';
`,r=se.call(r,"variable")&&r.variable){if(xi.test(r))throw new N("Invalid `variable` option passed into `_.template`")}else g=`with (obj) {
`+g+`
}
`;if(g=(a?g.replace(_t,""):g).replace(G,"$1").replace(nr,"$1;"),g="function("+(r||"obj")+`) {
`+(r?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+g+`return __p
}`,(r=hf(function(){return ee(f,_+"return "+g).apply(i,c)})).source=g,jo(r))throw r;return r},u.times=function(e,r){if((e=$(e))<1||I<e)return[];var n=L,t=Ee(e,L);for(r=B(r),e-=L,t=Ii(t,r);++n<e;)r(n);return t},u.toFinite=Br,u.toInteger=$,u.toLength=rf,u.toLower=function(e){return fe(e).toLowerCase()},u.toNumber=cr,u.toSafeInteger=function(e){return e?ln($(e),-I,I):e===0?e:0},u.toString=fe,u.toUpper=function(e){return fe(e).toUpperCase()},u.trim=function(e,r,n){return(e=fe(e))&&(n||r===i)?bu(e):e&&(r=Je(r))?(e=sr(e),r=sr(r),en(e,Cu(e,r),Yu(e,r)+1).join("")):e},u.trimEnd=function(e,r,n){return(e=fe(e))&&(n||r===i)?e.slice(0,Su(e)+1):e&&(r=Je(r))?en(e=sr(e),0,Yu(e,sr(r))+1).join(""):e},u.trimStart=function(e,r,n){return(e=fe(e))&&(n||r===i)?e.replace(_n,""):e&&(r=Je(r))?en(e=sr(e),Cu(e,sr(r))).join(""):e},u.truncate=function(e,r){var n,t=30,o="...";Ye(r)&&(n="separator"in r?r.separator:n,t="length"in r?$(r.length):t,o="omission"in r?Je(r.omission):o);var a,r=(e=fe(e)).length;if((r=Yn(e)?(a=sr(e)).length:r)<=t)return e;if((r=t-Xn(o))<1)return o;if(t=a?en(a,0,r).join(""):e.slice(0,r),n===i)return t+o;if(a&&(r+=t.length-r),Do(n)){if(e.slice(r).search(n)){var f,c=t;for((n=n.global?n:Ai(n.source,fe(s.exec(n))+"g")).lastIndex=0;f=n.exec(c);)var l=f.index;t=t.slice(0,l===i?r:l)}}else e.indexOf(Je(n),r)==r||-1<(r=t.lastIndexOf(n))&&(t=t.slice(0,r));return t+o},u.unescape=function(e){return(e=fe(e))&&yt.test(e)?e.replace(qe,Nf):e},u.uniqueId=function(e){var r=++$f;return fe(e)+r},u.upperCase=Ti,u.upperFirst=Mo,u.each=Na,u.eachRight=Pa,u.first=Ba,Eo(u,(Wo={},Cr(u,function(e,r){se.call(u.prototype,r)||(Wo[r]=e)}),Wo),{chain:!1}),u.VERSION="4.17.21",ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),ir(["drop","take"],function(e,r){J.prototype[e]=function(n){n=n===i?1:Me($(n),0);var t=this.__filtered__&&!r?new J(this):this.clone();return t.__filtered__?t.__takeCount__=Ee(n,t.__takeCount__):t.__views__.push({size:Ee(n,L),type:e+(t.__dir__<0?"Right":"")}),t},J.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),ir(["filter","map","takeWhile"],function(e,r){var n=r+1,t=n==1||n==3;J.prototype[e]=function(o){var a=this.clone();return a.__iteratees__.push({iteratee:B(o,3),type:n}),a.__filtered__=a.__filtered__||t,a}}),ir(["head","last"],function(e,r){var n="take"+(r?"Right":"");J.prototype[e]=function(){return this[n](1).value()[0]}}),ir(["initial","tail"],function(e,r){var n="drop"+(r?"":"Right");J.prototype[e]=function(){return this.__filtered__?new J(this):this[n](1)}}),J.prototype.compact=function(){return this.filter(Ve)},J.prototype.find=function(e){return this.filter(e).head()},J.prototype.findLast=function(e){return this.reverse().find(e)},J.prototype.invokeMap=V(function(e,r){return typeof e=="function"?new J(this):this.map(function(n){return ot(n,e,r)})}),J.prototype.reject=function(e){return this.filter(ti(B(e)))},J.prototype.slice=function(e,r){e=$(e);var n=this;return n.__filtered__&&(0<e||r<0)?new J(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),r!==i?(r=$(r))<0?n.dropRight(-r):n.take(r-e):n)},J.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},J.prototype.toArray=function(){return this.take(L)},Cr(J.prototype,function(e,r){var n=/^(?:filter|find|map|reject)|While$/.test(r),t=/^(?:head|last)$/.test(r),o=u[t?"take"+(r=="last"?"Right":""):r],a=t||/^find/.test(r);o&&(u.prototype[r]=function(){function f(j){return j=o.apply(u,Kr([j],l)),t&&S?j[0]:j}var c=this.__wrapped__,l=t?[1]:arguments,g=c instanceof J,_=l[0],x=g||P(c);x&&n&&typeof _=="function"&&_.length!=1&&(g=x=!1);var S=this.__chain__,R=!!this.__actions__.length,_=a&&!S,R=g&&!R;if(a||!x)return _&&R?e.apply(this,l):(z=this.thru(f),_?t?z.value()[0]:z.value():z);var c=R?c:new J(this),z=e.apply(c,l);return z.__actions__.push({func:Qt,args:[f],thisArg:i}),new hr(z,S)})}),ir(["pop","push","shift","sort","splice","unshift"],function(e){var r=jt[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",t=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var o=arguments;if(!t||this.__chain__)return this[n](function(f){return r.apply(P(f)?f:[],o)});var a=this.value();return r.apply(P(a)?a:[],o)}}),Cr(J.prototype,function(e,r){var n,t=u[r];t&&(n=t.name+"",se.call(kn,n)||(kn[n]=[]),kn[n].push({name:r,func:t}))}),kn[Ht(i,2).name]=[{name:"wrapper",func:i}],J.prototype.clone=function(){var e=new J(this.__wrapped__);return e.__actions__=Pe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pe(this.__views__),e},J.prototype.reverse=function(){var e;return this.__filtered__?((e=new J(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},J.prototype.value=function(){var e=this.__wrapped__.value(),r=this.__dir__,n=P(e),t=r<0,o=n?e.length:0,a=function(X,O,re){for(var oe=-1,Re=re.length;++oe<Re;){var Xe=re[oe],ve=Xe.size;switch(Xe.type){case"drop":X+=ve;break;case"dropRight":O-=ve;break;case"take":O=Ee(O,X+ve);break;case"takeRight":X=Me(X,O-ve)}}return{start:X,end:O}}(0,o,this.__views__),f=a.start,c=(a=a.end)-f,l=t?a:f-1,g=this.__iteratees__,_=g.length,x=0,S=Ee(c,this.__takeCount__);if(!n||!t&&o==c&&S==c)return ia(e,this.__actions__);var R=[];e:for(;c--&&x<S;){for(var z=-1,j=e[l+=r];++z<_;){var Y=g[z],b=Y.iteratee,Y=Y.type,b=b(j);if(Y==2)j=b;else if(!b){if(Y==1)continue e;break e}}R[x++]=j}return R},u.prototype.at=Bc,u.prototype.chain=function(){return Fa(this)},u.prototype.commit=function(){return new hr(this.value(),this.__chain__)},u.prototype.next=function(){this.__values__===i&&(this.__values__=ef(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},u.prototype.plant=function(e){for(var r,n=this;n instanceof Tt;){var t=La(n);t.__index__=0,t.__values__=i,r?o.__wrapped__=t:r=t;var o=t,n=n.__wrapped__}return o.__wrapped__=e,r},u.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof J?(e=e,(e=(e=this.__actions__.length?new J(this):e).reverse()).__actions__.push({func:Qt,args:[Yo],thisArg:i}),new hr(e,this.__chain__)):this.thru(Yo)},u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return ia(this.__wrapped__,this.__actions__)},u.prototype.first=u.prototype.head,Gn&&(u.prototype[Gn]=function(){return this}),u}();on?((on.exports=Sn)._=Sn,xr._=Sn):Ie._=Sn}.call(Bn);const Wr=1e5,_r=window.devicePixelRatio||1,vt={tagConfig:{fillStyle:"rgba(242, 88, 85, 0.5)",textFillStyle:"rgba(255, 255, 255, 0.6)",hoverStrokeStyle:"#F25856",hoverLineWidth:1,hoverLineDash:[5],highlightStrokeStyle:"yellow",highlightLineWidth:2,highlightLineDash:[5]},layerConfig:{fillStyle:"rgba(0, 0, 0, 0.6)"},cropConfig:{lineDash:[],strokeStyle:"rgba(255, 255, 255, 1)",lineWidth:2}},Wn={width:0,height:0},Ur={x:void 0,y:void 0};function Un(i){i.clearRect(-Wr/2,-Wr/2,Wr,Wr)}function gt(i,v,y,h,k,I){i.drawImage(v,y,h,k,I)}function No(i,v){i.fillStyle=v.layerConfig.fillStyle,i.fillRect(-Wr/2,-Wr/2,Wr,Wr)}function Po(i,v,y,h,k){i.clearRect(v,y,h,k)}function $o(i,v,y,h,k,I){i.setLineDash(I.cropConfig.lineDash),i.strokeStyle=I.cropConfig.strokeStyle,i.lineWidth=I.cropConfig.lineWidth,i.strokeRect(v,y,h,k)}function Ho(i){return i=i.getClientRects()[0],i?{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}:void 0}function dt(i,v){i.canvas.width=v.width,i.canvas.height=v.height}function Vo(i){let v=Object.prototype.toString.call(i);return v.slice(8,v.length-1)}function si(i,v=["width","height"]){try{if(Vo(i)==="Number")return i*_r;v.forEach(y=>{i[y]*=_r})}catch(y){console.error("ERROR",i,Vo(i),y)}return i}function qo(i){return Array.from(i.touches||[]).map(v=>si({clientX:v.clientX,clientY:v.clientY},["clientX","clientY"]))}function Ko(i,v,y,h,k,I,ne){ne||(Un(i),No(i,I)),Po(i,v,y,h,k),$o(i,v,y,h,k,I)}function nn(i,v,y,h,k,I){I||(Un(i),No(i,h)),v.forEach(ne=>{let L=tn(ne,ne.scale,y);k&&(L[0]+=k.offsetX,L[1]+=k.offsetY),Po(i,...L),$o(i,...L,h)})}function hi(i,v,y=1,h={x:0,y:0}){let k=[],I=[];return v.map(L=>function(q,D,ae){let Q=de.exports.cloneDeep(q);return Q.startX=Q.startX*D+ae.x,Q.endX=Q.endX*D+ae.x,Q.startY=Q.startY*D+ae.y,Q.endY=Q.endY*D+ae.y,Q}(L,y,h)).forEach((L,q)=>{!function(D,ae){return D.x>=ae.startX&&D.x<=ae.endX&&D.y>=ae.startY&&D.y<=ae.endY}(i,L)||(k.push(v[q]),I.push(q))}),{boxList:k,indexList:I}}function pi(i,v){let y=v[0],h=v[0]+v[2],k=v[1],I=v[1]+v[3];return i.x>=y&&i.x<=h&&i.y>=k&&i.y<=I}function vi(i,v){var y=Math.abs(v.x-i.x),h=Math.abs(v.y-i.y);return[Math.min(i.x,v.x),Math.min(i.y,v.y),y,h]}function yr(i){let v=de.exports.cloneDeep(i);var{startX:y,startY:h,endX:k,endY:I}=v,ne=Math.abs(y-k),i=Math.abs(h-I),y=Math.min(y,k),h=Math.min(h,I);return v.startX=y,v.startY=h,v.endX=y+ne,v.endY=h+i,{info:v,position:[y,h,ne,i]}}function Fn(i,v){var y=yr(i),h=yr(v),i=Math.min(y.info.startY,h.info.startY),v=Math.max(y.info.endY,h.info.endY);let k;Math.abs(v-i)<y.position[3]+h.position[3]&&(k={startY:Math.max(y.info.startY,h.info.startY),endY:Math.min(y.info.endY,h.info.endY)}),v=Math.min(y.info.startX,h.info.startX),i=Math.max(y.info.endX,h.info.endX);let I;if(Math.abs(i-v)<y.position[2]+h.position[2]&&(I={startX:Math.max(y.info.startX,h.info.startX),endX:Math.min(y.info.endX,h.info.endX)}),I!==void 0&&k!==void 0)return Object.assign(k,I)}function tn(i,v=1,y={x:0,y:0}){var h=yr(i),{startX:k,startY:I}=h.info,i=h.position[2],h=h.position[3];return[k*v+y.x,I*v+y.y,i*v,h*v]}function gi(i){return i=tn(i),5<=i[2]&&5<=i[3]}function Zo(i,v,y,h,k,I,ne,L,q,D,ae){if(L||q){var Q;if(!q||L&&L.type==="move"||(i.fillStyle=I.tagConfig.fillStyle,i.fillRect(v,y,h,k),ne&&(Q=parseFloat(i.font.split(" ")[0]),i.fillStyle=I.tagConfig.textFillStyle,i.fillText(ae||ne+"",v+4,y+k/2+Q/2))),D&&(i.strokeStyle=I.tagConfig.highlightStrokeStyle,i.lineWidth=I.tagConfig.highlightLineWidth,i.setLineDash(I.tagConfig.highlightLineDash),i.strokeRect(v,y,h,k)),L&&pi(L,[v,y,h,k])){if(L.type==="click")return{isShow:q=!q,isCrash:!0};L.type!=="move"||q||(i.strokeStyle=I.tagConfig.hoverStrokeStyle,i.lineWidth=I.tagConfig.hoverLineWidth,i.setLineDash(I.tagConfig.hoverLineDash),i.strokeRect(v,y,h,k))}}}function Fr(i,v,y,h,k={offsetX:0,offsetY:0},I){let ne=!1,L=[];return v.forEach((q,D)=>{let ae=tn(q,q.scale,y);ae[0]+=k.offsetX,ae[1]+=k.offsetY,D=Zo(i,...ae,h,D+1,I,q.isShow,q.showOutLine,q.labelText),D!==void 0&&(q.isShow=D.isShow,D.isCrash&&(ne=!0,L.push(q)))}),{isReDraw:ne,redrawList:L}}function Go(i,v,y){return y=Qo({x:i[0],y:i[1]},v,y),i[0]=y.x,i[1]=y.y,i[2]/=v/_r,i[3]/=v/_r,i}function Jo(i,v,y){var h=vi(i,v),k=(v.x-i.x)/y*_r,y=(v.y-i.y)/y*_r;let I=!1;return(5<h[2]||5<h[3])&&(I=!0),{isStartMove:I,offsetInfo:{offsetX:k,offsetY:y}}}function Qo(i,v,y){return{x:i.x/v*_r+y.x,y:i.y/v*_r+y.y}}function di(i,v,y,h){return y=Qo({x:i.layerX,y:i.layerY},v,y),{x:y.x,y:y.y,type:h}}function eu(i,v,y,h,k){k=di(i,y,k,"move");let I=v.map((L,q)=>{return D=h,q=q,D=tn(L,L.scale,D),[{index:q,name:"left-top",type:"vertex",positions:[D[0]-3,D[1]-3,6,6]},{index:q,name:"right-top",type:"vertex",positions:[D[0]+D[2]-3,D[1]-3,6,6]},{index:q,name:"left-bottom",type:"vertex",positions:[D[0]-3,D[1]+D[3]-3,6,6]},{index:q,name:"right-bottom",type:"vertex",positions:[D[0]+D[2]-3,D[1]+D[3]-3,6,6]},{index:q,name:"left",type:"border",positions:[D[0]-3,D[1]+3,6,D[3]-3]},{index:q,name:"top",type:"border",positions:[D[0]+3,D[1]-3,D[2]-3,6]},{index:q,name:"right",type:"border",positions:[D[0]+D[2]-3,D[1]+3,6,D[3]-3]},{index:q,name:"bottom",type:"border",positions:[D[0]+3,D[1]+D[3]-3,D[2]-3,6]}];var D}).flat(),ne=function(L,q){let D=!1,ae=[],Q=[];return q.forEach((ue,H)=>{pi(L,ue)&&(D=!0,ae.push(ue),Q.push(H))}),{hasIn:D,coverList:ae,coverIndexList:Q}}(k,I.map(L=>L.positions));return{hasIn:ne.hasIn,list:ne.coverIndexList.map(L=>I[L])}}function ru(i){if(i=i.find(v=>v.type==="vertex")||i[0],!i)throw new Error("findOneBorderOrVertex list may be empty.");return i}function vf(i,v,y,h,k,I,ne,L,q,D,ae){if(v&&v.x!==void 0&&y&&y.x!==void 0&&(y=Jo(v,y,I),y.isStartMove)){var{offsetX:I,offsetY:y}=y.offsetInfo,k=tn(function(me,te,ce){if(!ce)return me;let xe=de.exports.cloneDeep(me),_e=ce.name;var{offsetX:ce,offsetY:te}=te;return _e.includes("left")&&(xe.startX+=ce),_e.includes("top")&&(xe.startY+=te),_e.includes("right")&&(xe.endX+=ce),_e.includes("bottom")&&(xe.endY+=te),xe}(h,{offsetX:I/k,offsetY:y/k},q),k,ne);return nn(i,D,ne,ae),Ko(i,...k,ae,!0),Fr(i,L,ne,ae),k}}function nu(i,v){return Math.abs(i-v)}function tu(i){return{width:nu(i[0].clientX,i[1].clientX),height:nu(i[0].clientY,i[1].clientY)}}function iu(i,v,y=1){return yr({startX:(i[0]-v.x)/y,startY:(i[1]-v.y)/y,endX:(i[0]+i[2]-v.x)/y,endY:(i[1]+i[3]-v.y)/y}).info}function Nr(i,v,y){return i.map(h=>(h.scale!==1&&(h.scale=v),yr(_i(h,y)).info))}function ou(i,v){for(const y of v)if(Fn(i,y))return!0;return!1}function uu(i,v){return v=Fn(i,v),!(!v||v.startX!==i.startX||v.endX!==i.endX||v.startY!==i.startY||v.endY!==i.endY)}function au(i,v,y){let h=de.exports.cloneDeep(y);return i==="img"&&(h.startX=h.startX+v.startX,h.startY=h.startY+v.startY,h.endX=h.endX+v.startX,h.endY=h.endY+v.startY),i==="crop"&&(h.startX=h.startX-v.startX,h.startY=h.startY-v.startY,h.endX=h.endX-v.startX,h.endY=h.endY-v.startY),h}function _i(i,v){return i.startX=parseFloat(i.startX.toFixed(v)),i.endX=parseFloat(i.endX.toFixed(v)),i.startY=parseFloat(i.startY.toFixed(v)),i.endY=parseFloat(i.endY.toFixed(v)),i}var gf=(i,v)=>{const y=i.__vccOpts||i;for(var[h,k]of v)y[h]=k;return y},Nn=i=>(U.pushScopeId("data-v-3600e9f0"),i=i(),U.popScopeId(),i);const df=["onMousedown","onClick","onMouseup","onMousemove","onMouseout","onMousewheel","onTouchmove","onTouchstart","onTouchend"],_f={key:0,class:"mode-panel"},yf={class:"status"},mf={class:"text"},wf={class:"tip"},xf=Nn(()=>U.createElementVNode("kbd",null,"Ctrl",-1)),bf=U.createTextVNode(" + "),Cf=Nn(()=>U.createElementVNode("kbd",null,"B",-1)),Yf=Nn(()=>U.createElementVNode("span",{style:{"font-size":"14px","margin-left":"10px"}},"\u5207\u6362\u6A21\u5F0F",-1));Nn=U.defineComponent({props:{cropConfig:{default:()=>vt.cropConfig},layerConfig:{default:()=>vt.layerConfig},tagConfig:{default:()=>vt.tagConfig},isShowTip:{type:Boolean,default:!1},enableScale:{type:Boolean,default:!0},enableMove:{type:Boolean,default:!0},enableDrawCrop:{type:Boolean,default:!0},enableDrawTag:{type:Boolean,default:!0},enableInteractiveTagChangeStatus:{type:Boolean,default:!0},enableCropCross:{type:Boolean,default:!1},handleResizeCropCross:{default:"reset"},enableInteractiveCropDelete:{type:Boolean,default:!0},enableCropResize:{type:Boolean,default:!0},enableDrawCropOutOfImg:{type:Boolean,default:!0},enableDrawTagOutOfCrop:{type:Boolean,default:!0},enableDrawTagOutOfImg:{type:Boolean,default:!0},cropList:{default:()=>Array()},tagList:{default:()=>Array()},mode:{default:"crop"},src:null,precision:{default:0}},emits:["update:cropList","cropListChange","update:tagList","tagListChange","update:mode","resizeStart","resizeEnd","delCrop"],setup(i,{expose:v,emit:y}){const h=i;let k=!1,I,ne,L={last:{down:void 0,up:void 0},prev:{down:void 0,up:void 0}},q=.1,D=!1;function ae(){D=!1,q=.1,G.resizeCropHovering=void 0}let Q=!1,ue=null,H=null,me,te=de.exports.cloneDeep(Wn),ce=de.exports.cloneDeep(Wn),xe=de.exports.cloneDeep(Ur),_e=de.exports.cloneDeep(Ur),gn={x:0,y:0},Pr=0,F={x:0,y:0},he={x:0,y:0},pe=1,er,Fe,mr=1,lr,be=1,wr,jr,Se=[],ie=[],Te=U.computed(()=>{var s=de.exports.cloneDeep(vt);return Object.assign(s.cropConfig,h.cropConfig),Object.assign(s.tagConfig,h.tagConfig),Object.assign(s.layerConfig,h.layerConfig),s}),rr=U.ref(),dn=U.ref(),_t=U.ref(),G={isScaleing:!1,isDrawRecting:!1,isMoving:!1,resizeCropHovering:void 0,isMouseDown:()=>xe.x!==void 0,isMouseUpDownPoints:()=>xe.x!==void 0&&_e.x!==void 0},nr={dragCreatRectInterrupt(){Hn()},dragCreatOrResizeRect(s){H&&(G.isDrawRecting=!0,s=="drawCrop"&&(wr=function(w,C,M,A,W,ze,T,K){if(C.x!==void 0&&M.x!==void 0&&(W=Go(vi(C,M),A,W),5<W[2]||5<W[3]))return nn(w,ze,T,K),Ko(w,...W,K,!0),W}(H,xe,_e,be,he,ie,F,Te.value),Fr(H,Se,F,Te.value)),s=="drawTag"&&(nn(H,ie,F,Te.value),jr=function(w,C,M,A,W,ze,T,K){if(C.x!==void 0&&M.x!==void 0&&(W=Go(vi(C,M),A,W),5<W[2]||5<W[3]))return Fr(w,ze,T,K),Zo(w,...W,K,ze.length+1,void 0,!0),W}(H,xe,_e,be,he,Se,F,Te.value)),s=="resizeCrop"&&(h.enableCropResize&&G.resizeCropHovering?(s=ie[G.resizeCropHovering.index||0],G.resizeCropHovering&&s&&(wr=vf(H,xe,_e,s,s.scale||1,be,F,Se,G.resizeCropHovering,ie.filter((w,C)=>{var M;return C!==((M=G.resizeCropHovering)==null?void 0:M.index)}),Te.value))):nr.move()))},changeMode(){h.mode==="tag"?y("update:mode","crop"):y("update:mode","tag")},scale(s,w){if(!me||!ue||!H)throw new Error("can't find canvas ctx or img");G.isScaleing=!0,ue.translate(he.x,he.y),H.translate(he.x,he.y),he={x:he.x-(w.x/(be*s)-w.x/be),y:he.y-(w.y/(be*s)-w.y/be)},ue.scale(s,s),H.scale(s,s),ue.translate(-he.x,-he.y),H.translate(-he.x,-he.y),be*=s,H.font="20px serif",Un(ue),Un(H),gt(ue,me,F.x,F.y,ce.width*pe,ce.height*pe),tr(),D=!1,G.isScaleing=!1},move(){var s;h.enableMove&&ue&&H&&me&&!G.isScaleing&&(G.isMoving=!0,(s=function(w,C,M,A,W,ze,T,K,ke,Z,Rr,Ke){if(T.x!==void 0&&K.x!==void 0){var Ne=Jo(T,K,Z);if(Ne.isStartMove){var{offsetX:T,offsetY:K}=Ne.offsetInfo;return Un(w),Z={x:ze.x+T,y:ze.y+K},gt(w,M,Z.x,Z.y,A.width*W,A.height*W),nn(C,ke,ze,Ke,Ne.offsetInfo),Fr(C,Rr,ze,Ke,{offsetX:T,offsetY:K}),{offsetX:T,offsetY:K}}}}(ue,H,me,ce,pe,F,xe,_e,ie,be,Se,Te.value))&&(Fe=de.exports.cloneDeep(F),Fe&&(Fe.x+=s.offsetX,Fe.y+=s.offsetY)))},hoverRect(s){var w,C,M,A,W,ze,T;H&&(D=function(K,ke,Z,Rr,Ke,Ne,xr,yn,Ci,Hr,mn){if(ke==="tag"&&!Ci){let wn=Z.filter(kr=>!kr.isShow),xn=!1,Kn=di(xr,Rr,Ne,"move"),Vr=[];wn.forEach(kr=>{var Yt=tn(kr,kr.scale,Ke);pi(Kn,Yt)&&(Vr.push(kr),xn=!0)}),xn?(Hr=!0,Fr(K,Vr,Ke,mn,void 0,Kn)):Hr&&(nn(K,yn,Ke,mn),Fr(K,Z,Ke,mn),Hr=!1)}return Hr}(H,h.mode,Se,be,F,he,s,ie,G.isScaleing,D,Te.value),h.enableCropResize&&(w=rr.value,C=s,M=h.mode,A=ie,W=be,ze=F,T=he,s=G.isScaleing,M!=="crop"||s||((T=eu(C,A,W,ze,T)).hasIn?((T=ru(T.list).name)!=="left-top"&&T!=="right-bottom"||(w.style.cursor="nwse-resize"),T!=="right-top"&&T!=="left-bottom"||(w.style.cursor="nesw-resize"),T!=="left"&&T!=="right"||(w.style.cursor="col-resize"),T!=="top"&&T!=="bottom"||(w.style.cursor="row-resize")):w.style.cursor="auto")))}},qe={onKeyUpCtrlB(){nr.changeMode()},onKeyUpSpace(){G.isMoving||G.resizeCropHovering||nr.dragCreatRectInterrupt(),k=!1},onKeyDownSpace(){(h.enableDrawCrop&&h.mode==="crop"||h.enableDrawTag&&h.mode==="tag")&&(rr.value.style.cursor="crosshair"),G.isMouseDown()||(k=!0)},onMouseOverMove(s){G.isMouseDown()?this.onHoldMouseLeftBtnMove(s):nr.hoverRect(s)},onSpaceMove(){h.mode==="crop"?h.enableDrawCrop&&nr.dragCreatOrResizeRect("drawCrop"):h.enableDrawTag&&nr.dragCreatOrResizeRect("drawTag")},onHoldMouseLeftBtnMove(s){_e={x:s.layerX,y:s.layerY},k?this.onSpaceMove():(h.mode==="tag"&&nr.move(),h.mode==="crop"&&(G.resizeCropHovering?nr.dragCreatOrResizeRect("resizeCrop"):nr.move()))},onDoubleClick(s){h.mode==="crop"&&h.enableInteractiveCropDelete&&Ct(hi(s,ie,pe,F).boxList)},onCick(s){var w;h.mode==="tag"&&H&&h.enableInteractiveTagChangeStatus&&(nn(H,ie,F,Te.value),{isReDraw:w,redrawList:s}=Fr(H,Se,F,Te.value,void 0,s),w&&(tr(),qn("statusChange",Dr(s))))},onWheel(s,w,C){(h.enableScale||C)&&nr.scale(s,w)},init(){(async function(){ae(),Q=!1,ue=null,H=null,me=void 0,te=de.exports.cloneDeep(Wn),ce=de.exports.cloneDeep(Wn),xe=de.exports.cloneDeep(Ur),_e=de.exports.cloneDeep(Ur),F={x:0,y:0},he={x:0,y:0},pe=1,er=void 0,Fe=void 0,mr=1,lr=void 0,be=1,wr=void 0,jr=void 0,Se=[],ie=[],await U.nextTick(),function(){if(1<h.cropList.length){let w={startX:1/0,startY:1/0,endX:-1/0,endY:-1/0};h.cropList.forEach(C=>{C=yr(C),C.info.startX<w.startX&&(w.startX=C.info.startX),C.info.startY<w.startY&&(w.startY=C.info.startY),C.info.endX>w.endX&&(w.endX=C.info.endX),C.info.endY>w.endY&&(w.endY=C.info.endY)}),er=w}h.cropList.length==1&&(er=h.cropList[0])}(),Se=de.exports.cloneDeep(h.tagList),ie=de.exports.cloneDeep(h.cropList);var s=rr.value.getBoundingClientRect();return lr={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y},document.addEventListener("keydown",Pn),document.addEventListener("keyup",yt),ue=dn.value.getContext("2d"),H=_t.value.getContext("2d"),ue&&H?(te=si(Ho(ue.canvas)),te?(dt(ue,te),dt(H,te),function(w){let C=new Image;return C.src=w,new Promise((M,A)=>{C.complete?M(C):(C.onload=function(){M(C)},C.onerror=function(){A("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25:"+C.src)})})}(h.src).then(w=>{if(!te||!ue||!H)return Promise.reject("canvasWH or canvas var not has valid values.");me=w,ce={width:me.width,height:me.height};var C,M,A,W,ze=(W=te,A=me,M=W.width/A.width,A=W.height/A.height,{scale:M<A?M:A,fit:M<A?"height":"width"});return pe=mr=ze.scale,er?(C=tn(er,mr,F),w=(te.width-.05*te.width)/C[2],W=(te.height-.05*te.height)/C[3],M=C[2]>=C[3]?w:W,A=C[0]+C[2],W=C[1]+C[3],(M=M)==w?(F.x=te.width/M-A-te.width/M*.05/2,F.y=(te.height/M-C[3])/2-C[1]):(F.x=(te.width/M-C[2])/2-C[0],F.y=te.height/M-W-te.height/M*.05/2),$n({deltaY:1,clientX:0,clientY:0,preventDefault(){},__zoom:M},!0)):(ze.fit==="width"?F.x=(te.width-ce.width*pe)/2:F.y=(te.height-ce.height*pe)/2,er={startX:0,startY:0,endX:0+ce.width,endY:0+ce.height}),gt(ue,me,F.x,F.y,me.width*pe,me.height*pe),ie=Nr(ie,pe,h.precision),Se=Nr(Se,pe,h.precision),tr(),!0})):Promise.reject("Error: can't get canvas height and width.")):Promise.reject("Error: can't find canvas element.")})().then(()=>{Q=!0})},resize(){requestAnimationFrame(()=>{console.log("resized"),async function(){Q=!1,te=de.exports.cloneDeep(Wn),xe=de.exports.cloneDeep(Ur),_e=de.exports.cloneDeep(Ur),lr=void 0,await U.nextTick();var s=rr.value.getBoundingClientRect();if(lr={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y},ue&&H&&me){if(te=si(Ho(ue.canvas)),!te)return Promise.reject("Error: can't get canvas height and width.");dt(ue,te),dt(H,te),ue.scale(be,be),H.scale(be,be),ue.translate(-he.x,-he.y),H.translate(-he.x,-he.y),gt(ue,me,F.x,F.y,me.width*pe,me.height*pe),ie=Nr(ie,pe,h.precision),Se=Nr(Se,pe,h.precision),tr(),Q=!0}else console.error("ctx or ctx2 or img can't find on resize.")}()})}};function Pn(s){s.code==="Space"&&(s.preventDefault(),qe.onKeyDownSpace())}function yt(s){s.code==="KeyB"&&s.ctrlKey&&qe.onKeyUpCtrlB(),s.code==="Space"&&qe.onKeyUpSpace()}function tr(){H&&(nn(H,ie,F,Te.value),Fr(H,Se,F,Te.value))}function mt(){qe.resize()}function $n(s,w){let C=s;if(!lr)throw new Error("can't find  containerInfo.");var M,A;(Q||C.__zoom)&&(C.preventDefault(),G.isDrawRecting||G.isMoving||(M=w?0:(C.clientX-lr.left)*_r,A=w?0:(C.clientY-lr.top)*_r,s=C.deltaY<0?1:-1,s=w?C.__zoom:Math.exp(s*q),be*s<.2||qe.onWheel(s,{x:M,y:A},w)))}function wt(s){G.resizeCropHovering&&(ie[G.resizeCropHovering.index]=s,y("resizeEnd",{index:G.resizeCropHovering.index,box:s}),Vn("resize",$r([s])))}function Hn(){if(Q){var s,w;if(G.isMoving=!1,Fe&&(F=de.exports.cloneDeep(Fe)),Fe=void 0,G.isMouseUpDownPoints())if(h.mode==="crop"){if(wr){let C=iu(wr,F,pe);G.resizeCropHovering?!h.enableCropCross&&ou(C,ie.filter((M,A)=>{var W;return A!==((W=G.resizeCropHovering)==null?void 0:W.index)}))?(h.handleResizeCropCross==="reset"&&tr(),h.handleResizeCropCross==="delete"&&Ct([ie[G.resizeCropHovering.index]])):wt(C):(C.scale=1,!h.enableCropCross&&ou(C,ie)?tr():(ie.push(C),Vn("add",$r([C])))),wr=void 0}}else jr&&(s=xe,w=_e,s=(s.x<=w.x?"left":"right")+"-"+(s.y<=w.y?"top":"bottom"),w=iu(jr,F),Object.assign(w,{scale:1,isShow:!0,__newAdd:!0,__vertexPosition:s}),Se.push(w),qn("add",Dr([w])),jr=void 0);G.resizeCropHovering=void 0,G.isDrawRecting=!1,xe=de.exports.cloneDeep(Ur),_e=de.exports.cloneDeep(Ur),rr.value.style.cursor="auto"}}function Vn(s,w){var C=$r(ie);y("update:cropList",C),y("cropListChange",{type:s,list:w})}function qn(s,w){var C=Dr(Se);y("update:tagList",C),y("tagListChange",{type:s,list:w})}function Dr(s,w,C,M){let A=s||Se,W=w||ie,ze=[];return A.forEach(T=>{let K=de.exports.cloneDeep(T);var ke=T.scale===1?C||pe:1;if(Object.assign(K,{startX:T.startX/ke,startY:T.startY/ke,endX:T.endX/ke,endY:T.endY/ke}),K.scale===1&&delete K.scale,!h.enableDrawTagOutOfCrop&&K.__newAdd&&K.__vertexPosition){if(T=hi((T=K,{x:(ke=(ke=K.__vertexPosition).split("-"))[0]==="left"?T.startX:T.endX,y:ke[1]==="top"?T.startY:T.endY}),W).boxList[0],!T)return;T=Fn(K,T),T&&gi(T)?Object.assign(K,T):K.__isValidity=!1}delete K.__newAdd,h.enableDrawTagOutOfCrop&&!h.enableDrawTagOutOfImg&&(Z={startX:0,startY:0,endX:(Z=M||ce).width,endY:Z.height},(Z=Fn(K,Z))&&gi(Z)?Object.assign(K,Z):K.__isValidity=!1);var Z=yr(K);ze.push(_i(Z.info,h.precision))}),ze.filter(T=>T.__isValidity!==!1)}function $r(s){return(s||ie).map(M=>{let A={startX:M.startX,startY:M.startY,endX:M.endX,endY:M.endY,_del:!1};return h.enableDrawCropOutOfImg||(M={startX:0,startY:0,endX:(M=ce).width,endY:M.height},(M=Fn(A,M))&&gi(M)?A=M:A._del=!0),_i(yr(A).info,h.precision)}).filter(M=>!M._del)}function _n(s){var w;Q&&ue&&H&&(w=new Date().getTime(),I=w,L.prev.down?L.last.down=w:L.prev.down=w,s=s,xe={x:s.layerX,y:s.layerY},h.mode!=="crop"||k||!h.enableCropResize||(s=eu(s,ie,be,F,he)).hasIn&&(G.resizeCropHovering=ru(s.list),y("resizeStart",{index:G.resizeCropHovering.index,box:ie[G.resizeCropHovering.index]})))}function xt(s){Q&&(s=s,ne=new Date().getTime(),qe.onMouseOverMove(s))}function bt(){var s;Q&&(s=new Date().getTime(),L.prev.up?L.last.up=s:L.prev.up=s,Hn())}function yi(){Q&&(rr.value.style.cursor="auto",Hn())}function mi(s){var w;Q&&(w=di(s,be,he,"click"),s=ne&&I?ne-I:0,I=void 0,ne=void 0,100<s||(qe.onCick(w),L.prev.up&&L.prev.down&&L.last.up&&L.last.down&&(L.last.up-L.prev.down<360&&qe.onDoubleClick(w),L.prev.down=L.last.down,L.prev.up=L.last.up,L.last.down=void 0,L.last.up=void 0)))}function wi(s){I=new Date().getTime();var w=qo(s);s.touches.length===1&&_n({layerX:w[0].clientX,layerY:w[0].clientY}),s.touches.length==2&&(tu(w),gn={x:(w[0].clientX+w[1].clientX)/2,y:(w[0].clientY+w[1].clientY)/2})}async function xi(s){ne=new Date().getTime();var w=qo(s);s.touches.length===1&&xt({layerX:w[0].clientX,layerY:w[0].clientY}),s.touches.length==2&&({width:s,height:w}=tu(w),w=w,w=-((s=Math.sqrt(Math.pow(s,2)+Math.pow(w,2)))-Pr),Pr=s,$n({onTouchMove:!0,deltaY:w,preventDefault(){console.log("none")},clientX:gn.x,clientY:gn.y}))}function bi(s){bt()}function Ct(s){if(s.length!==0){let w=[],C=[];$r().forEach(A=>{(s.find(W=>(W=yr(W).info,W.startX===A.startX&&W.endX===A.endX&&W.startY===A.startY&&W.endY===A.endY))?C:w).push(A)}),ie=Nr(w,pe,h.precision),y("delCrop",C),tr(),Vn("delete",$r(C))}}return U.onBeforeUnmount(()=>{window.removeEventListener("resize",mt),document.removeEventListener("keydown",Pn),document.removeEventListener("keyup",yt),ae()}),U.onMounted(()=>{qe.init(),window.addEventListener("resize",mt)}),U.watch(()=>h.mode,s=>{s==="tag"&&(rr.value.style.cursor="auto")}),U.watch(()=>h.src,s=>{s&&qe.init()}),U.watch(()=>h.tagList,s=>{Se=Nr(s,pe,h.precision),tr()},{deep:!0}),U.watch(()=>h.cropList,s=>{ie=Nr(s,pe,h.precision),tr()}),v({removeTagItems:function(s){let w=[],C=[];s.length!==0&&Dr().forEach(A=>{(s.find(W=>(W=yr(W).info,W.startX===A.startX&&W.endX===A.endX&&W.startY===A.startY&&W.endY===A.endY))?C:w).push(A)}),Se=Nr(w,pe,h.precision),tr(),qn("delete",C)},getTagListGroupByCropIndex:function(s="startPoint"){let w=Dr(),C=$r();return w.forEach(M=>{var A;s==="startPoint"&&(A=hi({x:M.startX,y:M.startY},C),M.__groupIndex=A.indexList[0]),s==="allIn"&&(A=function(W,ze){let T=[],K=[];return ze.forEach((ke,Z)=>{uu(W,ke)&&(K.push(ke),T.push(Z))}),{boxList:K,indexList:T}}(M,C),M.__groupIndex=A.indexList[0])}),de.exports.groupBy(w,"__groupIndex")}}),(s,w)=>(U.openBlock(),U.createElementBlock("div",{class:"comp-ocr-img",ref_key:"containerRef",ref:rr,onMousedown:U.withModifiers(_n,["stop"]),onClick:U.withModifiers(mi,["stop"]),onMouseup:U.withModifiers(bt,["stop"]),onMousemove:U.withModifiers(xt,["stop"]),onMouseout:U.withModifiers(yi,["stop"]),onMousewheel:U.withModifiers($n,["stop"]),onTouchmove:U.withModifiers(xi,["stop","prevent"]),onTouchstart:U.withModifiers(wi,["stop"]),onTouchend:U.withModifiers(bi,["stop"])},[U.createElementVNode("canvas",{class:"canvas",ref_key:"canvasRef",ref:dn},null,512),U.createElementVNode("canvas",{class:"canvas2",ref_key:"canvas2Ref",ref:_t},null,512),U.unref(h).isShowTip?(U.openBlock(),U.createElementBlock("div",_f,[U.createElementVNode("div",yf,[U.createElementVNode("div",{class:U.normalizeClass(["circle",{crop:i.mode==="crop",tag:i.mode==="tag"}])},null,2),U.createElementVNode("div",mf,U.toDisplayString(i.mode==="crop"?"\u88C1\u526A\u6A21\u5F0F":"\u6807\u8BB0\u9519\u8BEF\u884C"),1)]),U.createElementVNode("div",wf,[U.renderSlot(s.$slots,"tip",{},()=>[xf,bf,Cf,Yf],!0)])])):U.createCommentVNode("",!0)],40,df))}}),dr.ImgMark=gf(Nn,[["__scopeId","data-v-3600e9f0"]]),dr.boxIsAllInOtherBox=uu,dr.transformTagBoxRelativeTo=au,dr.transformTagListBoxRelativeTo=function(i,v,y){return y.map(h=>au(i,v,h))},Object.defineProperty(dr,"__esModule",{value:!0}),dr[Symbol.toStringTag]="Module"});
