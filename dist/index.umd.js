(function(An,q){typeof exports=="object"&&typeof module!="undefined"?q(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],q):q((An=typeof globalThis!="undefined"?globalThis:An||self).kezhi={},An.Vue)})(this,function(An,q){"use strict";var Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Rc=window.device,b={},Xo=[],Jr=(window.device=b,window.document.documentElement),Xc=window.navigator.userAgent.toLowerCase(),ou=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function jo(o,p){return o.indexOf(p)!==-1}function Oe(o){return jo(Xc,o)}function iu(o){return Jr.className.match(new RegExp(o,"i"))}function Re(o){var p;iu(o)||(p=Jr.className.replace(/^\s+|\s+$/g,""),Jr.className=p+" "+o)}function uu(o){iu(o)&&(Jr.className=Jr.className.replace(" "+o,""))}function Tt(){b.landscape()?(uu("portrait"),Re("landscape"),au("landscape")):(uu("landscape"),Re("portrait"),au("portrait")),cu()}function au(o){for(var p=0;p<Xo.length;p++)Xo[p](o)}b.macos=function(){return Oe("mac")},b.ios=function(){return b.iphone()||b.ipod()||b.ipad()},b.iphone=function(){return!b.windows()&&Oe("iphone")},b.ipod=function(){return Oe("ipod")},b.ipad=function(){var o=navigator.platform==="MacIntel"&&1<navigator.maxTouchPoints;return Oe("ipad")||o},b.android=function(){return!b.windows()&&Oe("android")},b.androidPhone=function(){return b.android()&&Oe("mobile")},b.androidTablet=function(){return b.android()&&!Oe("mobile")},b.blackberry=function(){return Oe("blackberry")||Oe("bb10")},b.blackberryPhone=function(){return b.blackberry()&&!Oe("tablet")},b.blackberryTablet=function(){return b.blackberry()&&Oe("tablet")},b.windows=function(){return Oe("windows")},b.windowsPhone=function(){return b.windows()&&Oe("phone")},b.windowsTablet=function(){return b.windows()&&Oe("touch")&&!b.windowsPhone()},b.fxos=function(){return(Oe("(mobile")||Oe("(tablet"))&&Oe(" rv:")},b.fxosPhone=function(){return b.fxos()&&Oe("mobile")},b.fxosTablet=function(){return b.fxos()&&Oe("tablet")},b.meego=function(){return Oe("meego")},b.cordova=function(){return window.cordova&&location.protocol==="file:"},b.nodeWebkit=function(){return Tc(window.process)==="object"},b.mobile=function(){return b.androidPhone()||b.iphone()||b.ipod()||b.windowsPhone()||b.blackberryPhone()||b.fxosPhone()||b.meego()},b.tablet=function(){return b.ipad()||b.androidTablet()||b.blackberryTablet()||b.windowsTablet()||b.fxosTablet()},b.desktop=function(){return!b.tablet()&&!b.mobile()},b.television=function(){for(var o=0;o<ou.length;){if(Oe(ou[o]))return!0;o++}return!1},b.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?jo(screen.orientation.type,"portrait"):b.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:1<window.innerHeight/window.innerWidth},b.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?jo(screen.orientation.type,"landscape"):b.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1},b.noConflict=function(){return window.device=Rc,this},b.ios()?b.ipad()?Re("ios ipad tablet"):b.iphone()?Re("ios iphone mobile"):b.ipod()&&Re("ios ipod mobile"):b.macos()?Re("macos desktop"):b.android()?b.androidTablet()?Re("android tablet"):Re("android mobile"):b.blackberry()?b.blackberryTablet()?Re("blackberry tablet"):Re("blackberry mobile"):b.windows()?b.windowsTablet()?Re("windows tablet"):b.windowsPhone()?Re("windows mobile"):Re("windows desktop"):b.fxos()?b.fxosTablet()?Re("fxos tablet"):Re("fxos mobile"):b.meego()?Re("meego mobile"):b.nodeWebkit()?Re("node-webkit"):b.television()?Re("television"):b.desktop()&&Re("desktop"),b.cordova()&&Re("cordova"),b.onChangeOrientation=function(o){typeof o=="function"&&Xo.push(o)};var Or="resize";function Eo(o){for(var p=0;p<o.length;p++)if(b[o[p]]())return o[p];return"unknown"}function cu(){b.orientation=Eo(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Or="orientationchange"),window.addEventListener?window.addEventListener(Or,Tt,!1):window.attachEvent?window.attachEvent(Or,Tt):window[Or]=Tt,Tt(),b.type=Eo(["mobile","tablet","desktop"]),b.os=Eo(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),cu();var Rt,Xt,Qr=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ie={exports:{}};Xt=(Rt=ie).exports,function(){var o,p="Expected a function",v="__lodash_hash_undefined__",f="__lodash_placeholder__",C=128,O=9007199254740991,Y=NaN,A=4294967295,P=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],N="[object Arguments]",ue="[object Array]",Ge="[object Boolean]",Ve="[object Date]",be="[object Error]",Xe="[object Function]",le="[object GeneratorFunction]",E="[object Map]",pe="[object Number]",$="[object Object]",Ae="[object Promise]",je="[object RegExp]",_e="[object Set]",hn="[object String]",Qn="[object Symbol]",er="[object WeakMap]",L="[object ArrayBuffer]",Q="[object DataView]",V="[object Float32Array]",bn="[object Float64Array]",xn="[object Int8Array]",hr="[object Int16Array]",xe="[object Int32Array]",de="[object Uint8Array]",Me="[object Uint8ClampedArray]",he="[object Uint16Array]",ae="[object Uint32Array]",un=/\b__p \+= '';/g,Ee=/\b(__p \+=) '' \+/g,Tn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,it=/&(?:amp|lt|gt|quot|#39);/g,ut=/[&<>"']/g,H=RegExp(it.source),an=RegExp(ut.source),dr=/<%-([\s\S]+?)%>/g,Cn=/<%([\s\S]+?)%>/g,at=/<%=([\s\S]+?)%>/g,At=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gr=/^\w*$/,Fo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rn=/[\\^$.*+?()[\]{}|]/g,qe=RegExp(Rn.source),Yr=/^\s+/,Mt=/\s/,ct=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bt=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,Tr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rr=/[()=,{}\[\]\/\s]/,nr=/\\(\\)?/g,Wn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lt=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,Pt=/^0b[01]+$/i,Ht=/^\[object .+?Constructor\]$/,Uo=/^0o[0-7]+$/i,Nt=/^(?:0|[1-9]\d*)$/,$o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xr=/($^)/,Vo=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",st="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",S="\\u2700-\\u27bf",rr="a-z\\xdf-\\xf6\\xf8-\\xff",re="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\ufe0e\\ufe0f",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="['\u2019]",Je="["+jr+"]",z="["+Se+"]",T="["+st+"]",Er="["+S+"]",R="["+rr+"]",Se="[^"+jr+Se+"\\d+"+S+rr+re+"]",S="\\ud83c[\\udffb-\\udfff]",rr="[^"+jr+"]",ht="(?:\\ud83c[\\udde6-\\uddff]){2}",yr="[\\ud800-\\udbff][\\udc00-\\udfff]",re="["+re+"]",ee="\\u200d",Ie="(?:"+R+"|"+Se+")",Se="(?:"+re+"|"+Se+")",Be="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xn="(?:"+T+"|"+S+")?",Pn="["+s+"]?",Pn=Pn+Xn+("(?:"+ee+"(?:"+[rr,ht,yr].join("|")+")"+Pn+Xn+")*"),Xn="(?:"+[Er,ht,yr].join("|")+")"+Pn,Er="(?:"+[rr+T+"?",T,ht,yr,Je].join("|")+")",Ft=RegExp(d,"g"),vr=RegExp(T,"g"),pt=RegExp(S+"(?="+S+")|"+Er+Pn,"g"),Hc=RegExp([re+"?"+R+"+"+Be+"(?="+[z,re,"$"].join("|")+")",Se+"+"+ge+"(?="+[z,re+Ie,"$"].join("|")+")",re+"?"+Ie+"+"+Be,re+"+"+ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Xn].join("|"),"g"),Nc=RegExp("["+ee+jr+st+s+"]"),Fc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Uc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$c=-1,me={},we=(me[V]=me[bn]=me[xn]=me[hr]=me[xe]=me[de]=me[Me]=me[he]=me[ae]=!0,me[N]=me[ue]=me[L]=me[Ge]=me[Q]=me[Ve]=me[be]=me[Xe]=me[E]=me[pe]=me[$]=me[je]=me[_e]=me[hn]=me[er]=!1,{}),Vc=(we[N]=we[ue]=we[L]=we[Q]=we[Ge]=we[Ve]=we[V]=we[bn]=we[xn]=we[hr]=we[xe]=we[E]=we[pe]=we[$]=we[je]=we[_e]=we[hn]=we[Qn]=we[de]=we[Me]=we[he]=we[ae]=!0,we[be]=we[Xe]=we[er]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),qc=parseFloat,Zc=parseInt,rr=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,ht=typeof self=="object"&&self&&self.Object===Object&&self,Pe=rr||ht||Function("return this")(),yr=Xt&&!Xt.nodeType&&Xt,_r=yr&&Rt&&!Rt.nodeType&&Rt,zu=_r&&_r.exports===yr,qo=zu&&rr.process,Je=function(){try{var g=_r&&_r.require&&_r.require("util").types;return g||qo&&qo.binding&&qo.binding("util")}catch{}}(),Ou=Je&&Je.isArrayBuffer,Yu=Je&&Je.isDate,Tu=Je&&Je.isMap,Ru=Je&&Je.isRegExp,Xu=Je&&Je.isSet,ju=Je&&Je.isTypedArray;function cn(g,k,_){switch(_.length){case 0:return g.call(k);case 1:return g.call(k,_[0]);case 2:return g.call(k,_[0],_[1]);case 3:return g.call(k,_[0],_[1],_[2])}return g.apply(k,_)}function Kc(g,k,_,B){for(var K=-1,te=g==null?0:g.length;++K<te;){var ne=g[K];k(B,ne,_(ne),g)}return B}function dn(g,k){for(var _=-1,B=g==null?0:g.length;++_<B&&k(g[_],_,g)!==!1;);return g}function Gc(g,k){for(var _=g==null?0:g.length;_--&&k(g[_],_,g)!==!1;);return g}function Eu(g,k){for(var _=-1,B=g==null?0:g.length;++_<B;)if(!k(g[_],_,g))return!1;return!0}function tr(g,k){for(var _=-1,B=g==null?0:g.length,K=0,te=[];++_<B;){var ne=g[_];k(ne,_,g)&&(te[K++]=ne)}return te}function Ut(g,k){return!!(g!=null&&g.length)&&-1<Ir(g,k,0)}function Zo(g,k,_){for(var B=-1,K=g==null?0:g.length;++B<K;)if(_(k,g[B]))return!0;return!1}function Ce(g,k){for(var _=-1,B=g==null?0:g.length,K=Array(B);++_<B;)K[_]=k(g[_],_,g);return K}function or(g,k){for(var _=-1,B=k.length,K=g.length;++_<B;)g[K+_]=k[_];return g}function Ko(g,k,_,B){var K=-1,te=g==null?0:g.length;for(B&&te&&(_=g[++K]);++K<te;)_=k(_,g[K],K,g);return _}function Jc(g,k,_,B){var K=g==null?0:g.length;for(B&&K&&(_=g[--K]);K--;)_=k(_,g[K],K,g);return _}function Go(g,k){for(var _=-1,B=g==null?0:g.length;++_<B;)if(k(g[_],_,g))return!0;return!1}var Qc=Jo("length");function Iu(g,k,_){var B;return _(g,function(K,te,ne){if(k(K,te,ne))return B=te,!1}),B}function $t(g,k,_,B){for(var K=g.length,te=_+(B?1:-1);B?te--:++te<K;)if(k(g[te],te,g))return te;return-1}function Ir(g,k,_){if(k!=k)return $t(g,Lu,_);for(var B=g,K=k,te=_-1,ne=B.length;++te<ne;)if(B[te]===K)return te;return-1}function ef(g,k,_,B){for(var K=_-1,te=g.length;++K<te;)if(B(g[K],k))return K;return-1}function Lu(g){return g!=g}function Au(g,k){var _=g==null?0:g.length;return _?ei(g,k)/_:Y}function Jo(g){return function(k){return k==null?o:k[g]}}function Qo(g){return function(k){return g==null?o:g[k]}}function Mu(g,k,_,B,K){return K(g,function(te,ne,gt){_=B?(B=!1,te):k(_,te,ne,gt)}),_}function ei(g,k){for(var _,B=-1,K=g.length;++B<K;){var te=k(g[B]);te!==o&&(_=_===o?te:_+te)}return _}function ni(g,k){for(var _=-1,B=Array(g);++_<g;)B[_]=k(_);return B}function Bu(g){return g&&g.slice(0,Nu(g)+1).replace(Yr,"")}function fn(g){return function(k){return g(k)}}function ri(g,k){return Ce(k,function(_){return g[_]})}function dt(g,k){return g.has(k)}function Wu(g,k){for(var _=-1,B=g.length;++_<B&&-1<Ir(k,g[_],0););return _}function Pu(g,k){for(var _=g.length;_--&&-1<Ir(k,g[_],0););return _}var nf=Qo({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),rf=Qo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tf(g){return"\\"+Vc[g]}function Lr(g){return Nc.test(g)}function ti(g){var k=-1,_=Array(g.size);return g.forEach(function(B,K){_[++k]=[K,B]}),_}function Hu(g,k){return function(_){return g(k(_))}}function ir(g,k){for(var _=-1,B=g.length,K=0,te=[];++_<B;){var ne=g[_];ne!==k&&ne!==f||(g[_]=f,te[K++]=_)}return te}function Vt(g){var k=-1,_=Array(g.size);return g.forEach(function(B){_[++k]=B}),_}function Ar(g){return(Lr(g)?function(k){for(var _=pt.lastIndex=0;pt.test(k);)++_;return _}:Qc)(g)}function Sn(g){return Lr(g)?g.match(pt)||[]:g.split("")}function Nu(g){for(var k=g.length;k--&&Mt.test(g.charAt(k)););return k}var of=Qo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Mr=function g(se){var _=(se=se==null?Pe:Mr.defaults(Pe.Object(),se,Mr.pick(Pe,Uc))).Array,jn=se.Date,B=se.Error,K=se.Function,te=se.Math,ne=se.Object,gt=se.RegExp,uf=se.String,gn=se.TypeError,qt=_.prototype,wn=K.prototype,Br=ne.prototype,Wr=se["__core-js_shared__"],Zt=wn.toString,ye=Br.hasOwnProperty,af=0,Fu=(wn=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||""))?"Symbol(src)_1."+wn:"",Kt=Br.toString,cf=Zt.call(ne),ff=Pe._,lf=gt("^"+Zt.call(ye).replace(Rn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wn=zu?se.Buffer:o,Ne=se.Symbol,Gt=se.Uint8Array,Uu=wn?wn.allocUnsafe:o,Jt=Hu(ne.getPrototypeOf,ne),$u=ne.create,Vu=Br.propertyIsEnumerable,Qt=qt.splice,qu=Ne?Ne.isConcatSpreadable:o,vt=Ne?Ne.iterator:o,wr=Ne?Ne.toStringTag:o,eo=function(){try{var e=Sr(ne,"defineProperty");return e({},"",{}),e}catch{}}(),Pr=se.clearTimeout!==Pe.clearTimeout&&se.clearTimeout,Wi=jn&&jn.now!==Pe.Date.now&&jn.now,oi=se.setTimeout!==Pe.setTimeout&&se.setTimeout,no=te.ceil,ro=te.floor,ii=ne.getOwnPropertySymbols,wn=wn?wn.isBuffer:o,Zu=se.isFinite,sf=qt.join,pf=Hu(ne.keys,ne),Le=te.max,Fe=te.min,hf=jn.now,df=se.parseInt,Ku=te.random,gf=qt.reverse,jn=Sr(se,"DataView"),yt=Sr(se,"Map"),_t=Sr(se,"Promise"),Hr=Sr(se,"Set"),se=Sr(se,"WeakMap"),wt=Sr(ne,"create"),to=se&&new se,Nr={},vf=Dr(jn),yf=Dr(yt),_f=Dr(_t),wf=Dr(Hr),mf=Dr(se),Ne=Ne?Ne.prototype:o,mt=Ne?Ne.valueOf:o,Gu=Ne?Ne.toString:o;function u(e){if(ze(e)&&!G(e)&&!(e instanceof ce)){if(e instanceof Dn)return e;if(ye.call(e,"__wrapped__"))return Ja(e)}return new Dn(e)}var Fr=function(e){return De(e)?$u?$u(e):(ui.prototype=e,e=new ui,ui.prototype=o,e):{}};function ui(){}function oo(){}function Dn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function ce(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function mr(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Hn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function Nn(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}function br(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new Nn;++n<r;)this.add(e[n])}function kn(e){e=this.__data__=new Hn(e),this.size=e.size}function Ju(e,n){var r,t=G(e),i=!t&&kr(e),a=!t&&!i&&lr(e),c=!t&&!i&&!a&&qr(e),l=t||i||a||c,h=l?ni(e.length,uf):[],y=h.length;for(r in e)!n&&!ye.call(e,r)||l&&(r=="length"||a&&(r=="offset"||r=="parent")||c&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||Vn(r,y))||h.push(r);return h}function Qu(e){var n=e.length;return n?e[yi(0,n-1)]:o}function bf(e,n){return wo(Qe(e),xr(n,0,e.length))}function xf(e){return wo(Qe(e))}function ai(e,n,r){(r===o||zn(e[n],r))&&(r!==o||n in e)||Fn(e,n,r)}function bt(e,n,r){var t=e[n];ye.call(e,n)&&zn(t,r)&&(r!==o||n in e)||Fn(e,n,r)}function io(e,n){for(var r=e.length;r--;)if(zn(e[r][0],n))return r;return-1}function Cf(e,n,r,t){return ur(e,function(i,a,c){n(t,i,r(i),c)}),t}function ea(e,n){return e&&In(n,We(n),e)}function Fn(e,n,r){n=="__proto__"&&eo?eo(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}function ci(e,n){for(var r=-1,t=n.length,i=_(t),a=e==null;++r<t;)i[r]=a?o:Ui(e,n[r]);return i}function xr(e,n,r){return e==e&&(r!==o&&(e=e<=r?e:r),n!==o&&(e=n<=e?e:n)),e}function vn(e,n,r,m,i,a){var c,l=1&n,h=2&n,y=4&n;if((c=r?i?r(e,m,i,a):r(e):c)!==o)return c;if(!De(e))return e;var w,m=G(e);if(m){if(c=function(j){var D=j.length,X=new j.constructor(D);return D&&typeof j[0]=="string"&&ye.call(j,"index")&&(X.index=j.index,X.input=j.input),X}(e),!l)return Qe(e,c)}else{var x=Ue(e),M=x==Xe||x==le;if(lr(e))return Sa(e,l);if(x==$||x==N||M&&!i){if(c=h||M?{}:Na(e),!l)return h?(I=M=e,I=(w=c)&&In(I,nn(I),w),In(M,Pa(M),I)):(M=ea(c,w=e),In(w,Ri(w),M))}else{if(!we[x])return i?e:{};c=function(j,D,X){var W=j.constructor;switch(D){case L:return Si(j);case Ge:case Ve:return new W(+j);case Q:return function(Z,fe){return fe=fe?Si(Z.buffer):Z.buffer,new Z.constructor(fe,Z.byteOffset,Z.byteLength)}(j,X);case V:case bn:case xn:case hr:case xe:case de:case Me:case he:case ae:return Da(j,X);case E:return new W;case pe:case hn:return new W(j);case je:return function(Z){var fe=new Z.constructor(Z.source,lt.exec(Z));return fe.lastIndex=Z.lastIndex,fe}(j);case _e:return new W;case Qn:return function(Z){return mt?ne(mt.call(Z)):{}}(j)}}(e,x,l)}}var I=(a=a||new kn).get(e);if(I)return I;a.set(e,c),vc(e)?e.forEach(function(j){c.add(vn(j,n,r,j,e,a))}):dc(e)&&e.forEach(function(j,D){c.set(D,vn(j,n,r,D,e,a))});var U=m?o:(y?h?Oi:zi:h?nn:We)(e);return dn(U||e,function(j,D){U&&(j=e[D=j]),bt(c,D,vn(j,n,r,D,e,a))}),c}function na(e,n,r){var t=r.length;if(e==null)return!t;for(e=ne(e);t--;){var i=r[t],a=n[i],c=e[i];if(c===o&&!(i in e)||!a(c))return!1}return!0}function ra(e,n,r){if(typeof e!="function")throw new gn(p);return Ot(function(){e.apply(o,r)},n)}function xt(e,n,r,t){var i=-1,a=Ut,c=!0,l=e.length,h=[],y=n.length;if(!l)return h;r&&(n=Ce(n,fn(r))),t?(a=Zo,c=!1):200<=n.length&&(a=dt,c=!1,n=new br(n));e:for(;++i<l;){var m=e[i],w=r==null?m:r(m),m=t||m!==0?m:0;if(c&&w==w){for(var x=y;x--;)if(n[x]===w)continue e;h.push(m)}else a(n,w,t)||h.push(m)}return h}u.templateSettings={escape:dr,evaluate:Cn,interpolate:at,variable:"",imports:{_:u}},(u.prototype=oo.prototype).constructor=u,(Dn.prototype=Fr(oo.prototype)).constructor=Dn,(ce.prototype=Fr(oo.prototype)).constructor=ce,mr.prototype.clear=function(){this.__data__=wt?wt(null):{},this.size=0},mr.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},mr.prototype.get=function(e){var n,r=this.__data__;return wt?(n=r[e])===v?o:n:ye.call(r,e)?r[e]:o},mr.prototype.has=function(e){var n=this.__data__;return wt?n[e]!==o:ye.call(n,e)},mr.prototype.set=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=wt&&n===o?v:n,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var n=this.__data__;return!((e=io(n,e))<0)&&(e==n.length-1?n.pop():Qt.call(n,e,1),--this.size,!0)},Hn.prototype.get=function(e){var n=this.__data__;return(e=io(n,e))<0?o:n[e][1]},Hn.prototype.has=function(e){return-1<io(this.__data__,e)},Hn.prototype.set=function(e,n){var r=this.__data__,t=io(r,e);return t<0?(++this.size,r.push([e,n])):r[t][1]=n,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new mr,map:new(yt||Hn),string:new mr}},Nn.prototype.delete=function(e){return e=_o(this,e).delete(e),this.size-=e?1:0,e},Nn.prototype.get=function(e){return _o(this,e).get(e)},Nn.prototype.has=function(e){return _o(this,e).has(e)},Nn.prototype.set=function(e,n){var r=_o(this,e),t=r.size;return r.set(e,n),this.size+=r.size==t?0:1,this},br.prototype.add=br.prototype.push=function(e){return this.__data__.set(e,v),this},br.prototype.has=function(e){return this.__data__.has(e)},kn.prototype.clear=function(){this.__data__=new Hn,this.size=0},kn.prototype.delete=function(r){var n=this.__data__,r=n.delete(r);return this.size=n.size,r},kn.prototype.get=function(e){return this.__data__.get(e)},kn.prototype.has=function(e){return this.__data__.has(e)},kn.prototype.set=function(e,n){var r=this.__data__;if(r instanceof Hn){var t=r.__data__;if(!yt||t.length<199)return t.push([e,n]),this.size=++r.size,this;r=this.__data__=new Nn(t)}return r.set(e,n),this.size=r.size,this};var ur=Ya(En),ta=Ya(li,!0);function Sf(e,n){var r=!0;return ur(e,function(t,i,a){return r=!!n(t,i,a)}),r}function uo(e,n,r){for(var t=-1,i=e.length;++t<i;){var a,c,l=e[t],h=n(l);h!=null&&(a===o?h==h&&!sn(h):r(h,a))&&(a=h,c=l)}return c}function oa(e,n){var r=[];return ur(e,function(t,i,a){n(t,i,a)&&r.push(t)}),r}function He(e,n,r,t,i){var a=-1,c=e.length;for(r=r||Lf,i=i||[];++a<c;){var l=e[a];0<n&&r(l)?1<n?He(l,n-1,r,t,i):or(i,l):t||(i[i.length]=l)}return i}var fi=Ta(),ia=Ta(!0);function En(e,n){return e&&fi(e,n,We)}function li(e,n){return e&&ia(e,n,We)}function ao(e,n){return tr(n,function(r){return qn(e[r])})}function Cr(e,n){for(var r=0,t=(n=cr(n,e)).length;e!=null&&r<t;)e=e[Ln(n[r++])];return r&&r==t?e:o}function ua(e,n,r){return n=n(e),G(e)?n:or(n,r(e))}function Ze(e){{if(e==null)return e===o?"[object Undefined]":"[object Null]";if(wr&&wr in ne(e)){var n=e,r=ye.call(n,wr),t=n[wr];try{n[wr]=o;var i=!0}catch{}var a=Kt.call(n);return i&&(r?n[wr]=t:delete n[wr]),a}return Kt.call(e)}}function si(e,n){return n<e}function Df(e,n){return e!=null&&ye.call(e,n)}function kf(e,n){return e!=null&&n in ne(e)}function pi(e,n,r){for(var t=r?Zo:Ut,i=e[0].length,a=e.length,c=a,l=_(a),h=1/0,y=[];c--;){var w=e[c];c&&n&&(w=Ce(w,fn(n))),h=Fe(w.length,h),l[c]=!r&&(n||120<=i&&120<=w.length)?new br(c&&w):o}var w=e[0],m=-1,x=l[0];e:for(;++m<i&&y.length<h;){var I=w[m],M=n?n(I):I,I=r||I!==0?I:0;if(!(x?dt(x,M):t(y,M,r))){for(c=a;--c;){var U=l[c];if(!(U?dt(U,M):t(e[c],M,r)))continue e}x&&x.push(M),y.push(I)}}return y}function Ct(e,n,r){return n=(e=Va(e,n=cr(n,e)))==null?e:e[Ln(_n(n))],n==null?o:cn(n,e,r)}function aa(e){return ze(e)&&Ze(e)==N}function St(e,n,r,t,i){{if(e===n)return!0;if(e==null||n==null||!ze(e)&&!ze(n))return e!=e&&n!=n;var a=St,c=G(e),w=G(n),l=c?ue:Ue(e),w=w?ue:Ue(n),h=(l=l==N?$:l)==$,y=(w=w==N?$:w)==$,w;if((w=l==w)&&lr(e)){if(!lr(n))return!1;h=!(c=!0)}if(w&&!h){if(i=i||new kn,c||qr(e))return Wa(e,n,r,t,a,i);var m=e,x=n,M=l,I=r,U=t,j=a,D=i;switch(M){case Q:if(m.byteLength!=x.byteLength||m.byteOffset!=x.byteOffset)return!1;m=m.buffer,x=x.buffer;case L:return!!(m.byteLength==x.byteLength&&j(new Gt(m),new Gt(x)));case Ge:case Ve:case pe:return zn(+m,+x);case be:return m.name==x.name&&m.message==x.message;case je:case hn:return m==x+"";case E:var X=ti;case _e:var W=1&I;return X=X||Vt,m.size!=x.size&&!W?!1:(W=D.get(m),W?W==x:(I|=2,D.set(m,x),W=Wa(X(m),X(x),I,U,j,D),D.delete(m),W));case Qn:if(mt)return mt.call(m)==mt.call(x)}return!1}if(!(1&r)&&(c=h&&ye.call(e,"__wrapped__"),l=y&&ye.call(n,"__wrapped__"),c||l))return h=c?e.value():e,y=l?n.value():n,i=i||new kn,a(h,y,r,t,i);if(w){i=i||new kn;var Z=e,fe=n,ke=r,tn=t,Te=a,$e=i,Kr=1&ke,Gr=zi(Z),nu=Gr.length,c=zi(fe).length;if(nu!=c&&!Kr)return!1;for(var Oo=nu;Oo--;){var sr=Gr[Oo];if(!(Kr?sr in fe:ye.call(fe,sr)))return!1}if(c=$e.get(Z),l=$e.get(fe),c&&l)return c==fe&&l==Z;for(var Yo=!0,ru=($e.set(Z,fe),$e.set(fe,Z),Kr);++Oo<nu;){sr=Gr[Oo];var tu,To=Z[sr],Ro=fe[sr];if(!((tu=tn?Kr?tn(Ro,To,sr,fe,Z,$e):tn(To,Ro,sr,Z,fe,$e):tu)===o?To===Ro||Te(To,Ro,ke,tn,$e):tu)){Yo=!1;break}ru=ru||sr=="constructor"}return Yo&&!ru&&(c=Z.constructor,l=fe.constructor,c!=l&&"constructor"in Z&&"constructor"in fe&&!(typeof c=="function"&&c instanceof c&&typeof l=="function"&&l instanceof l)&&(Yo=!1)),$e.delete(Z),$e.delete(fe),Yo}return!1}}function hi(e,n,r,t){var i=r.length,a=i,c=!t;if(e==null)return!a;for(e=ne(e);i--;){var l=r[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var h=(l=r[i])[0],y=e[h],w=l[1];if(c&&l[2]){if(y===o&&!(h in e))return!1}else{var m,x=new kn;if(!((m=t?t(y,w,h,e,n,x):m)===o?St(w,y,3,t,x):m))return!1}}return!0}function ca(e){return!(!De(e)||(n=e,Fu&&Fu in n))&&(qn(e)?lf:Ht).test(Dr(e));var n}function fa(e){return typeof e=="function"?e:e==null?rn:typeof e=="object"?G(e)?pa(e[0],e[1]):sa(e):Yc(e)}function di(e){if(!zt(e))return pf(e);var n,r=[];for(n in ne(e))ye.call(e,n)&&n!="constructor"&&r.push(n);return r}function zf(e){if(!De(e)){var n=e,r=[];if(n!=null)for(var t in ne(n))r.push(t);return r}var i,a=zt(e),c=[];for(i in e)(i!="constructor"||!a&&ye.call(e,i))&&c.push(i);return c}function gi(e,n){return e<n}function la(e,n){var r=-1,t=en(e)?_(e.length):[];return ur(e,function(i,a,c){t[++r]=n(i,a,c)}),t}function sa(e){var n=Ti(e);return n.length==1&&n[0][2]?Ua(n[0][0],n[0][1]):function(r){return r===e||hi(r,e,n)}}function pa(e,n){return Xi(e)&&Fa(n)?Ua(Ln(e),n):function(r){var t=Ui(r,e);return t===o&&t===n?$i(r,e):St(n,t,3)}}function co(e,n,r,t,i){e!==n&&fi(n,function(a,c){var l,h,y,w,m,x,M,I,U,j,D,X,W;i=i||new kn,De(a)?(h=n,w=r,m=co,x=t,M=i,D=Ei(l=e,y=c),X=Ei(h,y),(W=M.get(X))||(W=x?x(D,X,y+"",l,h,M):o,(h=W===o)&&(I=G(X),U=!I&&lr(X),j=!I&&!U&&qr(X),W=X,I||U||j?W=G(D)?D:Ye(D)?Qe(D):U?Sa(X,!(h=!1)):j?Da(X,!(h=!1)):[]:Yt(X)||kr(X)?kr(W=D)?W=wc(D):De(D)&&!qn(D)||(W=Na(X)):h=!1),h&&(M.set(X,W),m(W,X,w,x,M),M.delete(X))),ai(l,y,W)):(I=t?t(Ei(e,c),a,c+"",e,n,i):o,ai(e,c,I=I===o?a:I))},nn)}function ha(e,n){var r=e.length;if(r)return Vn(n+=n<0?r:0,r)?e[n]:o}function da(a,n,r){n=n.length?Ce(n,function(l){return G(l)?function(h){return Cr(h,l.length===1?l[0]:l)}:l}):[rn];var t=-1;n=Ce(n,fn(F()));var i=la(a,function(l,h,y){return{criteria:Ce(n,function(w){return w(l)}),index:++t,value:l}}),a=function(l,h){for(var y=r,w=-1,m=l.criteria,x=h.criteria,M=m.length,I=y.length;++w<M;){var U=ka(m[w],x[w]);if(U){if(I<=w)return U;var j=y[w];return U*(j=="desc"?-1:1)}}return l.index-h.index},c=i.length;for(i.sort(a);c--;)i[c]=i[c].value;return i}function ga(e,n,r){for(var t=-1,i=n.length,a={};++t<i;){var c=n[t],l=Cr(e,c);r(l,c)&&Dt(a,cr(c,e),l)}return a}function vi(e,n,r,t){var i=t?ef:Ir,a=-1,c=n.length,l=e;for(e===n&&(n=Qe(n)),r&&(l=Ce(e,fn(r)));++a<c;)for(var h=0,y=n[a],w=r?r(y):y;-1<(h=i(l,w,h,t));)l!==e&&Qt.call(l,h,1),Qt.call(e,h,1);return e}function va(e,n){for(var r=e?n.length:0,t=r-1;r--;){var i,a=n[r];r!=t&&a===i||(Vn(i=a)?Qt.call(e,a,1):mi(e,a))}}function yi(e,n){return e+ro(Ku()*(n-e+1))}function _i(e,n){var r="";if(!e||n<1||O<n)return r;for(;n%2&&(r+=e),(n=ro(n/2))&&(e+=e),n;);return r}function oe(e,n){return Ii($a(e,n,rn),e+"")}function Of(e){return Qu(Zr(e))}function Yf(e,n){return e=Zr(e),wo(e,xr(n,0,e.length))}function Dt(e,n,r,t){if(!De(e))return e;for(var i=-1,a=(n=cr(n,e)).length,c=a-1,l=e;l!=null&&++i<a;){var h,y=Ln(n[i]),w=r;if(y==="__proto__"||y==="constructor"||y==="prototype")return e;i!=c&&(h=l[y],(w=t?t(h,y,l):o)===o&&(w=De(h)?h:Vn(n[i+1])?[]:{})),bt(l,y,w),l=l[y]}return e}var ya=to?function(e,n){return to.set(e,n),e}:rn,Ne=eo?function(e,n){return eo(e,"toString",{configurable:!0,enumerable:!1,value:qi(n),writable:!0})}:rn;function Tf(e){return wo(Zr(e))}function yn(e,n,r){for(var t=-1,i=e.length,a=((r=i<r?i:r)<0&&(r+=i),i=r<(n=n<0?i<-n?0:i+n:n)?0:r-n>>>0,n>>>=0,_(i));++t<i;)a[t]=e[t+n];return a}function Rf(e,n){var r;return ur(e,function(t,i,a){return!(r=n(t,i,a))}),!!r}function fo(e,n,r){var t=0,i=e==null?t:e.length;if(typeof n=="number"&&n==n&&i<=2147483647){for(;t<i;){var a=t+i>>>1,c=e[a];c!==null&&!sn(c)&&(r?c<=n:c<n)?t=1+a:i=a}return i}return wi(e,n,rn,r)}function wi(e,n,r,t){var i=0,a=e==null?0:e.length;if(a===0)return 0;for(var c=(n=r(n))!=n,l=n===null,h=sn(n),y=n===o;i<a;){var w=ro((i+a)/2),m=r(e[w]),x=m!==o,M=m===null,U=m==m,I=sn(m),U=c?t||U:y?U&&(t||x):l?U&&x&&(t||!M):h?U&&x&&!M&&(t||!I):!M&&!I&&(t?m<=n:m<n);U?i=w+1:a=w}return Fe(a,4294967294)}function _a(e,n){for(var r=-1,t=e.length,i=0,a=[];++r<t;){var c,l=e[r],h=n?n(l):l;r&&zn(h,c)||(c=h,a[i++]=l===0?0:l)}return a}function wa(e){return typeof e=="number"?e:sn(e)?Y:+e}function ln(e){if(typeof e=="string")return e;if(G(e))return Ce(e,ln)+"";if(sn(e))return Gu?Gu.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function ar(e,n,r){var t=-1,i=Ut,a=e.length,c=!0,l=[],h=l;if(r)c=!1,i=Zo;else if(200<=a){var y=n?null:Ef(e);if(y)return Vt(y);c=!1,i=dt,h=new br}else h=n?[]:l;e:for(;++t<a;){var m=e[t],w=n?n(m):m,m=r||m!==0?m:0;if(c&&w==w){for(var x=h.length;x--;)if(h[x]===w)continue e;n&&h.push(w),l.push(m)}else i(h,w,r)||(h!==l&&h.push(w),l.push(m))}return l}function mi(e,n){return(e=Va(e,n=cr(n,e)))==null||delete e[Ln(_n(n))]}function ma(e,n,r,t){return Dt(e,n,r(Cr(e,n)),t)}function lo(e,n,r,t){for(var i=e.length,a=t?i:-1;(t?a--:++a<i)&&n(e[a],a,e););return r?yn(e,t?0:a,t?a+1:i):yn(e,t?a+1:0,t?i:a)}function ba(e,n){var r=e;return Ko(n,function(t,i){return i.func.apply(i.thisArg,or([t],i.args))},r=e instanceof ce?e.value():r)}function bi(e,n,r){var t=e.length;if(t<2)return t?ar(e[0]):[];for(var i=-1,a=_(t);++i<t;)for(var c=e[i],l=-1;++l<t;)l!=i&&(a[i]=xt(a[i]||c,e[l],n,r));return ar(He(a,1),n,r)}function xa(e,n,r){for(var t=-1,i=e.length,a=n.length,c={};++t<i;){var l=t<a?n[t]:o;r(c,e[t],l)}return c}function xi(e){return Ye(e)?e:[]}function Ci(e){return typeof e=="function"?e:rn}function cr(e,n){return G(e)?e:Xi(e,n)?[e]:Ga(ve(e))}var Pi=oe;function fr(e,n,r){var t=e.length;return r=r===o?t:r,!n&&t<=r?e:yn(e,n,r)}var Ca=Pr||function(e){return Pe.clearTimeout(e)};function Sa(e,n){return n?e.slice():(n=e.length,n=Uu?Uu(n):new e.constructor(n),e.copy(n),n)}function Si(e){var n=new e.constructor(e.byteLength);return new Gt(n).set(new Gt(e)),n}function Da(e,n){return n=n?Si(e.buffer):e.buffer,new e.constructor(n,e.byteOffset,e.length)}function ka(e,n){if(e!==n){var r=e!==o,t=e===null,i=e==e,a=sn(e),c=n!==o,l=n===null,h=n==n,y=sn(n);if(!l&&!y&&!a&&n<e||a&&c&&h&&!l&&!y||t&&c&&h||!r&&h||!i)return 1;if(!t&&!a&&!y&&e<n||y&&r&&i&&!t&&!a||l&&r&&i||!c&&i||!h)return-1}return 0}function za(e,n,r,t){for(var i=-1,a=e.length,c=r.length,l=-1,h=n.length,y=Le(a-c,0),w=_(h+y),m=!t;++l<h;)w[l]=n[l];for(;++i<c;)(m||i<a)&&(w[r[i]]=e[i]);for(;y--;)w[l++]=e[i++];return w}function Oa(e,n,r,t){for(var i=-1,a=e.length,c=-1,l=r.length,h=-1,y=n.length,w=Le(a-l,0),m=_(w+y),x=!t;++i<w;)m[i]=e[i];for(var M=i;++h<y;)m[M+h]=n[h];for(;++c<l;)(x||i<a)&&(m[M+r[c]]=e[i++]);return m}function Qe(e,n){var r=-1,t=e.length;for(n=n||_(t);++r<t;)n[r]=e[r];return n}function In(e,n,r,t){for(var i=!r,a=(r=r||{},-1),c=n.length;++a<c;){var l=n[a],h=t?t(r[l],e[l],l,r,e):o;(i?Fn:bt)(r,l,h=h===o?e[l]:h)}return r}function so(e,n){return function(r,t){var i=G(r)?Kc:Cf,a=n?n():{};return i(r,e,F(t,2),a)}}function Ur(e){return oe(function(n,r){var t=-1,i=r.length,c=1<i?r[i-1]:o,a=2<i?r[2]:o,c=3<e.length&&typeof c=="function"?(i--,c):o;for(a&&Ke(r[0],r[1],a)&&(c=i<3?o:c,i=1),n=ne(n);++t<i;){var l=r[t];l&&e(n,l,t,c)}return n})}function Ya(e,n){return function(r,t){if(r==null)return r;if(!en(r))return e(r,t);for(var i=r.length,a=n?i:-1,c=ne(r);(n?a--:++a<i)&&t(c[a],a,c)!==!1;);return r}}function Ta(e){return function(n,r,t){for(var i=-1,a=ne(n),c=t(n),l=c.length;l--;){var h=c[e?l:++i];if(r(a[h],h,a)===!1)break}return n}}function Ra(e){return function(n){var t=Lr(n=ve(n))?Sn(n):o,r=t?t[0]:n.charAt(0),t=t?fr(t,1).join(""):n.slice(1);return r[e]()+t}}function $r(e){return function(n){return Ko(zc(kc(n).replace(Ft,"")),e,"")}}function kt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Fr(e.prototype),t=e.apply(r,n);return De(t)?t:r}}function Xf(e,n,r){var t=kt(e);return function i(){for(var a=arguments.length,c=_(a),l=a,h=Vr(i);l--;)c[l]=arguments[l];return h=a<3&&c[0]!==h&&c[a-1]!==h?[]:ir(c,h),(a-=h.length)<r?La(e,n,po,i.placeholder,o,c,h,o,o,r-a):cn(this&&this!==Pe&&this instanceof i?t:e,this,c)}}function Xa(e){return function(n,c,t){var i,a=ne(n),c=(en(n)||(i=F(c,3),n=We(n),c=function(l){return i(a[l],l,a)}),e(n,c,t));return-1<c?a[i?n[c]:c]:o}}function ja(e){return $n(function(n){var r=n.length,t=r,i=Dn.prototype.thru;for(e&&n.reverse();t--;){var a=n[t];if(typeof a!="function")throw new gn(p);i&&!h&&yo(a)=="wrapper"&&(h=new Dn([],!0))}for(t=h?t:r;++t<r;)var c=yo(a=n[t]),l=c=="wrapper"?Yi(a):o,h=l&&ji(l[0])&&l[1]==424&&!l[4].length&&l[9]==1?h[yo(l[0])].apply(h,l[3]):a.length==1&&ji(a)?h[c]():h.thru(a);return function(){var y=arguments,w=y[0];if(h&&y.length==1&&G(w))return h.plant(w).value();for(var m=0,x=r?n[m].apply(this,y):w;++m<r;)x=n[m].call(this,x);return x}})}function po(e,n,r,t,i,a,c,l,h,y){var w=n&C,m=1&n,x=2&n,M=24&n,I=512&n,U=x?o:kt(e);return function j(){for(var D=_(fe=arguments.length),X=fe;X--;)D[X]=arguments[X];if(M&&(Z=function(ke,tn){for(var Te=ke.length,$e=0;Te--;)ke[Te]===tn&&++$e;return $e}(D,W=Vr(j))),t&&(D=za(D,t,i,M)),a&&(D=Oa(D,a,c,M)),fe-=Z,M&&fe<y)return Z=ir(D,W),La(e,n,po,j.placeholder,r,D,Z,l,h,y-fe);var W=m?r:this,Z=x?W[e]:e,fe=D.length;return l?D=function(ke,tn){for(var Te=ke.length,$e=Fe(tn.length,Te),Kr=Qe(ke);$e--;){var Gr=tn[$e];ke[$e]=Vn(Gr,Te)?Kr[Gr]:o}return ke}(D,l):I&&1<fe&&D.reverse(),w&&h<fe&&(D.length=h),(Z=this&&this!==Pe&&this instanceof j?U||kt(Z):Z).apply(W,D)}}function Ea(e,n){return function(r,t){return r=r,i=e,a=n(t),c={},En(r,function(l,h,y){i(c,a(l),h,y)}),c;var i,a,c}}function ho(e,n){return function(r,t){var i;if(r===o&&t===o)return n;if(r!==o&&(i=r),t!==o){if(i===o)return t;t=typeof r=="string"||typeof t=="string"?(r=ln(r),ln(t)):(r=wa(r),wa(t)),i=e(r,t)}return i}}function Di(e){return $n(function(n){return n=Ce(n,fn(F())),oe(function(r){var t=this;return e(n,function(i){return cn(i,t,r)})})})}function go(e,n){var r=(n=n===o?" ":ln(n)).length;return r<2?r?_i(n,e):n:(r=_i(n,no(e/Ar(n))),Lr(n)?fr(Sn(r),0,e).join(""):r.slice(0,e))}function jf(e,n,r,t){var i=1&n,a=kt(e);return function c(){for(var l=-1,h=arguments.length,y=-1,w=t.length,m=_(w+h),x=this&&this!==Pe&&this instanceof c?a:e;++y<w;)m[y]=t[y];for(;h--;)m[y++]=arguments[++l];return cn(x,i?r:this,m)}}function Ia(e){return function(n,r,t){t&&typeof t!="number"&&Ke(n,r,t)&&(r=t=o),n=Zn(n),r===o?(r=n,n=0):r=Zn(r),t=t===o?n<r?1:-1:Zn(t);for(var i=n,a=t,c=e,l=-1,h=Le(no((r-i)/(a||1)),0),y=_(h);h--;)y[c?h:++l]=i,i+=a;return y}}function vo(e){return function(n,r){return typeof n=="string"&&typeof r=="string"||(n=mn(n),r=mn(r)),e(n,r)}}function La(e,n,r,t,m,x,c,l,h,y){var w=8&n,m=(4&(n=(n|(w?32:64))&~(w?64:32))||(n&=-4),[e,n,m,w?x:o,w?c:o,w?o:x,w?o:c,l,h,y]),x=r.apply(o,m);return ji(e)&&qa(x,m),x.placeholder=t,Za(x,e,n)}function ki(e){var n=te[e];return function(r,t){var i;return r=mn(r),(t=t==null?0:Fe(J(t),292))&&Zu(r)?(i=(ve(r)+"e").split("e"),+((i=(ve(n(i[0]+"e"+(+i[1]+t)))+"e").split("e"))[0]+"e"+(+i[1]-t))):n(r)}}var Ef=Hr&&1/Vt(new Hr([,-0]))[1]==1/0?function(e){return new Hr(e)}:Gi;function Aa(e){return function(n){var r,t,i,a=Ue(n);return a==E?ti(n):a==_e?(a=n,r=-1,t=Array(a.size),a.forEach(function(c){t[++r]=[c,c]}),t):Ce(e(i=n),function(c){return[c,i[c]]})}}function Un(e,n,r,t,i,a,c,l){var h=2&n;if(!h&&typeof e!="function")throw new gn(p);var y,w,m,x,M,I=t?t.length:0,U=(I||(n&=-97,t=i=o),c=c===o?c:Le(J(c),0),l=l===o?l:J(l),I-=i?i.length:0,64&n&&(j=t,y=i,t=i=o),h?o:Yi(e)),j=[e,n,r,t,i,j,y,a,c,l];return U&&function(D,X){var W=D[1],Z=X[1],fe=W|Z,ke=fe<131,tn=Z==C&&W==8||Z==C&&W==256&&D[7].length<=X[8]||Z==384&&X[7].length<=X[8]&&W==8;if(!(!ke&&!tn)){1&Z&&(D[2]=X[2],fe|=1&W?0:4),ke=X[3];{var Te;ke&&(Te=D[3],D[3]=Te?za(Te,ke,X[4]):ke,D[4]=Te?ir(D[3],f):X[4])}(ke=X[5])&&(Te=D[5],D[5]=Te?Oa(Te,ke,X[6]):ke,D[6]=Te?ir(D[5],f):X[6]),(ke=X[7])&&(D[7]=ke),Z&C&&(D[8]=D[8]==null?X[8]:Fe(D[8],X[8])),D[9]==null&&(D[9]=X[9]),D[0]=X[0],D[1]=fe}}(j,U),e=j[0],n=j[1],r=j[2],t=j[3],i=j[4],!(l=j[9]=j[9]===o?h?0:e.length:Le(j[9]-I,0))&&24&n&&(n&=-25),y=n&&n!=1?n==8||n==16?Xf(e,n,l):n!=32&&n!=33||i.length?po.apply(o,j):jf(e,n,r,t):(m=r,x=1&n,M=kt(w=e),function D(){return(this&&this!==Pe&&this instanceof D?M:w).apply(x?m:this,arguments)}),Za((U?ya:qa)(y,j),e,n)}function Ma(e,n,r,t){return e===o||zn(e,Br[r])&&!ye.call(t,r)?n:e}function Ba(e,n,r,t,i,a){return De(e)&&De(n)&&(a.set(n,e),co(e,n,o,Ba,a),a.delete(n)),e}function If(e){return Yt(e)?o:e}function Wa(e,n,r,t,i,a){var c=1&r,l=e.length,h=n.length;if(l!=h&&!(c&&l<h))return!1;var h=a.get(e),y=a.get(n);if(h&&y)return h==n&&y==e;var w=-1,m=!0,x=2&r?new br:o;for(a.set(e,n),a.set(n,e);++w<l;){var M,I=e[w],U=n[w];if((M=t?c?t(U,I,w,n,e,a):t(I,U,w,e,n,a):M)!==o){if(M)continue;m=!1;break}if(x){if(!Go(n,function(j,D){return!dt(x,D)&&(I===j||i(I,j,r,t,a))&&x.push(D)})){m=!1;break}}else if(I!==U&&!i(I,U,r,t,a)){m=!1;break}}return a.delete(e),a.delete(n),m}function $n(e){return Ii($a(e,o,nc),e+"")}function zi(e){return ua(e,We,Ri)}function Oi(e){return ua(e,nn,Pa)}var Yi=to?function(e){return to.get(e)}:Gi;function yo(e){for(var n=e.name+"",r=Nr[n],t=ye.call(Nr,n)?r.length:0;t--;){var i=r[t],a=i.func;if(a==null||a==e)return i.name}return n}function Vr(e){return(ye.call(u,"placeholder")?u:e).placeholder}function F(){var e=(e=u.iteratee||Zi)===Zi?fa:e;return arguments.length?e(arguments[0],arguments[1]):e}function _o(i,n){var r,t,i=i.__data__;return((t=typeof(r=n))=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null)?i[typeof n=="string"?"string":"hash"]:i.map}function Ti(e){for(var n=We(e),r=n.length;r--;){var t=n[r],i=e[t];n[r]=[t,i,Fa(i)]}return n}function Sr(e,n){return n=n,e=(e=e)==null?o:e[n],ca(e)?e:o}var Ri=ii?function(e){return e==null?[]:(e=ne(e),tr(ii(e),function(n){return Vu.call(e,n)}))}:Ji,Pa=ii?function(e){for(var n=[];e;)or(n,Ri(e)),e=Jt(e);return n}:Ji,Ue=Ze;function Ha(e,n,r){for(var t=-1,i=(n=cr(n,e)).length,a=!1;++t<i;){var c=Ln(n[t]);if(!(a=e!=null&&r(e,c)))break;e=e[c]}return a||++t!=i?a:!!(i=e==null?0:e.length)&&Do(i)&&Vn(c,i)&&(G(e)||kr(e))}function Na(e){return typeof e.constructor!="function"||zt(e)?{}:Fr(Jt(e))}function Lf(e){return G(e)||kr(e)||!!(qu&&e&&e[qu])}function Vn(e,n){var r=typeof e;return!!(n=n==null?O:n)&&(r=="number"||r!="symbol"&&Nt.test(e))&&-1<e&&e%1==0&&e<n}function Ke(e,n,r){var t;if(De(r))return t=typeof n,(t=="number"?en(r)&&Vn(n,r.length):t=="string"&&n in r)&&zn(r[n],e)}function Xi(e,n){var r;if(!G(e))return r=typeof e,r=="number"||r=="symbol"||r=="boolean"||e==null||sn(e)||gr.test(e)||!At.test(e)||n!=null&&e in ne(n)}function ji(e){var n=yo(e),r=u[n];if(typeof r=="function"&&n in ce.prototype)return e===r?1:(n=Yi(r),n&&e===n[0])}(jn&&Ue(new jn(new ArrayBuffer(1)))!=Q||yt&&Ue(new yt)!=E||_t&&Ue(_t.resolve())!=Ae||Hr&&Ue(new Hr)!=_e||se&&Ue(new se)!=er)&&(Ue=function(r){var n=Ze(r),r=n==$?r.constructor:o,r=r?Dr(r):"";if(r)switch(r){case vf:return Q;case yf:return E;case _f:return Ae;case wf:return _e;case mf:return er}return n});var Af=Wr?qn:Qi;function zt(e){var n=e&&e.constructor;return e===(typeof n=="function"&&n.prototype||Br)}function Fa(e){return e==e&&!De(e)}function Ua(e,n){return function(r){return r!=null&&r[e]===n&&(n!==o||e in ne(r))}}function $a(e,n,r){return n=Le(n===o?e.length-1:n,0),function(){for(var t=arguments,i=-1,a=Le(t.length-n,0),c=_(a);++i<a;)c[i]=t[n+i];for(var i=-1,l=_(n+1);++i<n;)l[i]=t[i];return l[n]=r(c),cn(e,this,l)}}function Va(e,n){return n.length<2?e:Cr(e,yn(n,0,-1))}function Ei(e,n){if((n!=="constructor"||typeof e[n]!="function")&&n!="__proto__")return e[n]}var qa=Ka(ya),Ot=oi||function(e,n){return Pe.setTimeout(e,n)},Ii=Ka(Ne);function Za(e,a,r){var t,i,a=a+"";return Ii(e,function(c,l){var h=l.length;if(!h)return c;var y=h-1;return l[y]=(1<h?"& ":"")+l[y],l=l.join(2<h?", ":" "),c.replace(ct,`{
/* [wrapped with `+l+`] */
`)}(a,(t=(e=(e=a).match(Bt))?e[1].split(ft):[],i=r,dn(P,function(c){var l="_."+c[0];i&c[1]&&!Ut(t,l)&&t.push(l)}),t.sort())))}function Ka(e){var n=0,r=0;return function(){var t=hf(),i=16-(t-r);if(r=t,0<i){if(800<=++n)return arguments[0]}else n=0;return e.apply(o,arguments)}}function wo(e,n){var r=-1,t=e.length,i=t-1;for(n=n===o?t:n;++r<n;){var a=yi(r,i),c=e[a];e[a]=e[r],e[r]=c}return e.length=n,e}Li=(Pr=Co(Pr=function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Fo,function(r,t,i,a){n.push(i?a.replace(nr,"$1"):t||r)}),n},function(e){return Li.size===500&&Li.clear(),e})).cache;var Li,Ga=Pr;function Ln(e){if(typeof e=="string"||sn(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function Dr(e){if(e!=null){try{return Zt.call(e)}catch{}try{return e+""}catch{}}return""}function Ja(e){if(e instanceof ce)return e.clone();var n=new Dn(e.__wrapped__,e.__chain__);return n.__actions__=Qe(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}jn=oe(function(e,n){return Ye(e)?xt(e,He(n,1,Ye,!0)):[]}),_t=oe(function(e,n){var r=_n(n);return Ye(r)&&(r=o),Ye(e)?xt(e,He(n,1,Ye,!0),F(r,2)):[]}),se=oe(function(e,n){var r=_n(n);return Ye(r)&&(r=o),Ye(e)?xt(e,He(n,1,Ye,!0),o,r):[]});function Qa(e,n,r){var t=e==null?0:e.length;return t?(r=r==null?0:J(r),r<0&&(r=Le(t+r,0)),$t(e,F(n,3),r)):-1}function ec(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var i=t-1;return r!==o&&(i=J(r),i=r<0?Le(t+i,0):Fe(i,t-1)),$t(e,F(n,3),i,!0)}function nc(e){return e!=null&&e.length?He(e,1):[]}function rc(e){return e&&e.length?e[0]:o}Wr=oe(function(e){var n=Ce(e,xi);return n.length&&n[0]===e[0]?pi(n):[]}),oi=oe(function(e){var n=_n(e),r=Ce(e,xi);return n===_n(r)?n=o:r.pop(),r.length&&r[0]===e[0]?pi(r,F(n,2)):[]}),Ne=oe(function(e){var n=_n(e),r=Ce(e,xi);return(n=typeof n=="function"?n:o)&&r.pop(),r.length&&r[0]===e[0]?pi(r,o,n):[]});function _n(e){var n=e==null?0:e.length;return n?e[n-1]:o}Pr=oe(tc);function tc(e,n){return e&&e.length&&n&&n.length?vi(e,n):e}var Mf=$n(function(e,n){var r=e==null?0:e.length,t=ci(e,n);return va(e,Ce(n,function(i){return Vn(i,r)?+i:i}).sort(ka)),t});function Ai(e){return e==null?e:gf.call(e)}var Bf=oe(function(e){return ar(He(e,1,Ye,!0))}),Wf=oe(function(e){var n=_n(e);return Ye(n)&&(n=o),ar(He(e,1,Ye,!0),F(n,2))}),Pf=oe(function(e){var n=typeof(n=_n(e))=="function"?n:o;return ar(He(e,1,Ye,!0),o,n)});function Mi(e){if(!e||!e.length)return[];var n=0;return e=tr(e,function(r){return Ye(r)&&(n=Le(r.length,n),1)}),ni(n,function(r){return Ce(e,Jo(r))})}function oc(e,n){return!e||!e.length?[]:(e=Mi(e),n==null?e:Ce(e,function(r){return cn(n,o,r)}))}var Hf=oe(function(e,n){return Ye(e)?xt(e,n):[]}),Nf=oe(function(e){return bi(tr(e,Ye))}),Ff=oe(function(e){var n=_n(e);return Ye(n)&&(n=o),bi(tr(e,Ye),F(n,2))}),Uf=oe(function(e){var n=typeof(n=_n(e))=="function"?n:o;return bi(tr(e,Ye),o,n)}),$f=oe(Mi),Vf=oe(function(e){var n=e.length,n=typeof(n=1<n?e[n-1]:o)=="function"?(e.pop(),n):o;return oc(e,n)});function ic(e){return e=u(e),e.__chain__=!0,e}function mo(e,n){return n(e)}var qf=$n(function(e){function n(a){return ci(a,e)}var r=e.length,t=r?e[0]:0,i=this.__wrapped__;return!(1<r||this.__actions__.length)&&i instanceof ce&&Vn(t)?((i=i.slice(t,+t+(r?1:0))).__actions__.push({func:mo,args:[n],thisArg:o}),new Dn(i,this.__chain__).thru(function(a){return r&&!a.length&&a.push(o),a})):this.thru(n)}),Zf=so(function(e,n,r){ye.call(e,r)?++e[r]:Fn(e,r,1)}),Kf=Xa(Qa),Gf=Xa(ec);function uc(e,n){return(G(e)?dn:ur)(e,F(n,3))}function ac(e,n){return(G(e)?Gc:ta)(e,F(n,3))}var Jf=so(function(e,n,r){ye.call(e,r)?e[r].push(n):Fn(e,r,[n])}),Qf=oe(function(e,n,r){var t=-1,i=typeof n=="function",a=en(e)?_(e.length):[];return ur(e,function(c){a[++t]=i?cn(n,c,r):Ct(c,n,r)}),a}),el=so(function(e,n,r){Fn(e,r,n)});function bo(e,n){return(G(e)?Ce:la)(e,F(n,3))}var nl=so(function(e,n,r){e[r?0:1].push(n)},function(){return[[],[]]}),rl=oe(function(e,n){if(e==null)return[];var r=n.length;return 1<r&&Ke(e,n[0],n[1])?n=[]:2<r&&Ke(n[0],n[1],n[2])&&(n=[n[0]]),da(e,He(n,1),[])}),xo=Wi||function(){return Pe.Date.now()};function cc(e,n,r){return n=r?o:n,n=e&&n==null?e.length:n,Un(e,C,o,o,o,o,n)}function fc(e,n){var r;if(typeof n!="function")throw new gn(p);return e=J(e),function(){return 0<--e&&(r=n.apply(this,arguments)),e<=1&&(n=o),r}}var Bi=oe(function(e,n,r){var t,i=1;return r.length&&(t=ir(r,Vr(Bi)),i|=32),Un(e,i,n,r,t)}),lc=oe(function(e,n,r){var t,i=3;return r.length&&(t=ir(r,Vr(lc)),i|=32),Un(n,i,e,r,t)});function sc(e,n,r){var t,i,a,c,l,h,y=0,w=!1,m=!1,x=!0;if(typeof e!="function")throw new gn(p);function M(X){var W=t,Z=i;return t=i=o,y=X,c=e.apply(Z,W)}function I(X){var W=X-h;return h===o||n<=W||W<0||m&&a<=X-y}function U(){var X,W=xo();if(I(W))return j(W);l=Ot(U,(X=n-((W=W)-h),m?Fe(X,a-(W-y)):X))}function j(X){return l=o,x&&t?M(X):(t=i=o,c)}function D(){var X=xo(),W=I(X);if(t=arguments,i=this,h=X,W){if(l===o)return y=X=h,l=Ot(U,n),w?M(X):c;if(m)return Ca(l),l=Ot(U,n),M(h)}return l===o&&(l=Ot(U,n)),c}return n=mn(n)||0,De(r)&&(w=!!r.leading,m="maxWait"in r,a=m?Le(mn(r.maxWait)||0,n):a,x="trailing"in r?!!r.trailing:x),D.cancel=function(){l!==o&&Ca(l),y=0,t=h=i=l=o},D.flush=function(){return l===o?c:j(xo())},D}var Wi=oe(function(e,n){return ra(e,1,n)}),tl=oe(function(e,n,r){return ra(e,mn(n)||0,r)});function Co(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new gn(p);function r(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;return a.has(i)?a.get(i):(t=e.apply(this,t),r.cache=a.set(i,t)||a,t)}return r.cache=new(Co.Cache||Nn),r}function So(e){if(typeof e!="function")throw new gn(p);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}Co.Cache=Nn;var Pi=Pi(function(e,n){var r=(n=n.length==1&&G(n[0])?Ce(n[0],fn(F())):Ce(He(n,1),fn(F()))).length;return oe(function(t){for(var i=-1,a=Fe(t.length,r);++i<a;)t[i]=n[i].call(this,t[i]);return cn(e,this,t)})}),Hi=oe(function(e,n){var r=ir(n,Vr(Hi));return Un(e,32,o,n,r)}),pc=oe(function(e,n){var r=ir(n,Vr(pc));return Un(e,64,o,n,r)}),ol=$n(function(e,n){return Un(e,256,o,o,o,n)});function zn(e,n){return e===n||e!=e&&n!=n}var il=vo(si),ul=vo(function(e,n){return n<=e}),kr=aa(function(){return arguments}())?aa:function(e){return ze(e)&&ye.call(e,"callee")&&!Vu.call(e,"callee")},G=_.isArray,al=Ou?fn(Ou):function(e){return ze(e)&&Ze(e)==L};function en(e){return e!=null&&Do(e.length)&&!qn(e)}function Ye(e){return ze(e)&&en(e)}var lr=wn||Qi,wn=Yu?fn(Yu):function(e){return ze(e)&&Ze(e)==Ve};function Ni(e){if(!ze(e))return!1;var n=Ze(e);return n==be||n=="[object DOMException]"||typeof e.message=="string"&&typeof e.name=="string"&&!Yt(e)}function qn(e){return De(e)?(e=Ze(e),e==Xe||e==le||e=="[object AsyncFunction]"||e=="[object Proxy]"):!1}function hc(e){return typeof e=="number"&&e==J(e)}function Do(e){return typeof e=="number"&&-1<e&&e%1==0&&e<=O}function De(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function ze(e){return e!=null&&typeof e=="object"}var dc=Tu?fn(Tu):function(e){return ze(e)&&Ue(e)==E};function gc(e){return typeof e=="number"||ze(e)&&Ze(e)==pe}function Yt(e){return!ze(e)||Ze(e)!=$?!1:(e=Jt(e),e===null?!0:(e=ye.call(e,"constructor")&&e.constructor,typeof e=="function"&&e instanceof e&&Zt.call(e)==cf))}var Fi=Ru?fn(Ru):function(e){return ze(e)&&Ze(e)==je},vc=Xu?fn(Xu):function(e){return ze(e)&&Ue(e)==_e};function ko(e){return typeof e=="string"||!G(e)&&ze(e)&&Ze(e)==hn}function sn(e){return typeof e=="symbol"||ze(e)&&Ze(e)==Qn}var qr=ju?fn(ju):function(e){return ze(e)&&Do(e.length)&&!!me[Ze(e)]},cl=vo(gi),fl=vo(function(e,n){return e<=n});function yc(e){if(!e)return[];if(en(e))return(ko(e)?Sn:Qe)(e);if(vt&&e[vt]){for(var n,r=e[vt](),t=[];!(n=r.next()).done;)t.push(n.value);return t}var i=Ue(e);return(i==E?ti:i==_e?Vt:Zr)(e)}function Zn(e){return e?(e=mn(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0}function J(n){var n=Zn(n),r=n%1;return n==n?r?n-r:n:0}function _c(e){return e?xr(J(e),0,A):0}function mn(e){if(typeof e=="number")return e;if(sn(e))return Y;if(typeof(e=De(e)?De(n=typeof e.valueOf=="function"?e.valueOf():e)?n+"":n:e)!="string")return e===0?e:+e;e=Bu(e);var n=Pt.test(e);return n||Uo.test(e)?Zc(e.slice(2),n?2:8):Wt.test(e)?Y:+e}function wc(e){return In(e,nn(e))}function ve(e){return e==null?"":ln(e)}var ll=Ur(function(e,n){if(zt(n)||en(n))In(n,We(n),e);else for(var r in n)ye.call(n,r)&&bt(e,r,n[r])}),mc=Ur(function(e,n){In(n,nn(n),e)}),zo=Ur(function(e,n,r,t){In(n,nn(n),e,t)}),sl=Ur(function(e,n,r,t){In(n,We(n),e,t)}),pl=$n(ci),hl=oe(function(e,n){e=ne(e);var r=-1,t=n.length,i=2<t?n[2]:o;for(i&&Ke(n[0],n[1],i)&&(t=1);++r<t;)for(var a=n[r],c=nn(a),l=-1,h=c.length;++l<h;){var y=c[l],w=e[y];(w===o||zn(w,Br[y])&&!ye.call(e,y))&&(e[y]=a[y])}return e}),dl=oe(function(e){return e.push(o,Ba),cn(bc,o,e)});function Ui(e,n,r){return e=e==null?o:Cr(e,n),e===o?r:e}function $i(e,n){return e!=null&&Ha(e,n,kf)}var gl=Ea(function(e,n,r){e[n=n!=null&&typeof n.toString!="function"?Kt.call(n):n]=r},qi(rn)),vl=Ea(function(e,n,r){n!=null&&typeof n.toString!="function"&&(n=Kt.call(n)),ye.call(e,n)?e[n].push(r):e[n]=[r]},F),yl=oe(Ct);function We(e){return(en(e)?Ju:di)(e)}function nn(e){return en(e)?Ju(e,!0):zf(e)}var _l=Ur(function(e,n,r){co(e,n,r)}),bc=Ur(function(e,n,r,t){co(e,n,r,t)}),wl=$n(function(e,n){var r={};if(e==null)return r;for(var t=!1,i=(n=Ce(n,function(a){return a=cr(a,e),t=t||1<a.length,a}),In(e,Oi(e),r),t&&(r=vn(r,7,If)),n.length);i--;)mi(r,n[i]);return r}),ml=$n(function(e,n){return e==null?{}:ga(r=e,n,function(t,i){return $i(r,i)});var r});function xc(e,n){if(e==null)return{};var r=Ce(Oi(e),function(t){return[t]});return n=F(n),ga(e,r,function(t,i){return n(t,i[0])})}var Cc=Aa(We),Sc=Aa(nn);function Zr(e){return e==null?[]:ri(e,We(e))}var bl=$r(function(e,n,r){return n=n.toLowerCase(),e+(r?Dc(n):n)});function Dc(e){return Vi(ve(e).toLowerCase())}function kc(e){return(e=ve(e))&&e.replace($o,nf).replace(vr,"")}var xl=$r(function(e,n,r){return e+(r?"-":"")+n.toLowerCase()}),Cl=$r(function(e,n,r){return e+(r?" ":"")+n.toLowerCase()}),Sl=Ra("toLowerCase"),Dl=$r(function(e,n,r){return e+(r?"_":"")+n.toLowerCase()}),kl=$r(function(e,n,r){return e+(r?" ":"")+Vi(n)}),zl=$r(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()}),Vi=Ra("toUpperCase");function zc(e,n,r){return e=ve(e),(n=r?o:n)===o?(r=e,Fc.test(r)?e.match(Hc)||[]:e.match(Tr)||[]):e.match(n)||[]}var Oc=oe(function(e,n){try{return cn(e,o,n)}catch(r){return Ni(r)?r:new B(r)}}),Ol=$n(function(e,n){return dn(n,function(r){r=Ln(r),Fn(e,r,Bi(e[r],e))}),e});function qi(e){return function(){return e}}var Yl=ja(),Tl=ja(!0);function rn(e){return e}function Zi(e){return fa(typeof e=="function"?e:vn(e,1))}var Rl=oe(function(e,n){return function(r){return Ct(r,e,n)}}),Xl=oe(function(e,n){return function(r){return Ct(e,r,n)}});function Ki(e,n,r){var t=We(n),i=ao(n,t),a=(r!=null||De(n)&&(i.length||!t.length)||(r=n,n=e,e=this,i=ao(n,We(n))),!(De(r)&&"chain"in r&&!r.chain)),c=qn(e);return dn(i,function(l){var h=n[l];e[l]=h,c&&(e.prototype[l]=function(){var y,w=this.__chain__;return a||w?(((y=e(this.__wrapped__)).__actions__=Qe(this.__actions__)).push({func:h,args:arguments,thisArg:e}),y.__chain__=w,y):h.apply(e,or([this.value()],arguments))})}),e}function Gi(){}var jl=Di(Ce),El=Di(Eu),Il=Di(Go);function Yc(e){return Xi(e)?Jo(Ln(e)):(n=e,function(r){return Cr(r,n)});var n}var Ll=Ia(),Al=Ia(!0);function Ji(){return[]}function Qi(){return!1}var Ml=ho(function(e,n){return e+n},0),Bl=ki("ceil"),Wl=ho(function(e,n){return e/n},1),Pl=ki("floor"),eu,Hl=ho(function(e,n){return e*n},1),Nl=ki("round"),Fl=ho(function(e,n){return e-n},0);return u.after=function(e,n){if(typeof n!="function")throw new gn(p);return e=J(e),function(){if(--e<1)return n.apply(this,arguments)}},u.ary=cc,u.assign=ll,u.assignIn=mc,u.assignInWith=zo,u.assignWith=sl,u.at=pl,u.before=fc,u.bind=Bi,u.bindAll=Ol,u.bindKey=lc,u.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return G(e)?e:[e]},u.chain=ic,u.chunk=function(e,n,r){n=(r?Ke(e,n,r):n===o)?1:Le(J(n),0);var t=e==null?0:e.length;if(!t||n<1)return[];for(var i=0,a=0,c=_(no(t/n));i<t;)c[a++]=yn(e,i,i+=n);return c},u.compact=function(e){for(var n=-1,r=e==null?0:e.length,t=0,i=[];++n<r;){var a=e[n];a&&(i[t++]=a)}return i},u.concat=function(){var e=arguments.length;if(!e)return[];for(var n=_(e-1),r=arguments[0],t=e;t--;)n[t-1]=arguments[t];return or(G(r)?Qe(r):[r],He(n,1))},u.cond=function(e){var n=e==null?0:e.length,r=F();return e=n?Ce(e,function(t){if(typeof t[1]!="function")throw new gn(p);return[r(t[0]),t[1]]}):[],oe(function(t){for(var i=-1;++i<n;){var a=e[i];if(cn(a[0],this,t))return cn(a[1],this,t)}})},u.conforms=function(e){return n=vn(e,1),r=We(n),function(t){return na(t,n,r)};var n,r},u.constant=qi,u.countBy=Zf,u.create=function(e,n){return e=Fr(e),n==null?e:ea(e,n)},u.curry=function e(n,r,t){return n=Un(n,8,o,o,o,o,o,r=t?o:r),n.placeholder=e.placeholder,n},u.curryRight=function e(n,r,t){return n=Un(n,16,o,o,o,o,o,r=t?o:r),n.placeholder=e.placeholder,n},u.debounce=sc,u.defaults=hl,u.defaultsDeep=dl,u.defer=Wi,u.delay=tl,u.difference=jn,u.differenceBy=_t,u.differenceWith=se,u.drop=function(e,n,r){var t=e==null?0:e.length;return t?yn(e,(n=r||n===o?1:J(n))<0?0:n,t):[]},u.dropRight=function(e,n,r){var t=e==null?0:e.length;return t?yn(e,0,(n=t-(n=r||n===o?1:J(n)))<0?0:n):[]},u.dropRightWhile=function(e,n){return e&&e.length?lo(e,F(n,3),!0,!0):[]},u.dropWhile=function(e,n){return e&&e.length?lo(e,F(n,3),!0):[]},u.fill=function(e,n,r,t){if(!(h=e==null?0:e.length))return[];r&&typeof r!="number"&&Ke(e,n,r)&&(r=0,t=h);var i=e,a=n,c=r,l=t,h=i.length;for((c=J(c))<0&&(c=h<-c?0:h+c),(l=l===o||h<l?h:J(l))<0&&(l+=h),l=l<c?0:_c(l);c<l;)i[c++]=a;return i},u.filter=function(e,n){return(G(e)?tr:oa)(e,F(n,3))},u.flatMap=function(e,n){return He(bo(e,n),1)},u.flatMapDeep=function(e,n){return He(bo(e,n),1/0)},u.flatMapDepth=function(e,n,r){return r=r===o?1:J(r),He(bo(e,n),r)},u.flatten=nc,u.flattenDeep=function(e){return e!=null&&e.length?He(e,1/0):[]},u.flattenDepth=function(e,n){return e!=null&&e.length?He(e,n=n===o?1:J(n)):[]},u.flip=function(e){return Un(e,512)},u.flow=Yl,u.flowRight=Tl,u.fromPairs=function(e){for(var n=-1,r=e==null?0:e.length,t={};++n<r;){var i=e[n];t[i[0]]=i[1]}return t},u.functions=function(e){return e==null?[]:ao(e,We(e))},u.functionsIn=function(e){return e==null?[]:ao(e,nn(e))},u.groupBy=Jf,u.initial=function(e){return e!=null&&e.length?yn(e,0,-1):[]},u.intersection=Wr,u.intersectionBy=oi,u.intersectionWith=Ne,u.invert=gl,u.invertBy=vl,u.invokeMap=Qf,u.iteratee=Zi,u.keyBy=el,u.keys=We,u.keysIn=nn,u.map=bo,u.mapKeys=function(e,n){var r={};return n=F(n,3),En(e,function(t,i,a){Fn(r,n(t,i,a),t)}),r},u.mapValues=function(e,n){var r={};return n=F(n,3),En(e,function(t,i,a){Fn(r,i,n(t,i,a))}),r},u.matches=function(e){return sa(vn(e,1))},u.matchesProperty=function(e,n){return pa(e,vn(n,1))},u.memoize=Co,u.merge=_l,u.mergeWith=bc,u.method=Rl,u.methodOf=Xl,u.mixin=Ki,u.negate=So,u.nthArg=function(e){return e=J(e),oe(function(n){return ha(n,e)})},u.omit=wl,u.omitBy=function(e,n){return xc(e,So(F(n)))},u.once=function(e){return fc(2,e)},u.orderBy=function(e,n,r,t){return e==null?[]:da(e,n=G(n)?n:n==null?[]:[n],r=G(r=t?o:r)?r:r==null?[]:[r])},u.over=jl,u.overArgs=Pi,u.overEvery=El,u.overSome=Il,u.partial=Hi,u.partialRight=pc,u.partition=nl,u.pick=ml,u.pickBy=xc,u.property=Yc,u.propertyOf=function(e){return function(n){return e==null?o:Cr(e,n)}},u.pull=Pr,u.pullAll=tc,u.pullAllBy=function(e,n,r){return e&&e.length&&n&&n.length?vi(e,n,F(r,2)):e},u.pullAllWith=function(e,n,r){return e&&e.length&&n&&n.length?vi(e,n,o,r):e},u.pullAt=Mf,u.range=Ll,u.rangeRight=Al,u.rearg=ol,u.reject=function(e,n){return(G(e)?tr:oa)(e,So(F(n,3)))},u.remove=function(e,n){var r=[];if(!e||!e.length)return r;var t=-1,i=[],a=e.length;for(n=F(n,3);++t<a;){var c=e[t];n(c,t,e)&&(r.push(c),i.push(t))}return va(e,i),r},u.rest=function(e,n){if(typeof e!="function")throw new gn(p);return oe(e,n=n===o?n:J(n))},u.reverse=Ai,u.sampleSize=function(e,n,r){return n=(r?Ke(e,n,r):n===o)?1:J(n),(G(e)?bf:Yf)(e,n)},u.set=function(e,n,r){return e==null?e:Dt(e,n,r)},u.setWith=function(e,n,r,t){return t=typeof t=="function"?t:o,e==null?e:Dt(e,n,r,t)},u.shuffle=function(e){return(G(e)?xf:Tf)(e)},u.slice=function(e,n,r){var t=e==null?0:e.length;return t?(r=r&&typeof r!="number"&&Ke(e,n,r)?(n=0,t):(n=n==null?0:J(n),r===o?t:J(r)),yn(e,n,r)):[]},u.sortBy=rl,u.sortedUniq=function(e){return e&&e.length?_a(e):[]},u.sortedUniqBy=function(e,n){return e&&e.length?_a(e,F(n,2)):[]},u.split=function(e,n,r){return r&&typeof r!="number"&&Ke(e,n,r)&&(n=r=o),(r=r===o?A:r>>>0)?(e=ve(e))&&(typeof n=="string"||n!=null&&!Fi(n))&&!(n=ln(n))&&Lr(e)?fr(Sn(e),0,r):e.split(n,r):[]},u.spread=function(e,n){if(typeof e!="function")throw new gn(p);return n=n==null?0:Le(J(n),0),oe(function(i){var t=i[n],i=fr(i,0,n);return t&&or(i,t),cn(e,this,i)})},u.tail=function(e){var n=e==null?0:e.length;return n?yn(e,1,n):[]},u.take=function(e,n,r){return e&&e.length?yn(e,0,(n=r||n===o?1:J(n))<0?0:n):[]},u.takeRight=function(e,n,r){var t=e==null?0:e.length;return t?yn(e,(n=t-(n=r||n===o?1:J(n)))<0?0:n,t):[]},u.takeRightWhile=function(e,n){return e&&e.length?lo(e,F(n,3),!1,!0):[]},u.takeWhile=function(e,n){return e&&e.length?lo(e,F(n,3)):[]},u.tap=function(e,n){return n(e),e},u.throttle=function(e,n,r){var t=!0,i=!0;if(typeof e!="function")throw new gn(p);return De(r)&&(t="leading"in r?!!r.leading:t,i="trailing"in r?!!r.trailing:i),sc(e,n,{leading:t,maxWait:n,trailing:i})},u.thru=mo,u.toArray=yc,u.toPairs=Cc,u.toPairsIn=Sc,u.toPath=function(e){return G(e)?Ce(e,Ln):sn(e)?[e]:Qe(Ga(ve(e)))},u.toPlainObject=wc,u.transform=function(e,n,r){var t,i=G(e),a=i||lr(e)||qr(e);return n=F(n,4),r==null&&(t=e&&e.constructor,r=a?i?new t:[]:De(e)&&qn(t)?Fr(Jt(e)):{}),(a?dn:En)(e,function(c,l,h){return n(r,c,l,h)}),r},u.unary=function(e){return cc(e,1)},u.union=Bf,u.unionBy=Wf,u.unionWith=Pf,u.uniq=function(e){return e&&e.length?ar(e):[]},u.uniqBy=function(e,n){return e&&e.length?ar(e,F(n,2)):[]},u.uniqWith=function(e,n){return n=typeof n=="function"?n:o,e&&e.length?ar(e,o,n):[]},u.unset=function(e,n){return e==null||mi(e,n)},u.unzip=Mi,u.unzipWith=oc,u.update=function(e,n,r){return e==null?e:ma(e,n,Ci(r))},u.updateWith=function(e,n,r,t){return t=typeof t=="function"?t:o,e==null?e:ma(e,n,Ci(r),t)},u.values=Zr,u.valuesIn=function(e){return e==null?[]:ri(e,nn(e))},u.without=Hf,u.words=zc,u.wrap=function(e,n){return Hi(Ci(n),e)},u.xor=Nf,u.xorBy=Ff,u.xorWith=Uf,u.zip=$f,u.zipObject=function(e,n){return xa(e||[],n||[],bt)},u.zipObjectDeep=function(e,n){return xa(e||[],n||[],Dt)},u.zipWith=Vf,u.entries=Cc,u.entriesIn=Sc,u.extend=mc,u.extendWith=zo,Ki(u,u),u.add=Ml,u.attempt=Oc,u.camelCase=bl,u.capitalize=Dc,u.ceil=Bl,u.clamp=function(e,n,r){return r===o&&(r=n,n=o),r!==o&&(r=(r=mn(r))==r?r:0),n!==o&&(n=(n=mn(n))==n?n:0),xr(mn(e),n,r)},u.clone=function(e){return vn(e,4)},u.cloneDeep=function(e){return vn(e,5)},u.cloneDeepWith=function(e,n){return vn(e,5,n=typeof n=="function"?n:o)},u.cloneWith=function(e,n){return vn(e,4,n=typeof n=="function"?n:o)},u.conformsTo=function(e,n){return n==null||na(e,n,We(n))},u.deburr=kc,u.defaultTo=function(e,n){return e==null||e!=e?n:e},u.divide=Wl,u.endsWith=function(e,n,r){e=ve(e),n=ln(n);var t=e.length,t=r=r===o?t:xr(J(r),0,t);return 0<=(r-=n.length)&&e.slice(r,t)==n},u.eq=zn,u.escape=function(e){return(e=ve(e))&&an.test(e)?e.replace(ut,rf):e},u.escapeRegExp=function(e){return(e=ve(e))&&qe.test(e)?e.replace(Rn,"\\$&"):e},u.every=function(e,n,r){return(G(e)?Eu:Sf)(e,F(n=r&&Ke(e,n,r)?o:n,3))},u.find=Kf,u.findIndex=Qa,u.findKey=function(e,n){return Iu(e,F(n,3),En)},u.findLast=Gf,u.findLastIndex=ec,u.findLastKey=function(e,n){return Iu(e,F(n,3),li)},u.floor=Pl,u.forEach=uc,u.forEachRight=ac,u.forIn=function(e,n){return e==null?e:fi(e,F(n,3),nn)},u.forInRight=function(e,n){return e==null?e:ia(e,F(n,3),nn)},u.forOwn=function(e,n){return e&&En(e,F(n,3))},u.forOwnRight=function(e,n){return e&&li(e,F(n,3))},u.get=Ui,u.gt=il,u.gte=ul,u.has=function(e,n){return e!=null&&Ha(e,n,Df)},u.hasIn=$i,u.head=rc,u.identity=rn,u.includes=function(e,n,r,t){return e=en(e)?e:Zr(e),r=r&&!t?J(r):0,t=e.length,r<0&&(r=Le(t+r,0)),ko(e)?r<=t&&-1<e.indexOf(n,r):!!t&&-1<Ir(e,n,r)},u.indexOf=function(e,n,r){var t=e==null?0:e.length;return t?(r=r==null?0:J(r),Ir(e,n,r=r<0?Le(t+r,0):r)):-1},u.inRange=function(e,n,r){return n=Zn(n),r===o?(r=n,n=0):r=Zn(r),(e=e=mn(e))>=Fe(n=n,r=r)&&e<Le(n,r)},u.invoke=yl,u.isArguments=kr,u.isArray=G,u.isArrayBuffer=al,u.isArrayLike=en,u.isArrayLikeObject=Ye,u.isBoolean=function(e){return e===!0||e===!1||ze(e)&&Ze(e)==Ge},u.isBuffer=lr,u.isDate=wn,u.isElement=function(e){return ze(e)&&e.nodeType===1&&!Yt(e)},u.isEmpty=function(e){if(e==null)return!0;if(en(e)&&(G(e)||typeof e=="string"||typeof e.splice=="function"||lr(e)||qr(e)||kr(e)))return!e.length;var n,r=Ue(e);if(r==E||r==_e)return!e.size;if(zt(e))return!di(e).length;for(n in e)if(ye.call(e,n))return!1;return!0},u.isEqual=function(e,n){return St(e,n)},u.isEqualWith=function(e,n,r){var t=(r=typeof r=="function"?r:o)?r(e,n):o;return t===o?St(e,n,o,r):!!t},u.isError=Ni,u.isFinite=function(e){return typeof e=="number"&&Zu(e)},u.isFunction=qn,u.isInteger=hc,u.isLength=Do,u.isMap=dc,u.isMatch=function(e,n){return e===n||hi(e,n,Ti(n))},u.isMatchWith=function(e,n,r){return r=typeof r=="function"?r:o,hi(e,n,Ti(n),r)},u.isNaN=function(e){return gc(e)&&e!=+e},u.isNative=function(e){if(Af(e))throw new B("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ca(e)},u.isNil=function(e){return e==null},u.isNull=function(e){return e===null},u.isNumber=gc,u.isObject=De,u.isObjectLike=ze,u.isPlainObject=Yt,u.isRegExp=Fi,u.isSafeInteger=function(e){return hc(e)&&-O<=e&&e<=O},u.isSet=vc,u.isString=ko,u.isSymbol=sn,u.isTypedArray=qr,u.isUndefined=function(e){return e===o},u.isWeakMap=function(e){return ze(e)&&Ue(e)==er},u.isWeakSet=function(e){return ze(e)&&Ze(e)=="[object WeakSet]"},u.join=function(e,n){return e==null?"":sf.call(e,n)},u.kebabCase=xl,u.last=_n,u.lastIndexOf=function(e,n,r){var t=e==null?0:e.length;if(!t)return-1;var i=t;if(r!==o&&(i=(i=J(r))<0?Le(t+i,0):Fe(i,t-1)),n!=n)return $t(e,Lu,i,!0);for(var a=e,c=n,l=i+1;l--;)if(a[l]===c)return l;return l},u.lowerCase=Cl,u.lowerFirst=Sl,u.lt=cl,u.lte=fl,u.max=function(e){return e&&e.length?uo(e,rn,si):o},u.maxBy=function(e,n){return e&&e.length?uo(e,F(n,2),si):o},u.mean=function(e){return Au(e,rn)},u.meanBy=function(e,n){return Au(e,F(n,2))},u.min=function(e){return e&&e.length?uo(e,rn,gi):o},u.minBy=function(e,n){return e&&e.length?uo(e,F(n,2),gi):o},u.stubArray=Ji,u.stubFalse=Qi,u.stubObject=function(){return{}},u.stubString=function(){return""},u.stubTrue=function(){return!0},u.multiply=Hl,u.nth=function(e,n){return e&&e.length?ha(e,J(n)):o},u.noConflict=function(){return Pe._===this&&(Pe._=ff),this},u.noop=Gi,u.now=xo,u.pad=function(e,n,r){e=ve(e);var t=(n=J(n))?Ar(e):0;return!n||n<=t?e:go(ro(n=(n-t)/2),r)+e+go(no(n),r)},u.padEnd=function(e,n,r){e=ve(e);var t=(n=J(n))?Ar(e):0;return n&&t<n?e+go(n-t,r):e},u.padStart=function(e,n,r){e=ve(e);var t=(n=J(n))?Ar(e):0;return n&&t<n?go(n-t,r)+e:e},u.parseInt=function(e,n,r){return n=r||n==null?0:n&&+n,df(ve(e).replace(Yr,""),n||0)},u.random=function(e,n,r){var t;return r&&typeof r!="boolean"&&Ke(e,n,r)&&(n=r=o),r===o&&(typeof n=="boolean"?(r=n,n=o):typeof e=="boolean"&&(r=e,e=o)),e===o&&n===o?(e=0,n=1):(e=Zn(e),n===o?(n=e,e=0):n=Zn(n)),n<e&&(t=e,e=n,n=t),r||e%1||n%1?(t=Ku(),Fe(e+t*(n-e+qc("1e-"+((t+"").length-1))),n)):yi(e,n)},u.reduce=function(e,n,r){var t=G(e)?Ko:Mu,i=arguments.length<3;return t(e,F(n,4),r,i,ur)},u.reduceRight=function(e,n,r){var t=G(e)?Jc:Mu,i=arguments.length<3;return t(e,F(n,4),r,i,ta)},u.repeat=function(e,n,r){return n=(r?Ke(e,n,r):n===o)?1:J(n),_i(ve(e),n)},u.replace=function(){var e=arguments,n=ve(e[0]);return e.length<3?n:n.replace(e[1],e[2])},u.result=function(e,n,r){var t=-1,i=(n=cr(n,e)).length;for(i||(i=1,e=o);++t<i;){var a=e==null?o:e[Ln(n[t])];a===o&&(t=i,a=r),e=qn(a)?a.call(e):a}return e},u.round=Nl,u.runInContext=g,u.sample=function(e){return(G(e)?Qu:Of)(e)},u.size=function(e){if(e==null)return 0;if(en(e))return ko(e)?Ar(e):e.length;var n=Ue(e);return n==E||n==_e?e.size:di(e).length},u.snakeCase=Dl,u.some=function(e,n,r){return(G(e)?Go:Rf)(e,F(n=r&&Ke(e,n,r)?o:n,3))},u.sortedIndex=function(e,n){return fo(e,n)},u.sortedIndexBy=function(e,n,r){return wi(e,n,F(r,2))},u.sortedIndexOf=function(e,n){var r=e==null?0:e.length;if(r){var t=fo(e,n);if(t<r&&zn(e[t],n))return t}return-1},u.sortedLastIndex=function(e,n){return fo(e,n,!0)},u.sortedLastIndexBy=function(e,n,r){return wi(e,n,F(r,2),!0)},u.sortedLastIndexOf=function(e,n){if(e!=null&&e.length){var r=fo(e,n,!0)-1;if(zn(e[r],n))return r}return-1},u.startCase=kl,u.startsWith=function(e,n,r){return e=ve(e),r=r==null?0:xr(J(r),0,e.length),n=ln(n),e.slice(r,r+n.length)==n},u.subtract=Fl,u.sum=function(e){return e&&e.length?ei(e,rn):0},u.sumBy=function(e,n){return e&&e.length?ei(e,F(n,2)):0},u.template=function(e,n,w){var t,i,h=u.templateSettings;w&&Ke(e,n,w)&&(n=o),e=ve(e),n=zo({},n,h,Ma);var a=We(w=zo({},n.imports,h.imports,Ma)),c=ri(w,a),l=0,h=n.interpolate||Xr,y="__p += '",w=gt((n.escape||Xr).source+"|"+h.source+"|"+(h===at?Wn:Xr).source+"|"+(n.evaluate||Xr).source+"|$","g"),m="//# sourceURL="+(ye.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$c+"]")+`
`;if(e.replace(w,function(x,M,I,U,j,D){return I=I||U,y+=e.slice(l,D).replace(Vo,tf),M&&(t=!0,y+=`' +
__e(`+M+`) +
'`),j&&(i=!0,y+=`';
`+j+`;
__p += '`),I&&(y+=`' +
((__t = (`+I+`)) == null ? '' : __t) +
'`),l=D+x.length,x}),y+=`';
`,h=ye.call(n,"variable")&&n.variable){if(Rr.test(h))throw new B("Invalid `variable` option passed into `_.template`")}else y=`with (obj) {
`+y+`
}
`;if(y=(i?y.replace(un,""):y).replace(Ee,"$1").replace(Tn,"$1;"),y="function("+(h||"obj")+`) {
`+(h?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(t?", __e = _.escape":"")+(i?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+y+`return __p
}`,(w=Oc(function(){return K(a,m+"return "+y).apply(o,c)})).source=y,Ni(w))throw w;return w},u.times=function(e,n){if((e=J(e))<1||O<e)return[];for(var r=A,t=Fe(e,A),t=(n=F(n),e-=A,ni(t,n));++r<e;)n(r);return t},u.toFinite=Zn,u.toInteger=J,u.toLength=_c,u.toLower=function(e){return ve(e).toLowerCase()},u.toNumber=mn,u.toSafeInteger=function(e){return e?xr(J(e),-O,O):e===0?e:0},u.toString=ve,u.toUpper=function(e){return ve(e).toUpperCase()},u.trim=function(e,n,r){return(e=ve(e))&&(r||n===o)?Bu(e):e&&(n=ln(n))?(r=Sn(e),e=Sn(n),fr(r,Wu(r,e),Pu(r,e)+1).join("")):e},u.trimEnd=function(e,n,r){return(e=ve(e))&&(r||n===o)?e.slice(0,Nu(e)+1):e&&(n=ln(n))?fr(r=Sn(e),0,Pu(r,Sn(n))+1).join(""):e},u.trimStart=function(e,n,r){return(e=ve(e))&&(r||n===o)?e.replace(Yr,""):e&&(n=ln(n))?fr(r=Sn(e),Wu(r,Sn(n))).join(""):e},u.truncate=function(e,i){var r,c=30,t="...",i=(De(i)&&(r="separator"in i?i.separator:r,c="length"in i?J(i.length):c,t="omission"in i?ln(i.omission):t),(e=ve(e)).length);if((i=Lr(e)?(a=Sn(e)).length:i)<=c)return e;if((i=c-Ar(t))<1)return t;var a,c=a?fr(a,0,i).join(""):e.slice(0,i);if(r===o)return c+t;if(a&&(i+=c.length-i),Fi(r)){if(e.slice(i).search(r)){var l,h=c;for((r=r.global?r:gt(r.source,ve(lt.exec(r))+"g")).lastIndex=0;l=r.exec(h);)var y=l.index;c=c.slice(0,y===o?i:y)}}else e.indexOf(ln(r),i)==i||-1<(a=c.lastIndexOf(r))&&(c=c.slice(0,a));return c+t},u.unescape=function(e){return(e=ve(e))&&H.test(e)?e.replace(it,of):e},u.uniqueId=function(e){var n=++af;return ve(e)+n},u.upperCase=zl,u.upperFirst=Vi,u.each=uc,u.eachRight=ac,u.first=rc,Ki(u,(eu={},En(u,function(e,n){ye.call(u.prototype,n)||(eu[n]=e)}),eu),{chain:!1}),u.VERSION="4.17.21",dn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),dn(["drop","take"],function(e,n){ce.prototype[e]=function(r){r=r===o?1:Le(J(r),0);var t=this.__filtered__&&!n?new ce(this):this.clone();return t.__filtered__?t.__takeCount__=Fe(r,t.__takeCount__):t.__views__.push({size:Fe(r,A),type:e+(t.__dir__<0?"Right":"")}),t},ce.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}}),dn(["filter","map","takeWhile"],function(e,n){var r=n+1,t=r==1||r==3;ce.prototype[e]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:F(i,3),type:r}),a.__filtered__=a.__filtered__||t,a}}),dn(["head","last"],function(e,n){var r="take"+(n?"Right":"");ce.prototype[e]=function(){return this[r](1).value()[0]}}),dn(["initial","tail"],function(e,n){var r="drop"+(n?"":"Right");ce.prototype[e]=function(){return this.__filtered__?new ce(this):this[r](1)}}),ce.prototype.compact=function(){return this.filter(rn)},ce.prototype.find=function(e){return this.filter(e).head()},ce.prototype.findLast=function(e){return this.reverse().find(e)},ce.prototype.invokeMap=oe(function(e,n){return typeof e=="function"?new ce(this):this.map(function(r){return Ct(r,e,n)})}),ce.prototype.reject=function(e){return this.filter(So(F(e)))},ce.prototype.slice=function(e,n){e=J(e);var r=this;return r.__filtered__&&(0<e||n<0)?new ce(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),n!==o?(n=J(n))<0?r.dropRight(-n):r.take(n-e):r)},ce.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ce.prototype.toArray=function(){return this.take(A)},En(ce.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),t=/^(?:head|last)$/.test(n),i=u[t?"take"+(n=="last"?"Right":""):n],a=t||/^find/.test(n);i&&(u.prototype[n]=function(){function c(U){return U=i.apply(u,or([U],y)),t&&m?U[0]:U}var l,h=this.__wrapped__,y=t?[1]:arguments,I=h instanceof ce,x=y[0],w=I||G(h),m=(w&&r&&typeof x=="function"&&x.length!=1&&(I=w=!1),this.__chain__),x=!!this.__actions__.length,M=a&&!m,I=I&&!x;return!a&&w?(h=I?h:new ce(this),(l=e.apply(h,y)).__actions__.push({func:mo,args:[c],thisArg:o}),new Dn(l,m)):M&&I?e.apply(this,y):(l=this.thru(c),M?t?l.value()[0]:l.value():l)})}),dn(["pop","push","shift","sort","splice","unshift"],function(e){var n=qt[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",t=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var i,a=arguments;return t&&!this.__chain__?(i=this.value(),n.apply(G(i)?i:[],a)):this[r](function(c){return n.apply(G(c)?c:[],a)})}}),En(ce.prototype,function(e,n){var r,t=u[n];t&&(r=t.name+"",ye.call(Nr,r)||(Nr[r]=[]),Nr[r].push({name:n,func:t}))}),Nr[po(o,2).name]=[{name:"wrapper",func:o}],ce.prototype.clone=function(){var e=new ce(this.__wrapped__);return e.__actions__=Qe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Qe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Qe(this.__views__),e},ce.prototype.reverse=function(){var e;return this.__filtered__?((e=new ce(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},ce.prototype.value=function(){var e=this.__wrapped__.value(),n=this.__dir__,r=G(e),t=n<0,i=r?e.length:0,a=function(X,W,Z){for(var fe=-1,ke=Z.length;++fe<ke;){var tn=Z[fe],Te=tn.size;switch(tn.type){case"drop":X+=Te;break;case"dropRight":W-=Te;break;case"take":W=Fe(W,X+Te);break;case"takeRight":X=Le(X,W-Te)}}return{start:X,end:W}}(0,i,this.__views__),c=a.start,l=(a=a.end)-c,h=t?a:c-1,y=this.__iteratees__,w=y.length,m=0,x=Fe(l,this.__takeCount__);if(!r||!t&&i==l&&x==l)return ba(e,this.__actions__);var M=[];e:for(;l--&&m<x;){for(var I=-1,U=e[h+=n];++I<w;){var j=y[I],D=j.iteratee,j=j.type,D=D(U);if(j==2)U=D;else if(!D){if(j==1)continue e;break e}}M[m++]=U}return M},u.prototype.at=qf,u.prototype.chain=function(){return ic(this)},u.prototype.commit=function(){return new Dn(this.value(),this.__chain__)},u.prototype.next=function(){this.__values__===o&&(this.__values__=yc(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},u.prototype.plant=function(e){for(var n,i=this;i instanceof oo;)var r=Ja(i),t=(r.__index__=0,r.__values__=o,n?t.__wrapped__=r:n=r,r),i=i.__wrapped__;return t.__wrapped__=e,n},u.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof ce?(e=e,(e=(e=this.__actions__.length?new ce(this):e).reverse()).__actions__.push({func:mo,args:[Ai],thisArg:o}),new Dn(e,this.__chain__)):this.thru(Ai)},u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return ba(this.__wrapped__,this.__actions__)},u.prototype.first=u.prototype.head,vt&&(u.prototype[vt]=function(){return this}),u}();_r?((_r.exports=Mr)._=Mr,yr._=Mr):Pe._=Mr}.call(Qr);const Kn=1e5,Gn=window.devicePixelRatio||1,et={daubConfig:{lineWidth:20,strokeStyle:"white"},tagConfig:{fontSize:20,showText:!0,fillStyle:"rgba(242, 88, 85, 0.5)",textFillStyle:"rgba(255, 255, 255, 0.6)",hoverStrokeStyle:"#F25856",hoverLineWidth:1,hoverLineDash:[5],highlightStrokeStyle:"yellow",highlightLineWidth:2,highlightLineDash:[5],customDraw(){}},layerConfig:{fillStyle:"rgba(0, 0, 0, 0.6)"},cropConfig:{lineDash:[],strokeStyle:"rgba(255, 255, 255, 1)",lineWidth:2,customDraw(){}}},nt={width:0,height:0},pn={x:void 0,y:void 0};function pr(o){o.clearRect(-Kn/2,-Kn/2,Kn,Kn)}function fu(o,p){let v=new Image;return p&&(v.crossOrigin="anonymous"),v.src=o,new Promise((f,C)=>{v.complete?f(v):(v.onload=function(){f(v)},v.onerror=function(){C("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25:"+v.src)})})}function zr(o,p,v,f,C,O){o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(p,v,f,C,O)}function lu(o,p){o.fillStyle=p.layerConfig.fillStyle,o.fillRect(-Kn/2,-Kn/2,Kn,Kn)}function su(o,p,v,f,C){o.clearRect(p,v,f,C)}function pu(o,p,v,f,C,O,Y){O=ie.exports.cloneDeep(O.cropConfig),Y&&Y.cropConfig&&Object.assign(O,Y.cropConfig),o.setLineDash(O.lineDash),o.strokeStyle=O.strokeStyle,o.lineWidth=O.lineWidth,o.strokeRect(p,v,f,C)}function hu(o){return o=o.getClientRects()[0],o?{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}:void 0}function jt(o,p){o.canvas.width=p.width,o.canvas.height=p.height}function On(o,p=["width","height"],v=!1){try{var f=function(O){let Y=Object.prototype.toString.call(O);return Y.slice(8,Y.length-1)}(o);let C=v?1/Gn:Gn;if(f==="Number")return o*C;p.forEach(O=>{o[O]*=C})}catch{}return o}function du(o){return Array.from(o.touches||[]).map(p=>On({clientX:p.clientX,clientY:p.clientY},["clientX","clientY"]))}function gu(o,p,v,f,C,O,Y){Y||(pr(o),lu(o,O)),su(o,p,v,f,C),pu(o,p,v,f,C,O)}function Io(o,p,v,f){let C,O;p.forEach((Y,A)=>{o&&(C=p[A-1]||Y,O=Y,o.beginPath(),o.lineJoin="round",o.lineCap="round",o.lineWidth=Y.lineWidth||f.daubConfig.lineWidth,o.strokeStyle=Y.strokeStyle||f.daubConfig.strokeStyle,o.moveTo(C._x||C.x,C._y||C.y),o.lineTo(O._x||O.x,O._y||O.y),o.stroke())})}function Jn(o,p,v,f,C,O){O||(pr(o),lu(o,f)),p.forEach(Y=>{var N;let A=Mn(Y,Y.__scale,v),P=(C&&(A[0]+=C.offsetX,A[1]+=C.offsetY),su(o,...A),pu(o,...A,f,Y),ie.exports.cloneDeep(f.cropConfig));Y&&Y.cropConfig&&Object.assign(P,Y.cropConfig),(N=P.customDraw)==null||N.call(P,o,{target:Y,positions:A})})}function rt(o,p,v=1,f={x:0,y:0}){let C=[],O=[];return p.map(A=>{{var P=v,N=f;let ue=ie.exports.cloneDeep(A);return ue.startX=ue.startX*P+N.x,ue.endX=ue.endX*P+N.x,ue.startY=ue.startY*P+N.y,ue.endY=ue.endY*P+N.y,ue}}).forEach((A,P)=>{!function(N,ue){if(N.x>=ue.startX&&N.x<=ue.endX&&N.y>=ue.startY&&N.y<=ue.endY)return 1}(o,A)||(C.push(p[P]),O.push(P))}),{boxList:C,indexList:O}}function Et(o,p){let v=p[0],f=p[0]+p[2],C=p[1],O=p[1]+p[3];return o.x>=v&&o.x<=f&&o.y>=C&&o.y<=O}function Lo(o,p){var v=Math.abs(p.x-o.x),f=Math.abs(p.y-o.y);return[Math.min(o.x,p.x),Math.min(o.y,p.y),v,f]}function Yn(Y){let p=Y;var{startX:Y,startY:A,endX:v,endY:f}=p,C=Math.abs(Y-v),O=Math.abs(A-f),Y=Math.min(Y,v),A=Math.min(A,f);return p.startX=Y,p.startY=A,p.endX=Y+C,p.endY=A+O,{info:p,position:[Y,A,C,O]}}function tt(v,f){var v=Yn(v),f=Yn(f),C=Math.min(v.info.startY,f.info.startY),O=Math.max(v.info.endY,f.info.endY);let Y;Math.abs(O-C)<v.position[3]+f.position[3]&&(Y={startY:Math.max(v.info.startY,f.info.startY),endY:Math.min(v.info.endY,f.info.endY)}),O=Math.min(v.info.startX,f.info.startX),C=Math.max(v.info.endX,f.info.endX),C=Math.abs(C-O),O=v.position[2]+f.position[2];let A;if((A=C<O?{startX:Math.max(v.info.startX,f.info.startX),endX:Math.min(v.info.endX,f.info.endX)}:A)!==void 0&&Y!==void 0)return Object.assign(Y,A)}function Mn(Y,p=1,v={x:0,y:0}){var Y=Yn(Y),{startX:f,startY:C}=Y.info,O=Y.position[2],Y=Y.position[3];return[f*p+v.x,C*p+v.y,O*p,Y*p]}function Ao(o){return o=Mn(o),5<=o[2]&&5<=o[3]}function Mo(o,p,v,f,C,O,Y,A,P,N,ue,Ge,Ve){let be=ie.exports.cloneDeep(O.tagConfig);if(Ge&&Object.assign(be,Ge),o.font=be.fontSize+"px sans-serif",A||P){if(!P||A&&A.type==="move"||(o.fillStyle=be.fillStyle,o.fillRect(p,v,f,C),Y&&be.showText&&(O=parseFloat(o.font.split(" ")[0]),o.fillStyle=be.textFillStyle,o.fillText(ue||Y+"",p+4,v+C/2+O/2))),N&&(o.strokeStyle=be.highlightStrokeStyle,o.lineWidth=be.highlightLineWidth,o.setLineDash(be.highlightLineDash),o.strokeRect(p,v,f,C)),A&&Et(A,[p,v,f,C])){if(A.type==="click")return{isShow:P=!P,isCrash:!0};A.type!=="move"||P||(o.strokeStyle=be.hoverStrokeStyle,o.lineWidth=be.hoverLineWidth,o.setLineDash(be.hoverLineDash),o.strokeRect(p,v,f,C))}be.customDraw(o,{target:Ve,positions:[p,v,f,C]})}}function Bn(o,p,v,f,C={offsetX:0,offsetY:0},O){let Y=!1,A=[];return p.forEach(P=>{let N=Mn(P,P.__scale,v);N[0]+=C.offsetX,N[1]+=C.offsetY;var ue=Mo(o,...N,f,(P.__index||0)+1,O,P.isShow,P.showOutLine,P.labelText,P.tagConfig,P);ue!==void 0&&(P.isShow=ue.isShow,ue.isCrash&&(Y=!0,A.push(P)))}),{isReDraw:Y,redrawList:A}}function vu(o,p,v){return v=It({x:o[0],y:o[1]},p,v),o[0]=v.x,o[1]=v.y,o[2]/=p/Gn,o[3]/=p/Gn,o}function yu(o,p){return(o.x<=p.x?"left":"right")+"-"+(o.y<=p.y?"top":"bottom")}function _u(o,O,v){var f=Lo(o,O),C=(O.x-o.x)/v,O=(O.y-o.y)/v;let Y=!1;return{isStartMove:Y=5<f[2]||5<f[3]?!0:Y,offsetInfo:{offsetX:C,offsetY:O}}}function It(o,p,v){return{x:o.x/p+v.x,y:o.y/p+v.y}}function Lt(o,p,v,f){return o=It({x:o.layerX,y:o.layerY},p,v),{x:o.x,y:o.y,type:f}}function wu(o,p,v=-1,f){return o=Mn(o,o.__scale,p),p=f!=null?f:b.mobile()?6*Gn:6,f=p/2,[{index:v,name:"left-top",type:"vertex",positions:[o[0]-f,o[1]-f,p,p]},{index:v,name:"right-top",type:"vertex",positions:[o[0]+o[2]-f,o[1]-f,p,p]},{index:v,name:"left-bottom",type:"vertex",positions:[o[0]-f,o[1]+o[3]-f,p,p]},{index:v,name:"right-bottom",type:"vertex",positions:[o[0]+o[2]-f,o[1]+o[3]-f,p,p]},{index:v,name:"left",type:"border",positions:[o[0]-f,o[1]+f,p,o[3]-f]},{index:v,name:"top",type:"border",positions:[o[0]+f,o[1]-f,o[2]-f,p]},{index:v,name:"right",type:"border",positions:[o[0]+o[2]-f,o[1]+f,p,o[3]-f]},{index:v,name:"bottom",type:"border",positions:[o[0]+f,o[1]+o[3]-f,o[2]-f,p]}]}function Bo(o,p,v,f,C){o=Lt(o,v,C,"move");let O=p.map((A,P)=>wu(A,f,P)).flat(),Y=function(A,P){let N=!1,ue=[],Ge=[];return P.forEach((Ve,be)=>{Et(A,Ve)&&(N=!0,ue.push(Ve),Ge.push(be))}),{hasIn:N,coverList:ue,coverIndexList:Ge}}(o,O.map(A=>A.positions));return{hasIn:Y.hasIn,list:Y.coverIndexList.map(A=>O[A])}}function Wo(o){if(o=o.find(p=>p.type==="vertex")||o[0],o)return o;throw new Error("findOneBorderOrVertex list may be empty.")}function mu(o,p,v,f,C,O,Y){Y||((Y=Bo(p,v,f,C,O)).hasIn?((p=Wo(Y.list).name)!=="left-top"&&p!=="right-bottom"||(o.style.cursor="nwse-resize"),p!=="right-top"&&p!=="left-bottom"||(o.style.cursor="nesw-resize"),p!=="left"&&p!=="right"||(o.style.cursor="col-resize"),p!=="top"&&p!=="bottom"||(o.style.cursor="row-resize")):o.style.cursor="auto")}function bu(o,p,v,f,C,O,Y,A,P,N,ue){if(p&&p.x!==void 0&&v&&v.x!==void 0){var p=_u(p,v,O);if(p.isStartMove)return{offsetX:v,offsetY:O}=p.offsetInfo,p=Mn(function(pe,be,$){if(!$)return pe;let le=ie.exports.cloneDeep(pe),E=$.name;var{offsetX:pe,offsetY:$}=be;return E.includes("left")&&(le.startX+=pe),E.includes("top")&&(le.startY+=$),E.includes("right")&&(le.endX+=pe),E.includes("bottom")&&(le.endY+=$),le}(f,{offsetX:v/C,offsetY:O/C},P),C,Y),Jn(o,N,Y,ue),ue.mode=="crop"&&gu(o,...p,ue,!0),Bn(o,A,Y,ue),ue.mode=="tag"&&Mo(o,...p,ue,(f.__index||0)+1,void 0,f.isShow,f.showOutLine,f.labelText,f.tagConfig,void 0),p}}function xu(o,p){return Math.abs(o-p)}function Cu(o){return{width:xu(o[0].clientX,o[1].clientX),height:xu(o[0].clientY,o[1].clientY)}}function Po(o,p,v=1){return Yn({startX:(o[0]-p.x)/v,startY:(o[1]-p.y)/v,endX:(o[0]+o[2]-p.x)/v,endY:(o[1]+o[3]-p.y)/v}).info}function on(o,p,v){return o.map((f,C)=>(f.__scale=p,f.__index=C,Yn(No(f,v)).info))}function Ho(o,p,v){return o.map(f=>f.map(C=>({...C,_x:C.x*v+p.x,_y:C.y*v+p.y})))}function Su(o,p){for(const v of p)if(tt(o,v))return!0;return!1}function Du(o,p){return p=tt(o,p),!(!p||p.startX!==o.startX||p.endX!==o.endX||p.startY!==o.startY||p.endY!==o.endY)}function ku(o,p,v){let f=ie.exports.cloneDeep(v);return o==="img"&&(f.startX=f.startX+p.startX,f.startY=f.startY+p.startY,f.endX=f.endX+p.startX,f.endY=f.endY+p.startY),o==="crop"&&(f.startX=f.startX-p.startX,f.startY=f.startY-p.startY,f.endX=f.endX-p.startX,f.endY=f.endY-p.startY),f}function No(o,p){return o.startX=parseFloat(o.startX.toFixed(p)),o.endX=parseFloat(o.endX.toFixed(p)),o.startY=parseFloat(o.startY.toFixed(p)),o.endY=parseFloat(o.endY.toFixed(p)),o}var Or=(o,p)=>{const v=o.__vccOpts||o;for(var[f,C]of p)v[f]=C;return v},ot=o=>(q.pushScopeId("data-v-c68bd52e"),o=o(),q.popScopeId(),o);const jc=["onTouchmove","onTouchstart","onTouchend"],Ec={key:0,class:"mode-panel"},Ic={class:"status"},Lc={class:"text"},Ac={class:"tip"},Mc=ot(()=>q.createElementVNode("kbd",null,"Ctrl",-1)),Bc=q.createTextVNode(" + "),Wc=ot(()=>q.createElementVNode("kbd",null,"B",-1)),Pc=ot(()=>q.createElementVNode("span",{style:{"font-size":"14px","margin-left":"10px"}},"\u5207\u6362\u6A21\u5F0F",-1));ot=q.defineComponent({props:{cropConfig:{default:()=>et.cropConfig},daubConfig:{default:()=>et.daubConfig},layerConfig:{default:()=>et.layerConfig},tagConfig:{default:()=>et.tagConfig},drawingText:null,isShowTip:{type:Boolean,default:!1},enableScale:{type:Boolean,default:!0},enableMove:{type:Boolean,default:!0},enableDrawCrop:{type:Boolean,default:!0},enableDrawTag:{type:Boolean,default:!0},initScale:{type:Boolean,default:!0},enableInteractiveTagChangeStatus:{type:Boolean,default:!0},enableCropCross:{type:Boolean,default:!1},handleResizeCropCross:{default:"reset"},enableInteractiveCropDelete:{type:Boolean,default:!0},enableCropResize:{type:Boolean,default:!0},enableTagResize:{type:Boolean,default:!1},enableDrawCropOutOfImg:{type:Boolean,default:!0},enableDrawTagOutOfCrop:{type:Boolean,default:!0},enableDrawTagOutOfImg:{type:Boolean,default:!0},isImgCrop:{type:Boolean,default:!1},isCropSingle:{type:Boolean,default:!1},cropList:{default:()=>Array()},tagList:{default:()=>Array()},daubStack:{default:()=>Array()},mode:{default:"crop"},mobileOperation:{default:"move"},src:null,precision:{default:0},splitClickAndDoubleClickEvent:{type:Boolean,default:!1},disableDefaultShortcuts:{default:()=>Array()},customDrawTopCtx:null},emits:["update:cropList","update:daubStack","cropListChange","update:tagList","tagListChange","update:mode","update:mobileOperation","resizeStart","resizeEnd","delCrop","drawCropStart","drawTagStart","mouseOverInfo","onLoadImage"],setup(o,{expose:p,emit:v}){const f=o;let C=!1,O,Y,A=null,P=null,N={last:{down:void 0,up:void 0},prev:{down:void 0,up:void 0}};const ue=b.mobile()?.1/Gn*1.5:.1;let Ge=ue,Ve=!1;function be(){P=null,Ve=!1,Ge=ue,H.resizeHovering=void 0}let Xe=!1,le=null,E=null,pe,$=ie.exports.cloneDeep(nt),Ae=ie.exports.cloneDeep(nt),je=ie.exports.cloneDeep(pn),_e=ie.exports.cloneDeep(pn),hn=ie.exports.cloneDeep(pn),Qn={x:0,y:0},er=0,L={x:0,y:0},Q={x:0,y:0},V=1,bn,xn,hr=1,xe,de=1,Me,he=[],ae=[],un=[],Ee=q.computed(()=>{let s=ie.exports.cloneDeep(et);return Object.assign(s.cropConfig,f.cropConfig),Object.assign(s.tagConfig,f.tagConfig),Object.assign(s.layerConfig,f.layerConfig),Object.assign(s.daubConfig,f.daubConfig),s.drawingText=f.drawingText,s.mode=f.mode,s}),Tn=q.ref(),it=q.ref(),ut=q.ref(),H={isScaleing:!1,isDrawRecting:!1,isMoving:!1,resizeHovering:void 0,isMouseDown:()=>je.x!==void 0,isMouseUpDownPoints:()=>je.x!==void 0&&_e.x!==void 0};const an={dragCreatRectInterrupt(){ft()},dragCreatOrResizeRect(s){var d,z;E&&(s=="drawCrop"&&(f.isCropSingle&&!H.isDrawRecting&&(ae=[]),H.isDrawRecting||v("drawCropStart"),H.isDrawRecting=!0,Me=function(T,R,S,re,ee,Ie,Se,Be){if(R.x!==void 0&&S.x!==void 0){let ge=vu(Lo(R,S),re,ee);if(ge[2]=On(ge[2],void 0,!0),ge[3]=On(ge[3],void 0,!0),5<ge[2]||5<ge[3])return Jn(T,Ie,Se,Be),gu(T,...ge,Be,!0),ge}}(E,je,_e,de,Q,ae,L,Ee.value),Bn(E,he,L,Ee.value),(d=f.customDrawTopCtx)==null||d.call(f,E,Rn)),s=="drawTag"&&(H.isDrawRecting||v("drawTagStart"),H.isDrawRecting=!0,Jn(E,ae,L,Ee.value),Me=function(T,R,S,re,ee,Ie,Se,Be){if(R.x!==void 0&&S.x!==void 0){let ge=vu(Lo(R,S),re,ee);if(ge[2]=On(ge[2],void 0,!0),ge[3]=On(ge[3],void 0,!0),5<ge[2]||5<ge[3])return Bn(T,Ie,Se,Be),Mo(T,...ge,Be,Ie.length+1,void 0,!0,void 0,Be.drawingText,void 0,void 0),ge}}(E,je,_e,de,Q,he,L,Ee.value),(z=f.customDrawTopCtx)==null||z.call(f,E,Rn)),s=="resize")&&{crop(){var R;f.enableCropResize&&H.resizeHovering&&E?(P=ae[H.resizeHovering.index||0],H.resizeHovering&&P&&(H.isDrawRecting=!0,Me=bu(E,je,_e,P,P.__scale||1,de,L,he,H.resizeHovering,ae.filter((S,re)=>{var ee;return re!==((ee=H.resizeHovering)==null?void 0:ee.index)}),Ee.value),(R=f.customDrawTopCtx)==null||R.call(f,E,Rn))):an.move()},tag(){var R;f.enableTagResize&&H.resizeHovering&&E?(P=he[H.resizeHovering.index||0],H.resizeHovering&&P&&(H.isDrawRecting=!0,Me=bu(E,je,_e,P,P.__scale||1,de,L,he.filter((S,re)=>{var ee;return re!==((ee=H.resizeHovering)==null?void 0:ee.index)}),H.resizeHovering,ae,Ee.value),(R=f.customDrawTopCtx)==null||R.call(f,E,Rn))):an.move()},daub(){}}[f.mode]()},changeMode(){f.mode==="tag"?v("update:mode","crop"):v("update:mode","tag")},scale(s,d){if(!pe||!le||!E)throw new Error("can't find canvas ctx or img");H.isScaleing=!0,le.translate(Q.x,Q.y),E.translate(Q.x,Q.y),Q={x:Q.x-(d.x/(de*s)-d.x/de),y:Q.y-(d.y/(de*s)-d.y/de)},le.scale(s,s),E.scale(s,s),le.translate(-Q.x,-Q.y),E.translate(-Q.x,-Q.y),de*=s,pr(le),pr(E),zr(le,pe,L.x,L.y,Ae.width*V,Ae.height*V),qe(),Ve=!1,H.isScaleing=!1},move(){var s;if(f.enableMove&&le&&E&&pe&&!H.isScaleing){H.isMoving=!0;let d=function(z,T,R,S,re,ee,Ie,Se,Be,ge,Pn,Xn){if(Ie.x!==void 0&&Se.x!==void 0&&(Ie=_u(Ie,Se,ge),Ie.isStartMove))return{offsetX:Se,offsetY:ge}=Ie.offsetInfo,pr(z),zr(z,R,(z={x:ee.x+Se,y:ee.y+ge}).x,z.y,S.width*re,S.height*re),Jn(T,Be,ee,Xn,Ie.offsetInfo),Bn(T,Pn,ee,Xn,{offsetX:Se,offsetY:ge}),{offsetX:Se,offsetY:ge}}(le,E,pe,Ae,V,L,je,_e,ae,de,he,Ee.value);(s=f.customDrawTopCtx)==null||s.call(f,E,z=>Rn(z).map(T=>(d&&(T[0]+=d.offsetX,T[1]+=d.offsetY),T))),d&&(xn=ie.exports.cloneDeep(L))&&(xn.x+=d.offsetX,xn.y+=d.offsetY)}},scrollIntoView(s){if(le&&E&&pe){var d=Mn(s,V,L);s.__scale=V;let z=ie.exports.take(wu(s,L,void 0,0),4).map(R=>({x:R.positions[0]+Q.x,y:R.positions[1]+Q.y})),T=[0,0,Q.x+(($==null?void 0:$.width)||0)/de,Q.y+(($==null?void 0:$.height)||0)/de];z.every(R=>!Et(R,T))&&(L={x:L.x-d[0]+Q.x,y:L.y-d[1]+Q.y},pr(le),pr(E),zr(le,pe,L.x,L.y,pe.width*V,pe.height*V),qe())}},hoverRect(s){E&&(Ve=function(d,z,T,R,S,re,ee,Ie,Se,Be,ge){if(z==="tag"&&!Se){let Pn=T.filter(vr=>!vr.isShow),Xn=!1,Er=Lt(ee,R,re,"move"),Ft=[];Pn.forEach(vr=>{var pt=Mn(vr,vr.__scale,S);Et(Er,pt)&&(Ft.push(vr),Xn=!0)}),Xn?(Be=!0,Bn(d,Ft,S,ge,void 0,Er)):Be&&(Jn(d,Ie,S,ge),Bn(d,T,S,ge),Be=!1)}return Be}(E,f.mode,he,de,L,Q,s,ae,H.isScaleing,Ve,Ee.value),C||(f.enableCropResize&&f.mode==="crop"&&mu(Tn.value,s,ae,de,L,Q,H.isScaleing),f.enableTagResize&&f.mode==="tag"&&mu(Tn.value,s,he,de,L,Q,H.isScaleing)))}},dr={onMouseOverMove(s){b.mobile()||H.isMouseDown()||b.mobile()?this.onHoldMouseLeftBtnMove(s):an.hoverRect(s)},onHoldMouseLeftBtnMove(s){var d,z;_e={x:s.layerX,y:s.layerY},C?this.onDrawSwitchOnStartDraw():f.mode==="daub"?H.isScaleing||(s=It(hn,de,Q),z={x:(d=It(_e,de,Q)).x,y:d.y,lineWidth:f.daubConfig.lineWidth,strokeStyle:f.daubConfig.strokeStyle},E&&(Io(E,[s,d],L,Ee.value),hn=ie.exports.cloneDeep(_e),un[un.length-1].push(z))):H.resizeHovering?an.dragCreatOrResizeRect("resize"):an.move()},onDoubleClick(s){f.mode==="crop"&&f.enableInteractiveCropDelete&&st(rt(s,ae,V,L).boxList),f.mode==="tag"&&rt(s,he,V,L).boxList.forEach(z=>{var T;(T=z==null?void 0:z.onDoubleClick)==null||T.call(z,"",z)})},onCick(s){if(f.mode==="tag"&&E){let z=rt(s,he,V,L).boxList;var d;z.forEach(T=>{var R;(R=T==null?void 0:T.onClick)==null||R.call(T,"",T)}),f.enableInteractiveTagChangeStatus&&(Jn(E,ae,L,Ee.value),{isReDraw:s,redrawList:d}=Bn(E,he,L,Ee.value,void 0,s),s&&(qe(),Rr("statusChange",nr(d))))}},onWheel(s,d,z){(f.enableScale||z)&&an.scale(s,d)},onDrawSwitchOnStartDraw(){f.mode==="crop"?f.enableDrawCrop&&an.dragCreatOrResizeRect("drawCrop"):f.enableDrawTag&&an.dragCreatOrResizeRect("drawTag")}},Cn={shiftMode(){an.changeMode()},shiftDrawSwitch(s){q.nextTick(()=>{s==="on"&&((f.enableDrawCrop&&f.mode==="crop"||f.enableDrawTag&&f.mode==="tag")&&(Tn.value.style.cursor="crosshair"),H.isMouseDown()||(C=!0)),s==="off"&&(H.isMoving||H.resizeHovering||an.dragCreatRectInterrupt(),C=!1)})},init(){(async function(){if(be(),Xe=!1,le=null,E=null,pe=void 0,$=ie.exports.cloneDeep(nt),Ae=ie.exports.cloneDeep(nt),je=ie.exports.cloneDeep(pn),_e=ie.exports.cloneDeep(pn),hn=ie.exports.cloneDeep(pn),L={x:0,y:0},Q={x:0,y:0},V=1,bn=void 0,xn=void 0,hr=1,xe=void 0,de=1,Me=void 0,he=[],ae=[],await q.nextTick(),1<f.cropList.length){let s={startX:1/0,startY:1/0,endX:-1/0,endY:-1/0};f.cropList.forEach(d=>{d=Yn(d),d.info.startX<s.startX&&(s.startX=d.info.startX),d.info.startY<s.startY&&(s.startY=d.info.startY),d.info.endX>s.endX&&(s.endX=d.info.endX),d.info.endY>s.endY&&(s.endY=d.info.endY)}),bn=s}return f.cropList.length==1&&(bn=f.cropList[0]),he=ie.exports.cloneDeep(f.tagList),ae=ie.exports.cloneDeep(f.cropList),un=ie.exports.cloneDeep(f.daubStack),gr(),b.mobile()||(window.addEventListener("keydown",at),window.addEventListener("keyup",At)),Yr(),le=it.value.getContext("2d"),E=ut.value.getContext("2d"),le&&E?($=On(hu(le.canvas)))?(jt(le,$),jt(E,$),v("onLoadImage",{status:"loading"}),fu(f.src).then(s=>{if(v("onLoadImage",{status:"success"}),!$||!le||!E)return Promise.reject("canvasWH or canvas var not has valid values.");if(pe=s,Ae={width:pe.width,height:pe.height},f.initScale){s=$,R=pe,S=s.width/R.width,s=s.height/R.height;var d,z,T,R={scale:S<s?S:s,fit:S<s?"height":"width"};if(V=hr=R.scale,bn)return S=Mn(bn,hr,L),s=($.width-.05*$.width)/S[2],d=($.height-.05*$.height)/S[3],d=$.width/$.height>S[2]/S[3]?d:s,z=S[0]+S[2],T=S[1]+S[3],(d=d)==s?(L.x=($.width-z*d-.05*$.width/2)/d,L.y=(($.height-S[3]*d)/2-S[1]*d)/d):(L.x=(($.width-S[2]*d)/2-S[0]*d)/d,L.y=($.height-T*d-.05*$.height/2)/d),ae=on(ae,V,f.precision),he=on(he,V,f.precision),un=Ho(un,L,V),ct({deltaY:1,clientX:0,clientY:0,preventDefault(){},stopPropagation(){},__zoom:d},!0),!0;R.fit==="width"?L.x=($.width-Ae.width*V)/2:L.y=($.height-Ae.height*V)/2,bn={startX:0,startY:0,endX:0+Ae.width,endY:0+Ae.height},f.isImgCrop&&Tr("add",ae=[bn])}var R,S;return ae=on(ae,V,f.precision),he=on(he,V,f.precision),un=Ho(un,L,V),zr(le,pe,L.x,L.y,pe.width*V,pe.height*V),qe(),!0}).catch(s=>{v("onLoadImage",{status:"error",msg:JSON.stringify(s)})})):Promise.reject("Error: can't get canvas height and width."):Promise.reject("Error: can't find canvas element.")})().then(()=>{Xe=!0})},resize(){requestAnimationFrame(()=>{(async function(){if(Fo(),await q.nextTick(),gr(),le&&E&&pe){if(!($=On(hu(le.canvas))))return Promise.reject("Error: can't get canvas height and width.");jt(le,$),jt(E,$),le.scale(de,de),E.scale(de,de),le.translate(-Q.x,-Q.y),E.translate(-Q.x,-Q.y),zr(le,pe,L.x,L.y,pe.width*V,pe.height*V),ae=on(ae,V,f.precision),he=on(he,V,f.precision),qe(),Xe=!0}})()})}};function at(s){s.code!=="Space"||f.disableDefaultShortcuts.includes("space")||(s.target===document.body&&s.preventDefault(),Cn.shiftDrawSwitch("on"))}function At(s){if(s.code==="KeyB"&&s.ctrlKey){if(f.disableDefaultShortcuts.includes("ctrl+b"))return;Cn.shiftMode()}s.code!=="Space"||f.disableDefaultShortcuts.includes("space")||Cn.shiftDrawSwitch("off")}function gr(){var s=Tn.value.getBoundingClientRect();xe={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y}}function Fo(){P=null,Xe=!1,$=ie.exports.cloneDeep(nt),je=ie.exports.cloneDeep(pn),_e=ie.exports.cloneDeep(pn),hn=ie.exports.cloneDeep(pn),xe=void 0}function Rn(s){return on(s,V,f.precision).map(z=>Mn(z,V,L))}function qe(){var s;E&&(Jn(E,ae,L,Ee.value),Bn(E,he,L,Ee.value),un.forEach(d=>{E&&Io(E,d,L,Ee.value)}),(s=f.customDrawTopCtx)==null||s.call(f,E,Rn))}function Yr(){b.mobile()&&(f.mobileOperation==="draw"&&Cn.shiftDrawSwitch("on"),f.mobileOperation==="move"&&Cn.shiftDrawSwitch("off"))}function Mt(){Cn.resize()}function ct(s,d){f.enableScale&&(s.stopPropagation(),s.preventDefault());var z,T,R;if(!xe)throw new Error("can't find  containerInfo.");!Xe&&!s.__zoom||H.isDrawRecting||H.isMoving||(z=d?0:(s.clientX-xe.left)*Gn,T=d?0:(s.clientY-xe.top)*Gn,R=s.deltaY<0?1:-1,s=d?s.__zoom:Math.exp(R*Ge),de*s<.2||dr.onWheel(s,{x:z,y:T},d))}function Bt(s){if(H.resizeHovering){var d;let z={crop:{boxList:ae,trigger:Tr,getBoxFunc:Wn},tag:{boxList:he,trigger:Rr,getBoxFunc:nr},daub:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]}}[f.mode];z.boxList[H.resizeHovering.index]=s,v("resizeEnd",{index:H.resizeHovering.index,box:s}),f.mode==="tag"&&(d=yu(je,_e),Object.assign(s,{__oprateType:"resize",__vertexPosition:d})),z.trigger("resize",z.getBoxFunc([s]))}}function ft(){Xe&&(H.isMoving=!1,xn&&(L=ie.exports.cloneDeep(xn)),xn=void 0,H.isMouseUpDownPoints()&&{crop(){if(Me){let d={...P,...Po(Me,L,V)};P=null,H.resizeHovering?!f.enableCropCross&&Su(d,ae.filter((z,T)=>{var R;return T!==((R=H.resizeHovering)==null?void 0:R.index)}))?(f.handleResizeCropCross==="reset"&&qe(),f.handleResizeCropCross==="delete"&&st([ae[H.resizeHovering.index]])):Bt(d):(d=on([d],V,f.precision)[0],!f.enableCropCross&&Su(d,ae)?qe():(ae.push(d),Tr("add",Wn([d])))),Me=void 0}},tag(){var d,z;Me&&(d={...P,...Po(Me,L,V)},P=null,H.resizeHovering?Bt(d):(d=yu(je,_e),z=on([z=Po(Me,L,V)],V,f.precision)[0],Object.assign(z,{isShow:!0,__oprateType:"add",__vertexPosition:d}),he.push(z),Rr("add",nr([z]))),Me=void 0)},daub(){Me=Me&&void 0;let d=ie.exports.cloneDeep(un);v("update:daubStack",d.map(z=>z.map(T=>(T._x!=null&&T._y!=null?(delete T._x,delete T._y):(T.x=(T.x-L.x)/V,T.y=(T.y-L.y)/V),T))))}}[f.mode](),H.resizeHovering=void 0,H.isDrawRecting=!1,je=ie.exports.cloneDeep(pn),_e=ie.exports.cloneDeep(pn),hn=ie.exports.cloneDeep(pn),Tn.value.style.cursor="auto")}function Tr(s,d){var z=Wn(ae);v("update:cropList",z),v("cropListChange",{type:s,list:d})}function Rr(s,d){let z={type:s,list:d};if(s==="add"){let T=d.filter(R=>Reflect.get(R,"__parentCrop"))[0];T&&(z.parentCrop=Wn([Reflect.get(T,"__parentCrop")])[0],delete T.__parentCrop)}v("tagListChange",z),s=nr(he),v("update:tagList",s)}function nr(s){let d=s||he,z=ae,T=[];return d.forEach(ee=>{let S=ee;if(!f.enableDrawTagOutOfCrop&&S.__oprateType&&S.__vertexPosition){if(re=rt((ee=S,{x:(re=(re=S.__vertexPosition).split("-"))[0]==="left"?ee.startX:ee.endX,y:re[1]==="top"?ee.startY:ee.endY}),z).boxList[0],!re)return;ee=tt(S,re),ee&&Ao(ee)?(Object.assign(S,ee),S.__parentCrop=re):S.__isValidity=!1}delete S.__oprateType,Reflect.deleteProperty(S,"__vertexPosition"),f.enableDrawTagOutOfCrop&&!f.enableDrawTagOutOfImg&&(re={startX:0,startY:0,endX:(ee=Ae).width,endY:ee.height},(ee=tt(S,re))&&Ao(ee)?Object.assign(S,ee):S.__isValidity=!1);var re,ee=Yn(S);T.push(No(ee.info,f.precision))}),T.filter(R=>R.__isValidity!==!1)}function Wn(s){return(s||ae).map(re=>{let R=re;f.enableDrawCropOutOfImg||(S={startX:0,startY:0,endX:(S=Ae).width,endY:S.height},(S=tt(R,S))&&Ao(S)?R={...re,...S}:R._del=!0),Reflect.deleteProperty(R,"__vertexPosition");var S,re=Yn(R);return No(re.info,f.precision)}).filter(T=>!T._del)}function lt(s){var d;Xe&&le&&E&&(d=new Date().getTime(),O=d,N.prev.down?N.last.down=d:N.prev.down=d,d=On(d={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),je={x:d.layerX,y:d.layerY},hn=ie.exports.cloneDeep(je),f.mode=="daub"&&un.push([]),f.mode==="crop"&&!C&&f.enableCropResize&&(s=Bo(d,ae,de,L,Q)).hasIn&&(H.resizeHovering=Wo(s.list),v("resizeStart",{index:H.resizeHovering.index,box:ae[H.resizeHovering.index]})),f.mode==="tag"&&!C&&f.enableTagResize&&(s=Bo(d,he,de,L,Q)).hasIn&&(H.resizeHovering=Wo(s.list),v("resizeStart",{index:H.resizeHovering.index,box:he[H.resizeHovering.index]})))}q.onBeforeUnmount(()=>{window.removeEventListener("resize",Mt),b.mobile()||(window.removeEventListener("keydown",at),window.removeEventListener("keyup",At)),be()}),q.onMounted(()=>{Cn.init(),window.addEventListener("resize",Mt)}),q.watch(()=>f.mode,s=>{s==="tag"&&(Tn.value.style.cursor="auto")}),q.watch(()=>f.src,s=>{s&&Cn.init()}),q.watch(()=>f.mobileOperation,s=>{Xe&&Yr()}),q.watch(()=>f.tagList,s=>{Xe&&(he=on(s,V,f.precision),qe())},{deep:!0}),q.watch(()=>f.daubStack,s=>{Xe&&(un=Ho(ie.exports.cloneDeep(f.daubStack),L,V),qe())},{deep:!0}),q.watch(()=>f.cropList,s=>{Xe&&(ae=on(s,V,f.precision),qe())});let Wt=ie.exports.throttle(function(s){if(s){s=Lt(s,de,Q,"over");let d=ie.exports.cloneDeep(s);d.x-=L.x,d.y-=L.y,d.x/=V,d.y/=V,v("mouseOverInfo",{canvas:s,img:d})}else v("mouseOverInfo",{canvas:null,img:null})},100,{leading:!1,trailing:!0});function Pt(s){Xe&&(s=On(s={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),Y=new Date().getTime(),dr.onMouseOverMove(s),Wt(s))}function Ht(){var s;Xe&&(s=new Date().getTime(),N.prev.up?N.last.up=s:N.prev.up=s,ft())}function Uo(){Xe&&(Tn.value.style.cursor="auto",ft(),Wt())}function Nt(){A&&clearTimeout(A),A=null}function $o(s){if(gr(),Xe){let d=Lt(On({layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),de,Q,"click");var s=Y&&O?Y-O:0;O=void 0,Y=void 0,100<s||(f.splitClickAndDoubleClickEvent?(Nt(),A=setTimeout(()=>{dr.onCick(d),A=null},230)):dr.onCick(d),s=f.splitClickAndDoubleClickEvent?320:360,N.prev.up&&N.prev.down&&N.last.up&&N.last.down&&(N.last.up-N.prev.down<s?(f.splitClickAndDoubleClickEvent&&Nt(),dr.onDoubleClick(d),N.prev.down=void 0,N.prev.up=void 0):(N.prev.down=N.last.down,N.prev.up=N.last.up),N.last.down=void 0,N.last.up=void 0))}}function Xr(s){gr(),O=new Date().getTime();var d=s.touches;if(s.touches.length===1&&lt({layerX:d[0].clientX-((xe==null?void 0:xe.left)||0),layerY:d[0].clientY-((xe==null?void 0:xe.top)||0)}),s.touches.length==2){if(!xe)throw new Error("can't find  containerInfo.");Cu(du(s)),Qn={x:(d[0].clientX+d[1].clientX)/2,y:(d[0].clientY+d[1].clientY)/2}}}function Vo(s){Y=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Pt({layerX:d[0].clientX-((xe==null?void 0:xe.left)||0),layerY:d[0].clientY-((xe==null?void 0:xe.top)||0)}),s.touches.length==2){if(!xe)throw new Error("can't find  containerInfo.");var{width:d,height:s}=Cu(du(s)),d=(s=s,Math.sqrt(Math.pow(d,2)+Math.pow(s,2))),s=-(d-er);er=d,ct({onTouchMove:!0,deltaY:s,preventDefault(){},stopPropagation(){},clientX:Qn.x,clientY:Qn.y})}}function jr(s){Ht()}function st(s){if(s.length!==0){let d=[],z=[];Wn().forEach(R=>{(s.find(S=>(S=Yn(S).info,S.startX===R.startX&&S.endX===R.endX&&S.startY===R.startY&&S.endY===R.endY))?z:d).push(R)}),ae=on(d,V,f.precision),v("delCrop",z),qe(),Tr("delete",Wn(z))}}return p({render:qe,removeTagItems:function(s){let d=[],z=[];s.length!==0&&nr().forEach(R=>{(s.find(S=>(S=Yn(S).info,S.startX===R.startX&&S.endX===R.endX&&S.startY===R.startY&&S.endY===R.endY))?z:d).push(R)}),he=on(d,V,f.precision),qe(),Rr("delete",z)},getTagListGroupByCropIndex:function(s="startPoint"){let d=nr(),z=Wn();return d.forEach(T=>{var R;s==="startPoint"&&(R=rt({x:T.startX,y:T.startY},z),T.__groupIndex=R.indexList[0]),s==="allIn"&&(R=function(S,re){let ee=[],Ie=[];return re.forEach((Se,Be)=>{Du(S,Se)&&(Ie.push(Se),ee.push(Be))}),{boxList:Ie,indexList:ee}}(T,z),T.__groupIndex=R.indexList[0])}),ie.exports.groupBy(d,"__groupIndex")},getBase64ImageData:async function(s){const d=document.createElement("canvas");d.style.width=Ae.width+"px",d.style.height=Ae.height+"px",d.width=Ae.width,d.height=Ae.height;let z=d.getContext("2d");return fu(f.src,s).then(T=>{if(z){let R={x:0,y:0};return zr(z,T,0,0,T.width,T.height),Jn(z,f.cropList,R,Ee.value,void 0,!0),Bn(z,f.tagList,R,Ee.value),f.daubStack.forEach(S=>{z&&Io(z,S,R,Ee.value)}),d.toDataURL("image/png")}throw new Error("ctx not exist")})},hooks:Cn,scrollIntoView:an.scrollIntoView}),(s,d)=>(q.openBlock(),q.createElementBlock("div",{class:"comp-ocr-img",ref_key:"containerRef",ref:Tn,onMousedown:lt,onMouseenter:gr,onClick:$o,onMouseup:Ht,onMousemove:Pt,onMouseout:Uo,onMousewheel:ct,onTouchmove:q.withModifiers(Vo,["stop","prevent"]),onTouchstart:q.withModifiers(Xr,["stop"]),onTouchend:q.withModifiers(jr,["stop"])},[q.createElementVNode("canvas",{class:"canvas",ref_key:"canvasRef",ref:it},null,512),q.createElementVNode("canvas",{class:"canvas2",ref_key:"canvas2Ref",ref:ut},null,512),q.unref(f).isShowTip?(q.openBlock(),q.createElementBlock("div",Ec,[q.createElementVNode("div",Ic,[q.createElementVNode("div",{class:q.normalizeClass(["circle",{crop:o.mode==="crop",tag:o.mode==="tag"}])},null,2),q.createElementVNode("div",Lc,q.toDisplayString(o.mode==="crop"?"\u88C1\u526A\u6A21\u5F0F":"\u6807\u8BB0\u9519\u8BEF\u884C"),1)]),q.createElementVNode("div",Ac,[q.renderSlot(s.$slots,"tip",{},()=>[Mc,Bc,Wc,Pc],!0)])])):q.createCommentVNode("",!0)],40,jc))}}),An.ImgMark=Or(ot,[["__scopeId","data-v-c68bd52e"]]),An.boxIsAllInOtherBox=Du,An.transformTagBoxRelativeTo=ku,An.transformTagListBoxRelativeTo=function(o,p,v){return v.map(f=>ku(o,p,f))},Object.defineProperties(An,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
