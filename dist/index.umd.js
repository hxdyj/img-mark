(function(Me,V){typeof exports=="object"&&typeof module!="undefined"?V(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],V):V((Me=typeof globalThis!="undefined"?globalThis:Me||self).kezhi={},Me.Vue)})(this,function(Me,V){"use strict";var Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ml=window.device,x={},Mo=[],rt=(window.device=x,window.document.documentElement),Al=window.navigator.userAgent.toLowerCase(),cu=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function Ao(o,p){return o.indexOf(p)!==-1}function Yn(o){return Ao(Al,o)}function fu(o){return rt.className.match(new RegExp(o,"i"))}function En(o){var p;fu(o)||(p=rt.className.replace(/^\s+|\s+$/g,""),rt.className=p+" "+o)}function su(o){fu(o)&&(rt.className=rt.className.replace(" "+o,""))}function Yt(){x.landscape()?(su("portrait"),En("landscape"),pu("landscape")):(su("landscape"),En("portrait"),pu("portrait")),hu()}function pu(o){for(var p=0;p<Mo.length;p++)Mo[p](o)}x.macos=function(){return Yn("mac")},x.ios=function(){return x.iphone()||x.ipod()||x.ipad()},x.iphone=function(){return!x.windows()&&Yn("iphone")},x.ipod=function(){return Yn("ipod")},x.ipad=function(){var o=navigator.platform==="MacIntel"&&1<navigator.maxTouchPoints;return Yn("ipad")||o},x.android=function(){return!x.windows()&&Yn("android")},x.androidPhone=function(){return x.android()&&Yn("mobile")},x.androidTablet=function(){return x.android()&&!Yn("mobile")},x.blackberry=function(){return Yn("blackberry")||Yn("bb10")},x.blackberryPhone=function(){return x.blackberry()&&!Yn("tablet")},x.blackberryTablet=function(){return x.blackberry()&&Yn("tablet")},x.windows=function(){return Yn("windows")},x.windowsPhone=function(){return x.windows()&&Yn("phone")},x.windowsTablet=function(){return x.windows()&&Yn("touch")&&!x.windowsPhone()},x.fxos=function(){return(Yn("(mobile")||Yn("(tablet"))&&Yn(" rv:")},x.fxosPhone=function(){return x.fxos()&&Yn("mobile")},x.fxosTablet=function(){return x.fxos()&&Yn("tablet")},x.meego=function(){return Yn("meego")},x.cordova=function(){return window.cordova&&location.protocol==="file:"},x.nodeWebkit=function(){return Il(window.process)==="object"},x.mobile=function(){return x.androidPhone()||x.iphone()||x.ipod()||x.windowsPhone()||x.blackberryPhone()||x.fxosPhone()||x.meego()},x.tablet=function(){return x.ipad()||x.androidTablet()||x.blackberryTablet()||x.windowsTablet()||x.fxosTablet()},x.desktop=function(){return!x.tablet()&&!x.mobile()},x.television=function(){for(var o=0;o<cu.length;){if(Yn(cu[o]))return!0;o++}return!1},x.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Ao(screen.orientation.type,"portrait"):x.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:1<window.innerHeight/window.innerWidth},x.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?Ao(screen.orientation.type,"landscape"):x.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1},x.noConflict=function(){return window.device=Ml,this},x.ios()?x.ipad()?En("ios ipad tablet"):x.iphone()?En("ios iphone mobile"):x.ipod()&&En("ios ipod mobile"):x.macos()?En("macos desktop"):x.android()?x.androidTablet()?En("android tablet"):En("android mobile"):x.blackberry()?x.blackberryTablet()?En("blackberry tablet"):En("blackberry mobile"):x.windows()?x.windowsTablet()?En("windows tablet"):x.windowsPhone()?En("windows mobile"):En("windows desktop"):x.fxos()?x.fxosTablet()?En("fxos tablet"):En("fxos mobile"):x.meego()?En("meego mobile"):x.nodeWebkit()?En("node-webkit"):x.television()?En("television"):x.desktop()&&En("desktop"),x.cordova()&&En("cordova"),x.onChangeOrientation=function(o){typeof o=="function"&&Mo.push(o)};var Rr="resize";function Bo(o){for(var p=0;p<o.length;p++)if(x[o[p]]())return o[p];return"unknown"}function hu(){x.orientation=Bo(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Rr="orientationchange"),window.addEventListener?window.addEventListener(Rr,Yt,!1):window.attachEvent?window.attachEvent(Rr,Yt):window[Rr]=Yt,Yt(),x.type=Bo(["mobile","tablet","desktop"]),x.os=Bo(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),hu();var Lt,Tt,tt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},J={exports:{}};Tt=(Lt=J).exports,function(){var o,p="Expected a function",g="__lodash_hash_undefined__",l="__lodash_placeholder__",b=128,T=9007199254740991,O=NaN,A=4294967295,B=[["ary",b],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],I="[object Arguments]",q="[object Array]",ne="[object Boolean]",Kn="[object Date]",Cn="[object Error]",Ln="[object Function]",fn="[object GeneratorFunction]",X="[object Map]",hn="[object Number]",Z="[object Object]",Bn="[object Promise]",In="[object RegExp]",mn="[object Set]",ve="[object String]",nr="[object Symbol]",er="[object WeakMap]",R="[object ArrayBuffer]",tn="[object DataView]",W="[object Float32Array]",Ce="[object Float64Array]",Se="[object Int8Array]",rr="[object Int16Array]",Sn="[object Int32Array]",sn="[object Uint8Array]",Wn="[object Uint8ClampedArray]",dn="[object Uint16Array]",an="[object Uint32Array]",Tn=/\b__p \+= '';/g,le=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bn=/&(?:amp|lt|gt|quot|#39);/g,ce=/[&<>"']/g,It=RegExp(bn.source),Mt=RegExp(ce.source),F=/<%-([\s\S]+?)%>/g,Gn=/<%([\s\S]+?)%>/g,tr=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/[\\^$.*+?()[\]{}|]/g,Zo=RegExp(We.source),je=/^\s+/,Nn=/\s/,Wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pt=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,st=/[()=,{}\[\]\/\s]/,Xr=/\\(\\)?/g,Er=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pe=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,Ft=/^\[object .+?Constructor\]$/,Ut=/^0o[0-7]+$/i,$t=/^(?:0|[1-9]\d*)$/,Ko=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_r=/($^)/,Go=/['\n\r\u2028\u2029\\]/g,Ir="\\ud800-\\udfff",Vt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",k="\\u2700-\\u27bf",ir="a-z\\xdf-\\xf6\\xf8-\\xff",Y="A-Z\\xc0-\\xd6\\xd8-\\xde",qt="\\ufe0e\\ufe0f",K="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zt="['\u2019]",ee="["+Ir+"]",s="["+K+"]",d="["+Vt+"]",yr="["+k+"]",S="["+ir+"]",K="[^"+Ir+K+"\\d+"+k+ir+Y+"]",k="\\ud83c[\\udffb-\\udfff]",ir="[^"+Ir+"]",pt="(?:\\ud83c[\\udde6-\\uddff]){2}",wr="[\\ud800-\\udbff][\\udc00-\\udfff]",Y="["+Y+"]",L="\\u200d",vn="(?:"+S+"|"+K+")",K="(?:"+Y+"|"+K+")",Mn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Pn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",gn="(?:"+d+"|"+k+")?",jn="["+qt+"]?",jn=jn+gn+("(?:"+L+"(?:"+[ir,pt,wr].join("|")+")"+jn+gn+")*"),gn="(?:"+[yr,pt,wr].join("|")+")"+jn,yr="(?:"+[ir+d+"?",d,pt,wr,ee].join("|")+")",Mr=RegExp(Zt,"g"),or=RegExp(d,"g"),Ar=RegExp(k+"(?="+k+")|"+yr+jn,"g"),mr=RegExp([Y+"?"+S+"+"+Mn+"(?="+[s,Y,"$"].join("|")+")",K+"+"+Pn+"(?="+[s,Y+vn,"$"].join("|")+")",Y+"?"+vn+"+"+Mn,Y+"+"+Pn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",gn].join("|"),"g"),Jo=RegExp("["+L+Ir+Vt+qt+"]"),ql=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kl=-1,xn={},wn=(xn[W]=xn[Ce]=xn[Se]=xn[rr]=xn[Sn]=xn[sn]=xn[Wn]=xn[dn]=xn[an]=!0,xn[I]=xn[q]=xn[R]=xn[ne]=xn[tn]=xn[Kn]=xn[Cn]=xn[Ln]=xn[X]=xn[hn]=xn[Z]=xn[In]=xn[mn]=xn[ve]=xn[er]=!1,{}),Gl=(wn[I]=wn[q]=wn[R]=wn[tn]=wn[ne]=wn[Kn]=wn[W]=wn[Ce]=wn[Se]=wn[rr]=wn[Sn]=wn[X]=wn[hn]=wn[Z]=wn[In]=wn[mn]=wn[ve]=wn[nr]=wn[sn]=wn[Wn]=wn[dn]=wn[an]=!0,wn[Cn]=wn[Ln]=wn[er]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),Jl=parseFloat,Ql=parseInt,ir=typeof tt=="object"&&tt&&tt.Object===Object&&tt,pt=typeof self=="object"&&self&&self.Object===Object&&self,Fn=ir||pt||Function("return this")(),wr=Tt&&!Tt.nodeType&&Tt,br=wr&&Lt&&!Lt.nodeType&&Lt,Ru=br&&br.exports===wr,Qo=Ru&&ir.process,ee=function(){try{var v=br&&br.require&&br.require("util").types;return v||Qo&&Qo.binding&&Qo.binding("util")}catch{}}(),Xu=ee&&ee.isArrayBuffer,Eu=ee&&ee.isDate,Iu=ee&&ee.isMap,Mu=ee&&ee.isRegExp,Au=ee&&ee.isSet,Bu=ee&&ee.isTypedArray;function fe(v,z,y){switch(y.length){case 0:return v.call(z);case 1:return v.call(z,y[0]);case 2:return v.call(z,y[0],y[1]);case 3:return v.call(z,y[0],y[1],y[2])}return v.apply(z,y)}function nc(v,z,y,H){for(var Q=-1,on=v==null?0:v.length;++Q<on;){var rn=v[Q];z(H,rn,y(rn),v)}return H}function ge(v,z){for(var y=-1,H=v==null?0:v.length;++y<H&&z(v[y],y,v)!==!1;);return v}function ec(v,z){for(var y=v==null?0:v.length;y--&&z(v[y],y,v)!==!1;);return v}function Wu(v,z){for(var y=-1,H=v==null?0:v.length;++y<H;)if(!z(v[y],y,v))return!1;return!0}function ur(v,z){for(var y=-1,H=v==null?0:v.length,Q=0,on=[];++y<H;){var rn=v[y];z(rn,y,v)&&(on[Q++]=rn)}return on}function Kt(v,z){return!!(v!=null&&v.length)&&-1<Br(v,z,0)}function ni(v,z,y){for(var H=-1,Q=v==null?0:v.length;++H<Q;)if(y(z,v[H]))return!0;return!1}function kn(v,z){for(var y=-1,H=v==null?0:v.length,Q=Array(H);++y<H;)Q[y]=z(v[y],y,v);return Q}function ar(v,z){for(var y=-1,H=z.length,Q=v.length;++y<H;)v[Q+y]=z[y];return v}function ei(v,z,y,H){var Q=-1,on=v==null?0:v.length;for(H&&on&&(y=v[++Q]);++Q<on;)y=z(y,v[Q],Q,v);return y}function rc(v,z,y,H){var Q=v==null?0:v.length;for(H&&Q&&(y=v[--Q]);Q--;)y=z(y,v[Q],Q,v);return y}function ri(v,z){for(var y=-1,H=v==null?0:v.length;++y<H;)if(z(v[y],y,v))return!0;return!1}var tc=ti("length");function Pu(v,z,y){var H;return y(v,function(Q,on,rn){if(z(Q,on,rn))return H=on,!1}),H}function Gt(v,z,y,H){for(var Q=v.length,on=y+(H?1:-1);H?on--:++on<Q;)if(z(v[on],on,v))return on;return-1}function Br(v,z,y){if(z!=z)return Gt(v,Hu,y);for(var H=v,Q=z,on=y-1,rn=H.length;++on<rn;)if(H[on]===Q)return on;return-1}function oc(v,z,y,H){for(var Q=y-1,on=v.length;++Q<on;)if(H(v[Q],z))return Q;return-1}function Hu(v){return v!=v}function Nu(v,z){var y=v==null?0:v.length;return y?ii(v,z)/y:O}function ti(v){return function(z){return z==null?o:z[v]}}function oi(v){return function(z){return v==null?o:v[z]}}function Fu(v,z,y,H,Q){return Q(v,function(on,rn,dt){y=H?(H=!1,on):z(y,on,rn,dt)}),y}function ii(v,z){for(var y,H=-1,Q=v.length;++H<Q;){var on=z(v[H]);on!==o&&(y=y===o?on:y+on)}return y}function ui(v,z){for(var y=-1,H=Array(v);++y<v;)H[y]=z(y);return H}function Uu(v){return v&&v.slice(0,Zu(v)+1).replace(je,"")}function se(v){return function(z){return v(z)}}function ai(v,z){return kn(z,function(y){return v[y]})}function ht(v,z){return v.has(z)}function $u(v,z){for(var y=-1,H=v.length;++y<H&&-1<Br(z,v[y],0););return y}function Vu(v,z){for(var y=v.length;y--&&-1<Br(z,v[y],0););return y}var ic=oi({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),uc=oi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ac(v){return"\\"+Gl[v]}function Wr(v){return Jo.test(v)}function li(v){var z=-1,y=Array(v.size);return v.forEach(function(H,Q){y[++z]=[Q,H]}),y}function qu(v,z){return function(y){return v(z(y))}}function lr(v,z){for(var y=-1,H=v.length,Q=0,on=[];++y<H;){var rn=v[y];rn!==z&&rn!==l||(v[y]=l,on[Q++]=y)}return on}function Jt(v){var z=-1,y=Array(v.size);return v.forEach(function(H){y[++z]=H}),y}function Pr(v){return(Wr(v)?function(z){for(var y=Ar.lastIndex=0;Ar.test(z);)++y;return y}:tc)(v)}function De(v){return Wr(v)?v.match(Ar)||[]:v.split("")}function Zu(v){for(var z=v.length;z--&&Nn.test(v.charAt(z)););return z}var lc=oi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Hr=function v(pn){var y=(pn=pn==null?Fn:Hr.defaults(Fn.Object(),pn,Hr.pick(Fn,Zl))).Array,Re=pn.Date,H=pn.Error,Q=pn.Function,on=pn.Math,rn=pn.Object,dt=pn.RegExp,cc=pn.String,_e=pn.TypeError,Qt=y.prototype,be=Q.prototype,Nr=rn.prototype,Fr=pn["__core-js_shared__"],no=be.toString,yn=Nr.hasOwnProperty,fc=0,Ku=(be=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||""))?"Symbol(src)_1."+be:"",eo=Nr.toString,sc=no.call(rn),pc=Fn._,hc=dt("^"+no.call(yn).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=Ru?pn.Buffer:o,$n=pn.Symbol,ro=pn.Uint8Array,Gu=be?be.allocUnsafe:o,to=qu(rn.getPrototypeOf,rn),Ju=rn.create,Qu=Nr.propertyIsEnumerable,oo=Qt.splice,na=$n?$n.isConcatSpreadable:o,vt=$n?$n.iterator:o,xr=$n?$n.toStringTag:o,io=function(){try{var n=Or(rn,"defineProperty");return n({},"",{}),n}catch{}}(),Ur=pn.clearTimeout!==Fn.clearTimeout&&pn.clearTimeout,Ui=Re&&Re.now!==Fn.Date.now&&Re.now,ci=pn.setTimeout!==Fn.setTimeout&&pn.setTimeout,uo=on.ceil,ao=on.floor,fi=rn.getOwnPropertySymbols,be=be?be.isBuffer:o,ea=pn.isFinite,dc=Qt.join,vc=qu(rn.keys,rn),An=on.max,Vn=on.min,gc=Re.now,_c=pn.parseInt,ra=on.random,yc=Qt.reverse,Re=Or(pn,"DataView"),gt=Or(pn,"Map"),_t=Or(pn,"Promise"),$r=Or(pn,"Set"),pn=Or(pn,"WeakMap"),yt=Or(rn,"create"),lo=pn&&new pn,Vr={},mc=zr(Re),wc=zr(gt),bc=zr(_t),xc=zr($r),Cc=zr(pn),$n=$n?$n.prototype:o,mt=$n?$n.valueOf:o,ta=$n?$n.toString:o;function u(n){if(zn(n)&&!nn(n)&&!(n instanceof ln)){if(n instanceof Oe)return n;if(yn.call(n,"__wrapped__"))return ol(n)}return new Oe(n)}var qr=function(n){return Dn(n)?Ju?Ju(n):(si.prototype=n,n=new si,si.prototype=o,n):{}};function si(){}function co(){}function Oe(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function ln(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function Cr(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var t=n[e];this.set(t[0],t[1])}}function Ne(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var t=n[e];this.set(t[0],t[1])}}function Fe(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var t=n[e];this.set(t[0],t[1])}}function Sr(n){var e=-1,r=n==null?0:n.length;for(this.__data__=new Fe;++e<r;)this.add(n[e])}function ze(n){n=this.__data__=new Ne(n),this.size=n.size}function oa(n,e){var r,t=nn(n),i=!t&&Yr(n),a=!t&&!i&&hr(n),c=!t&&!i&&!a&&Jr(n),f=t||i||a||c,h=f?ui(n.length,cc):[],_=h.length;for(r in n)!e&&!yn.call(n,r)||f&&(r=="length"||a&&(r=="offset"||r=="parent")||c&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||qe(r,_))||h.push(r);return h}function ia(n){var e=n.length;return e?n[xi(0,e-1)]:o}function Sc(n,e){return So(re(n),kr(e,0,n.length))}function kc(n){return So(re(n))}function pi(n,e,r){(r===o||Ye(n[e],r))&&(r!==o||e in n)||Ue(n,e,r)}function wt(n,e,r){var t=n[e];yn.call(n,e)&&Ye(t,r)&&(r!==o||e in n)||Ue(n,e,r)}function fo(n,e){for(var r=n.length;r--;)if(Ye(n[r][0],e))return r;return-1}function Dc(n,e,r,t){return cr(n,function(i,a,c){e(t,i,r(i),c)}),t}function ua(n,e){return n&&Ee(e,Hn(e),n)}function Ue(n,e,r){e=="__proto__"&&io?io(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}function hi(n,e){for(var r=-1,t=e.length,i=y(t),a=n==null;++r<t;)i[r]=a?o:Ki(n,e[r]);return i}function kr(n,e,r){return n==n&&(r!==o&&(n=n<=r?n:r),e!==o&&(n=e<=n?n:e)),n}function ye(n,e,r,w,i,a){var c,f=1&e,h=2&e,_=4&e;if((c=r?i?r(n,w,i,a):r(n):c)!==o)return c;if(!Dn(n))return n;var m,w=nn(n);if(w){if(c=function(E){var D=E.length,j=new E.constructor(D);return D&&typeof E[0]=="string"&&yn.call(E,"index")&&(j.index=E.index,j.input=E.input),j}(n),!f)return re(n,c)}else{var C=qn(n),P=C==Ln||C==fn;if(hr(n))return La(n,f);if(C==Z||C==I||P&&!i){if(c=h||P?{}:Za(n),!f)return h?(M=P=n,M=(m=c)&&Ee(M,oe(M),m),Ee(P,Va(P),M)):(P=ua(c,m=n),Ee(m,Ii(m),P))}else{if(!wn[C])return i?n:{};c=function(E,D,j){var N=E.constructor;switch(D){case R:return Yi(E);case ne:case Kn:return new N(+E);case tn:return function(G,cn){return cn=cn?Yi(G.buffer):G.buffer,new G.constructor(cn,G.byteOffset,G.byteLength)}(E,j);case W:case Ce:case Se:case rr:case Sn:case sn:case Wn:case dn:case an:return Ta(E,j);case X:return new N;case hn:case ve:return new N(E);case In:return function(G){var cn=new G.constructor(G.source,Pe.exec(G));return cn.lastIndex=G.lastIndex,cn}(E);case mn:return new N;case nr:return function(G){return mt?rn(mt.call(G)):{}}(E)}}(n,C,f)}}var M=(a=a||new ze).get(n);if(M)return M;a.set(n,c),xl(n)?n.forEach(function(E){c.add(ye(E,e,r,E,n,a))}):wl(n)&&n.forEach(function(E,D){c.set(D,ye(E,e,r,D,n,a))});var $=w?o:(_?h?Ri:ji:h?oe:Hn)(n);return ge($||n,function(E,D){$&&(E=n[D=E]),wt(c,D,ye(E,e,r,D,n,a))}),c}function aa(n,e,r){var t=r.length;if(n==null)return!t;for(n=rn(n);t--;){var i=r[t],a=e[i],c=n[i];if(c===o&&!(i in n)||!a(c))return!1}return!0}function la(n,e,r){if(typeof n!="function")throw new _e(p);return Ot(function(){n.apply(o,r)},e)}function bt(n,e,r,t){var i=-1,a=Kt,c=!0,f=n.length,h=[],_=e.length;if(!f)return h;r&&(e=kn(e,se(r))),t?(a=ni,c=!1):200<=e.length&&(a=ht,c=!1,e=new Sr(e));n:for(;++i<f;){var w=n[i],m=r==null?w:r(w),w=t||w!==0?w:0;if(c&&m==m){for(var C=_;C--;)if(e[C]===m)continue n;h.push(w)}else a(e,m,t)||h.push(w)}return h}u.templateSettings={escape:F,evaluate:Gn,interpolate:tr,variable:"",imports:{_:u}},(u.prototype=co.prototype).constructor=u,(Oe.prototype=qr(co.prototype)).constructor=Oe,(ln.prototype=qr(co.prototype)).constructor=ln,Cr.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},Cr.prototype.delete=function(n){return n=this.has(n)&&delete this.__data__[n],this.size-=n?1:0,n},Cr.prototype.get=function(n){var e,r=this.__data__;return yt?(e=r[n])===g?o:e:yn.call(r,n)?r[n]:o},Cr.prototype.has=function(n){var e=this.__data__;return yt?e[n]!==o:yn.call(e,n)},Cr.prototype.set=function(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=yt&&e===o?g:e,this},Ne.prototype.clear=function(){this.__data__=[],this.size=0},Ne.prototype.delete=function(n){var e=this.__data__;return!((n=fo(e,n))<0)&&(n==e.length-1?e.pop():oo.call(e,n,1),--this.size,!0)},Ne.prototype.get=function(n){var e=this.__data__;return(n=fo(e,n))<0?o:e[n][1]},Ne.prototype.has=function(n){return-1<fo(this.__data__,n)},Ne.prototype.set=function(n,e){var r=this.__data__,t=fo(r,n);return t<0?(++this.size,r.push([n,e])):r[t][1]=e,this},Fe.prototype.clear=function(){this.size=0,this.__data__={hash:new Cr,map:new(gt||Ne),string:new Cr}},Fe.prototype.delete=function(n){return n=Co(this,n).delete(n),this.size-=n?1:0,n},Fe.prototype.get=function(n){return Co(this,n).get(n)},Fe.prototype.has=function(n){return Co(this,n).has(n)},Fe.prototype.set=function(n,e){var r=Co(this,n),t=r.size;return r.set(n,e),this.size+=r.size==t?0:1,this},Sr.prototype.add=Sr.prototype.push=function(n){return this.__data__.set(n,g),this},Sr.prototype.has=function(n){return this.__data__.has(n)},ze.prototype.clear=function(){this.__data__=new Ne,this.size=0},ze.prototype.delete=function(r){var e=this.__data__,r=e.delete(r);return this.size=e.size,r},ze.prototype.get=function(n){return this.__data__.get(n)},ze.prototype.has=function(n){return this.__data__.has(n)},ze.prototype.set=function(n,e){var r=this.__data__;if(r instanceof Ne){var t=r.__data__;if(!gt||t.length<199)return t.push([n,e]),this.size=++r.size,this;r=this.__data__=new Fe(t)}return r.set(n,e),this.size=r.size,this};var cr=Ea(Xe),ca=Ea(vi,!0);function Oc(n,e){var r=!0;return cr(n,function(t,i,a){return r=!!e(t,i,a)}),r}function so(n,e,r){for(var t=-1,i=n.length;++t<i;){var a,c,f=n[t],h=e(f);h!=null&&(a===o?h==h&&!he(h):r(h,a))&&(a=h,c=f)}return c}function fa(n,e){var r=[];return cr(n,function(t,i,a){e(t,i,a)&&r.push(t)}),r}function Un(n,e,r,t,i){var a=-1,c=n.length;for(r=r||Bc,i=i||[];++a<c;){var f=n[a];0<e&&r(f)?1<e?Un(f,e-1,r,t,i):ar(i,f):t||(i[i.length]=f)}return i}var di=Ia(),sa=Ia(!0);function Xe(n,e){return n&&di(n,e,Hn)}function vi(n,e){return n&&sa(n,e,Hn)}function po(n,e){return ur(e,function(r){return Ze(n[r])})}function Dr(n,e){for(var r=0,t=(e=sr(e,n)).length;n!=null&&r<t;)n=n[Ie(e[r++])];return r&&r==t?n:o}function pa(n,e,r){return e=e(n),nn(n)?e:ar(e,r(n))}function Jn(n){{if(n==null)return n===o?"[object Undefined]":"[object Null]";if(xr&&xr in rn(n)){var e=n,r=yn.call(e,xr),t=e[xr];try{e[xr]=o;var i=!0}catch{}var a=eo.call(e);return i&&(r?e[xr]=t:delete e[xr]),a}return eo.call(n)}}function gi(n,e){return e<n}function zc(n,e){return n!=null&&yn.call(n,e)}function Yc(n,e){return n!=null&&e in rn(n)}function _i(n,e,r){for(var t=r?ni:Kt,i=n[0].length,a=n.length,c=a,f=y(a),h=1/0,_=[];c--;){var m=n[c];c&&e&&(m=kn(m,se(e))),h=Vn(m.length,h),f[c]=!r&&(e||120<=i&&120<=m.length)?new Sr(c&&m):o}var m=n[0],w=-1,C=f[0];n:for(;++w<i&&_.length<h;){var M=m[w],P=e?e(M):M,M=r||M!==0?M:0;if(!(C?ht(C,P):t(_,P,r))){for(c=a;--c;){var $=f[c];if(!($?ht($,P):t(n[c],P,r)))continue n}C&&C.push(P),_.push(M)}}return _}function xt(n,e,r){return e=(n=Qa(n,e=sr(e,n)))==null?n:n[Ie(we(e))],e==null?o:fe(e,n,r)}function ha(n){return zn(n)&&Jn(n)==I}function Ct(n,e,r,t,i){{if(n===e)return!0;if(n==null||e==null||!zn(n)&&!zn(e))return n!=n&&e!=e;var a=Ct,c=nn(n),m=nn(e),f=c?q:qn(n),m=m?q:qn(e),h=(f=f==I?Z:f)==Z,_=(m=m==I?Z:m)==Z,m;if((m=f==m)&&hr(n)){if(!hr(e))return!1;h=!(c=!0)}if(m&&!h){if(i=i||new ze,c||Jr(n))return $a(n,e,r,t,a,i);var w=n,C=e,P=f,M=r,$=t,E=a,D=i;switch(P){case tn:if(w.byteLength!=C.byteLength||w.byteOffset!=C.byteOffset)return!1;w=w.buffer,C=C.buffer;case R:return!!(w.byteLength==C.byteLength&&E(new ro(w),new ro(C)));case ne:case Kn:case hn:return Ye(+w,+C);case Cn:return w.name==C.name&&w.message==C.message;case In:case ve:return w==C+"";case X:var j=li;case mn:var N=1&M;return j=j||Jt,w.size!=C.size&&!N?!1:(N=D.get(w),N?N==C:(M|=2,D.set(w,C),N=$a(j(w),j(C),M,$,E,D),D.delete(w),N));case nr:if(mt)return mt.call(w)==mt.call(C)}return!1}if(!(1&r)&&(c=h&&yn.call(n,"__wrapped__"),f=_&&yn.call(e,"__wrapped__"),c||f))return h=c?n.value():n,_=f?e.value():e,i=i||new ze,a(h,_,r,t,i);if(m){i=i||new ze;var G=n,cn=e,On=r,ue=t,Xn=a,Zn=i,nt=1&On,et=ji(G),uu=et.length,c=ji(cn).length;if(uu!=c&&!nt)return!1;for(var Ro=uu;Ro--;){var dr=et[Ro];if(!(nt?dr in cn:yn.call(cn,dr)))return!1}if(c=Zn.get(G),f=Zn.get(cn),c&&f)return c==cn&&f==G;for(var Xo=!0,au=(Zn.set(G,cn),Zn.set(cn,G),nt);++Ro<uu;){dr=et[Ro];var lu,Eo=G[dr],Io=cn[dr];if(!((lu=ue?nt?ue(Io,Eo,dr,cn,G,Zn):ue(Eo,Io,dr,G,cn,Zn):lu)===o?Eo===Io||Xn(Eo,Io,On,ue,Zn):lu)){Xo=!1;break}au=au||dr=="constructor"}return Xo&&!au&&(c=G.constructor,f=cn.constructor,c!=f&&"constructor"in G&&"constructor"in cn&&!(typeof c=="function"&&c instanceof c&&typeof f=="function"&&f instanceof f)&&(Xo=!1)),Zn.delete(G),Zn.delete(cn),Xo}return!1}}function yi(n,e,r,t){var i=r.length,a=i,c=!t;if(n==null)return!a;for(n=rn(n);i--;){var f=r[i];if(c&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++i<a;){var h=(f=r[i])[0],_=n[h],m=f[1];if(c&&f[2]){if(_===o&&!(h in n))return!1}else{var w,C=new ze;if(!((w=t?t(_,m,h,n,e,C):w)===o?Ct(m,_,3,t,C):w))return!1}}return!0}function da(n){return!(!Dn(n)||(e=n,Ku&&Ku in e))&&(Ze(n)?hc:Ft).test(zr(n));var e}function va(n){return typeof n=="function"?n:n==null?ie:typeof n=="object"?nn(n)?ya(n[0],n[1]):_a(n):El(n)}function mi(n){if(!Dt(n))return vc(n);var e,r=[];for(e in rn(n))yn.call(n,e)&&e!="constructor"&&r.push(e);return r}function Lc(n){if(!Dn(n)){var e=n,r=[];if(e!=null)for(var t in rn(e))r.push(t);return r}var i,a=Dt(n),c=[];for(i in n)(i!="constructor"||!a&&yn.call(n,i))&&c.push(i);return c}function wi(n,e){return n<e}function ga(n,e){var r=-1,t=te(n)?y(n.length):[];return cr(n,function(i,a,c){t[++r]=e(i,a,c)}),t}function _a(n){var e=Ei(n);return e.length==1&&e[0][2]?Ga(e[0][0],e[0][1]):function(r){return r===n||yi(r,n,e)}}function ya(n,e){return Mi(n)&&Ka(e)?Ga(Ie(n),e):function(r){var t=Ki(r,n);return t===o&&t===e?Gi(r,n):Ct(e,t,3)}}function ho(n,e,r,t,i){n!==e&&di(e,function(a,c){var f,h,_,m,w,C,P,M,$,E,D,j,N;i=i||new ze,Dn(a)?(h=e,m=r,w=ho,C=t,P=i,D=Bi(f=n,_=c),j=Bi(h,_),(N=P.get(j))||(N=C?C(D,j,_+"",f,h,P):o,(h=N===o)&&(M=nn(j),$=!M&&hr(j),E=!M&&!$&&Jr(j),N=j,M||$||E?N=nn(D)?D:Rn(D)?re(D):$?La(j,!(h=!1)):E?Ta(j,!(h=!1)):[]:zt(j)||Yr(j)?Yr(N=D)?N=kl(D):Dn(D)&&!Ze(D)||(N=Za(j)):h=!1),h&&(P.set(j,N),w(N,j,m,C,P),P.delete(j))),pi(f,_,N)):(M=t?t(Bi(n,c),a,c+"",n,e,i):o,pi(n,c,M=M===o?a:M))},oe)}function ma(n,e){var r=n.length;if(r)return qe(e+=e<0?r:0,r)?n[e]:o}function wa(a,e,r){e=e.length?kn(e,function(f){return nn(f)?function(h){return Dr(h,f.length===1?f[0]:f)}:f}):[ie];var t=-1;e=kn(e,se(U()));var i=ga(a,function(f,h,_){return{criteria:kn(e,function(m){return m(f)}),index:++t,value:f}}),a=function(f,h){for(var _=r,m=-1,w=f.criteria,C=h.criteria,P=w.length,M=_.length;++m<P;){var $=ja(w[m],C[m]);if($){if(M<=m)return $;var E=_[m];return $*(E=="desc"?-1:1)}}return f.index-h.index},c=i.length;for(i.sort(a);c--;)i[c]=i[c].value;return i}function ba(n,e,r){for(var t=-1,i=e.length,a={};++t<i;){var c=e[t],f=Dr(n,c);r(f,c)&&St(a,sr(c,n),f)}return a}function bi(n,e,r,t){var i=t?oc:Br,a=-1,c=e.length,f=n;for(n===e&&(e=re(e)),r&&(f=kn(n,se(r)));++a<c;)for(var h=0,_=e[a],m=r?r(_):_;-1<(h=i(f,m,h,t));)f!==n&&oo.call(f,h,1),oo.call(n,h,1);return n}function xa(n,e){for(var r=n?e.length:0,t=r-1;r--;){var i,a=e[r];r!=t&&a===i||(qe(i=a)?oo.call(n,a,1):ki(n,a))}}function xi(n,e){return n+ao(ra()*(e-n+1))}function Ci(n,e){var r="";if(!n||e<1||T<e)return r;for(;e%2&&(r+=n),(e=ao(e/2))&&(n+=n),e;);return r}function un(n,e){return Wi(Ja(n,e,ie),n+"")}function Tc(n){return ia(Qr(n))}function jc(n,e){return n=Qr(n),So(n,kr(e,0,n.length))}function St(n,e,r,t){if(!Dn(n))return n;for(var i=-1,a=(e=sr(e,n)).length,c=a-1,f=n;f!=null&&++i<a;){var h,_=Ie(e[i]),m=r;if(_==="__proto__"||_==="constructor"||_==="prototype")return n;i!=c&&(h=f[_],(m=t?t(h,_,f):o)===o&&(m=Dn(h)?h:qe(e[i+1])?[]:{})),wt(f,_,m),f=f[_]}return n}var Ca=lo?function(n,e){return lo.set(n,e),n}:ie,$n=io?function(n,e){return io(n,"toString",{configurable:!0,enumerable:!1,value:Qi(e),writable:!0})}:ie;function Rc(n){return So(Qr(n))}function me(n,e,r){for(var t=-1,i=n.length,a=((r=i<r?i:r)<0&&(r+=i),i=r<(e=e<0?i<-e?0:i+e:e)?0:r-e>>>0,e>>>=0,y(i));++t<i;)a[t]=n[t+e];return a}function Xc(n,e){var r;return cr(n,function(t,i,a){return!(r=e(t,i,a))}),!!r}function vo(n,e,r){var t=0,i=n==null?t:n.length;if(typeof e=="number"&&e==e&&i<=2147483647){for(;t<i;){var a=t+i>>>1,c=n[a];c!==null&&!he(c)&&(r?c<=e:c<e)?t=1+a:i=a}return i}return Si(n,e,ie,r)}function Si(n,e,r,t){var i=0,a=n==null?0:n.length;if(a===0)return 0;for(var c=(e=r(e))!=e,f=e===null,h=he(e),_=e===o;i<a;){var m=ao((i+a)/2),w=r(n[m]),C=w!==o,P=w===null,$=w==w,M=he(w),$=c?t||$:_?$&&(t||C):f?$&&C&&(t||!P):h?$&&C&&!P&&(t||!M):!P&&!M&&(t?w<=e:w<e);$?i=m+1:a=m}return Vn(a,4294967294)}function Sa(n,e){for(var r=-1,t=n.length,i=0,a=[];++r<t;){var c,f=n[r],h=e?e(f):f;r&&Ye(h,c)||(c=h,a[i++]=f===0?0:f)}return a}function ka(n){return typeof n=="number"?n:he(n)?O:+n}function pe(n){if(typeof n=="string")return n;if(nn(n))return kn(n,pe)+"";if(he(n))return ta?ta.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function fr(n,e,r){var t=-1,i=Kt,a=n.length,c=!0,f=[],h=f;if(r)c=!1,i=ni;else if(200<=a){var _=e?null:Mc(n);if(_)return Jt(_);c=!1,i=ht,h=new Sr}else h=e?[]:f;n:for(;++t<a;){var w=n[t],m=e?e(w):w,w=r||w!==0?w:0;if(c&&m==m){for(var C=h.length;C--;)if(h[C]===m)continue n;e&&h.push(m),f.push(w)}else i(h,m,r)||(h!==f&&h.push(m),f.push(w))}return f}function ki(n,e){return(n=Qa(n,e=sr(e,n)))==null||delete n[Ie(we(e))]}function Da(n,e,r,t){return St(n,e,r(Dr(n,e)),t)}function go(n,e,r,t){for(var i=n.length,a=t?i:-1;(t?a--:++a<i)&&e(n[a],a,n););return r?me(n,t?0:a,t?a+1:i):me(n,t?a+1:0,t?i:a)}function Oa(n,e){var r=n;return ei(e,function(t,i){return i.func.apply(i.thisArg,ar([t],i.args))},r=n instanceof ln?n.value():r)}function Di(n,e,r){var t=n.length;if(t<2)return t?fr(n[0]):[];for(var i=-1,a=y(t);++i<t;)for(var c=n[i],f=-1;++f<t;)f!=i&&(a[i]=bt(a[i]||c,n[f],e,r));return fr(Un(a,1),e,r)}function za(n,e,r){for(var t=-1,i=n.length,a=e.length,c={};++t<i;){var f=t<a?e[t]:o;r(c,n[t],f)}return c}function Oi(n){return Rn(n)?n:[]}function zi(n){return typeof n=="function"?n:ie}function sr(n,e){return nn(n)?n:Mi(n,e)?[n]:tl(_n(n))}var $i=un;function pr(n,e,r){var t=n.length;return r=r===o?t:r,!e&&t<=r?n:me(n,e,r)}var Ya=Ur||function(n){return Fn.clearTimeout(n)};function La(n,e){return e?n.slice():(e=n.length,e=Gu?Gu(e):new n.constructor(e),n.copy(e),e)}function Yi(n){var e=new n.constructor(n.byteLength);return new ro(e).set(new ro(n)),e}function Ta(n,e){return e=e?Yi(n.buffer):n.buffer,new n.constructor(e,n.byteOffset,n.length)}function ja(n,e){if(n!==e){var r=n!==o,t=n===null,i=n==n,a=he(n),c=e!==o,f=e===null,h=e==e,_=he(e);if(!f&&!_&&!a&&e<n||a&&c&&h&&!f&&!_||t&&c&&h||!r&&h||!i)return 1;if(!t&&!a&&!_&&n<e||_&&r&&i&&!t&&!a||f&&r&&i||!c&&i||!h)return-1}return 0}function Ra(n,e,r,t){for(var i=-1,a=n.length,c=r.length,f=-1,h=e.length,_=An(a-c,0),m=y(h+_),w=!t;++f<h;)m[f]=e[f];for(;++i<c;)(w||i<a)&&(m[r[i]]=n[i]);for(;_--;)m[f++]=n[i++];return m}function Xa(n,e,r,t){for(var i=-1,a=n.length,c=-1,f=r.length,h=-1,_=e.length,m=An(a-f,0),w=y(m+_),C=!t;++i<m;)w[i]=n[i];for(var P=i;++h<_;)w[P+h]=e[h];for(;++c<f;)(C||i<a)&&(w[P+r[c]]=n[i++]);return w}function re(n,e){var r=-1,t=n.length;for(e=e||y(t);++r<t;)e[r]=n[r];return e}function Ee(n,e,r,t){for(var i=!r,a=(r=r||{},-1),c=e.length;++a<c;){var f=e[a],h=t?t(r[f],n[f],f,r,n):o;(i?Ue:wt)(r,f,h=h===o?n[f]:h)}return r}function _o(n,e){return function(r,t){var i=nn(r)?nc:Dc,a=e?e():{};return i(r,n,U(t,2),a)}}function Zr(n){return un(function(e,r){var t=-1,i=r.length,c=1<i?r[i-1]:o,a=2<i?r[2]:o,c=3<n.length&&typeof c=="function"?(i--,c):o;for(a&&Qn(r[0],r[1],a)&&(c=i<3?o:c,i=1),e=rn(e);++t<i;){var f=r[t];f&&n(e,f,t,c)}return e})}function Ea(n,e){return function(r,t){if(r==null)return r;if(!te(r))return n(r,t);for(var i=r.length,a=e?i:-1,c=rn(r);(e?a--:++a<i)&&t(c[a],a,c)!==!1;);return r}}function Ia(n){return function(e,r,t){for(var i=-1,a=rn(e),c=t(e),f=c.length;f--;){var h=c[n?f:++i];if(r(a[h],h,a)===!1)break}return e}}function Ma(n){return function(e){var t=Wr(e=_n(e))?De(e):o,r=t?t[0]:e.charAt(0),t=t?pr(t,1).join(""):e.slice(1);return r[n]()+t}}function Kr(n){return function(e){return ei(Rl(jl(e).replace(Mr,"")),n,"")}}function kt(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=qr(n.prototype),t=n.apply(r,e);return Dn(t)?t:r}}function Ec(n,e,r){var t=kt(n);return function i(){for(var a=arguments.length,c=y(a),f=a,h=Gr(i);f--;)c[f]=arguments[f];return h=a<3&&c[0]!==h&&c[a-1]!==h?[]:lr(c,h),(a-=h.length)<r?Ha(n,e,yo,i.placeholder,o,c,h,o,o,r-a):fe(this&&this!==Fn&&this instanceof i?t:n,this,c)}}function Aa(n){return function(e,c,t){var i,a=rn(e),c=(te(e)||(i=U(c,3),e=Hn(e),c=function(f){return i(a[f],f,a)}),n(e,c,t));return-1<c?a[i?e[c]:c]:o}}function Ba(n){return Ve(function(e){var r=e.length,t=r,i=Oe.prototype.thru;for(n&&e.reverse();t--;){var a=e[t];if(typeof a!="function")throw new _e(p);i&&!h&&xo(a)=="wrapper"&&(h=new Oe([],!0))}for(t=h?t:r;++t<r;)var c=xo(a=e[t]),f=c=="wrapper"?Xi(a):o,h=f&&Ai(f[0])&&f[1]==424&&!f[4].length&&f[9]==1?h[xo(f[0])].apply(h,f[3]):a.length==1&&Ai(a)?h[c]():h.thru(a);return function(){var _=arguments,m=_[0];if(h&&_.length==1&&nn(m))return h.plant(m).value();for(var w=0,C=r?e[w].apply(this,_):m;++w<r;)C=e[w].call(this,C);return C}})}function yo(n,e,r,t,i,a,c,f,h,_){var m=e&b,w=1&e,C=2&e,P=24&e,M=512&e,$=C?o:kt(n);return function E(){for(var D=y(cn=arguments.length),j=cn;j--;)D[j]=arguments[j];if(P&&(G=function(On,ue){for(var Xn=On.length,Zn=0;Xn--;)On[Xn]===ue&&++Zn;return Zn}(D,N=Gr(E))),t&&(D=Ra(D,t,i,P)),a&&(D=Xa(D,a,c,P)),cn-=G,P&&cn<_)return G=lr(D,N),Ha(n,e,yo,E.placeholder,r,D,G,f,h,_-cn);var N=w?r:this,G=C?N[n]:n,cn=D.length;return f?D=function(On,ue){for(var Xn=On.length,Zn=Vn(ue.length,Xn),nt=re(On);Zn--;){var et=ue[Zn];On[Zn]=qe(et,Xn)?nt[et]:o}return On}(D,f):M&&1<cn&&D.reverse(),m&&h<cn&&(D.length=h),(G=this&&this!==Fn&&this instanceof E?$||kt(G):G).apply(N,D)}}function Wa(n,e){return function(r,t){return r=r,i=n,a=e(t),c={},Xe(r,function(f,h,_){i(c,a(f),h,_)}),c;var i,a,c}}function mo(n,e){return function(r,t){var i;if(r===o&&t===o)return e;if(r!==o&&(i=r),t!==o){if(i===o)return t;t=typeof r=="string"||typeof t=="string"?(r=pe(r),pe(t)):(r=ka(r),ka(t)),i=n(r,t)}return i}}function Li(n){return Ve(function(e){return e=kn(e,se(U())),un(function(r){var t=this;return n(e,function(i){return fe(i,t,r)})})})}function wo(n,e){var r=(e=e===o?" ":pe(e)).length;return r<2?r?Ci(e,n):e:(r=Ci(e,uo(n/Pr(e))),Wr(e)?pr(De(r),0,n).join(""):r.slice(0,n))}function Ic(n,e,r,t){var i=1&e,a=kt(n);return function c(){for(var f=-1,h=arguments.length,_=-1,m=t.length,w=y(m+h),C=this&&this!==Fn&&this instanceof c?a:n;++_<m;)w[_]=t[_];for(;h--;)w[_++]=arguments[++f];return fe(C,i?r:this,w)}}function Pa(n){return function(e,r,t){t&&typeof t!="number"&&Qn(e,r,t)&&(r=t=o),e=Ke(e),r===o?(r=e,e=0):r=Ke(r),t=t===o?e<r?1:-1:Ke(t);for(var i=e,a=t,c=n,f=-1,h=An(uo((r-i)/(a||1)),0),_=y(h);h--;)_[c?h:++f]=i,i+=a;return _}}function bo(n){return function(e,r){return typeof e=="string"&&typeof r=="string"||(e=xe(e),r=xe(r)),n(e,r)}}function Ha(n,e,r,t,w,C,c,f,h,_){var m=8&e,w=(4&(e=(e|(m?32:64))&~(m?64:32))||(e&=-4),[n,e,w,m?C:o,m?c:o,m?o:C,m?o:c,f,h,_]),C=r.apply(o,w);return Ai(n)&&nl(C,w),C.placeholder=t,el(C,n,e)}function Ti(n){var e=on[n];return function(r,t){var i;return r=xe(r),(t=t==null?0:Vn(en(t),292))&&ea(r)?(i=(_n(r)+"e").split("e"),+((i=(_n(e(i[0]+"e"+(+i[1]+t)))+"e").split("e"))[0]+"e"+(+i[1]-t))):e(r)}}var Mc=$r&&1/Jt(new $r([,-0]))[1]==1/0?function(n){return new $r(n)}:ru;function Na(n){return function(e){var r,t,i,a=qn(e);return a==X?li(e):a==mn?(a=e,r=-1,t=Array(a.size),a.forEach(function(c){t[++r]=[c,c]}),t):kn(n(i=e),function(c){return[c,i[c]]})}}function $e(n,e,r,t,i,a,c,f){var h=2&e;if(!h&&typeof n!="function")throw new _e(p);var _,m,w,C,P,M=t?t.length:0,$=(M||(e&=-97,t=i=o),c=c===o?c:An(en(c),0),f=f===o?f:en(f),M-=i?i.length:0,64&e&&(E=t,_=i,t=i=o),h?o:Xi(n)),E=[n,e,r,t,i,E,_,a,c,f];return $&&function(D,j){var N=D[1],G=j[1],cn=N|G,On=cn<131,ue=G==b&&N==8||G==b&&N==256&&D[7].length<=j[8]||G==384&&j[7].length<=j[8]&&N==8;if(!(!On&&!ue)){1&G&&(D[2]=j[2],cn|=1&N?0:4),On=j[3];{var Xn;On&&(Xn=D[3],D[3]=Xn?Ra(Xn,On,j[4]):On,D[4]=Xn?lr(D[3],l):j[4])}(On=j[5])&&(Xn=D[5],D[5]=Xn?Xa(Xn,On,j[6]):On,D[6]=Xn?lr(D[5],l):j[6]),(On=j[7])&&(D[7]=On),G&b&&(D[8]=D[8]==null?j[8]:Vn(D[8],j[8])),D[9]==null&&(D[9]=j[9]),D[0]=j[0],D[1]=cn}}(E,$),n=E[0],e=E[1],r=E[2],t=E[3],i=E[4],!(f=E[9]=E[9]===o?h?0:n.length:An(E[9]-M,0))&&24&e&&(e&=-25),_=e&&e!=1?e==8||e==16?Ec(n,e,f):e!=32&&e!=33||i.length?yo.apply(o,E):Ic(n,e,r,t):(w=r,C=1&e,P=kt(m=n),function D(){return(this&&this!==Fn&&this instanceof D?P:m).apply(C?w:this,arguments)}),el(($?Ca:nl)(_,E),n,e)}function Fa(n,e,r,t){return n===o||Ye(n,Nr[r])&&!yn.call(t,r)?e:n}function Ua(n,e,r,t,i,a){return Dn(n)&&Dn(e)&&(a.set(e,n),ho(n,e,o,Ua,a),a.delete(e)),n}function Ac(n){return zt(n)?o:n}function $a(n,e,r,t,i,a){var c=1&r,f=n.length,h=e.length;if(f!=h&&!(c&&f<h))return!1;var h=a.get(n),_=a.get(e);if(h&&_)return h==e&&_==n;var m=-1,w=!0,C=2&r?new Sr:o;for(a.set(n,e),a.set(e,n);++m<f;){var P,M=n[m],$=e[m];if((P=t?c?t($,M,m,e,n,a):t(M,$,m,n,e,a):P)!==o){if(P)continue;w=!1;break}if(C){if(!ri(e,function(E,D){return!ht(C,D)&&(M===E||i(M,E,r,t,a))&&C.push(D)})){w=!1;break}}else if(M!==$&&!i(M,$,r,t,a)){w=!1;break}}return a.delete(n),a.delete(e),w}function Ve(n){return Wi(Ja(n,o,al),n+"")}function ji(n){return pa(n,Hn,Ii)}function Ri(n){return pa(n,oe,Va)}var Xi=lo?function(n){return lo.get(n)}:ru;function xo(n){for(var e=n.name+"",r=Vr[e],t=yn.call(Vr,e)?r.length:0;t--;){var i=r[t],a=i.func;if(a==null||a==n)return i.name}return e}function Gr(n){return(yn.call(u,"placeholder")?u:n).placeholder}function U(){var n=(n=u.iteratee||nu)===nu?va:n;return arguments.length?n(arguments[0],arguments[1]):n}function Co(i,e){var r,t,i=i.__data__;return((t=typeof(r=e))=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null)?i[typeof e=="string"?"string":"hash"]:i.map}function Ei(n){for(var e=Hn(n),r=e.length;r--;){var t=e[r],i=n[t];e[r]=[t,i,Ka(i)]}return e}function Or(n,e){return e=e,n=(n=n)==null?o:n[e],da(n)?n:o}var Ii=fi?function(n){return n==null?[]:(n=rn(n),ur(fi(n),function(e){return Qu.call(n,e)}))}:tu,Va=fi?function(n){for(var e=[];n;)ar(e,Ii(n)),n=to(n);return e}:tu,qn=Jn;function qa(n,e,r){for(var t=-1,i=(e=sr(e,n)).length,a=!1;++t<i;){var c=Ie(e[t]);if(!(a=n!=null&&r(n,c)))break;n=n[c]}return a||++t!=i?a:!!(i=n==null?0:n.length)&&Lo(i)&&qe(c,i)&&(nn(n)||Yr(n))}function Za(n){return typeof n.constructor!="function"||Dt(n)?{}:qr(to(n))}function Bc(n){return nn(n)||Yr(n)||!!(na&&n&&n[na])}function qe(n,e){var r=typeof n;return!!(e=e==null?T:e)&&(r=="number"||r!="symbol"&&$t.test(n))&&-1<n&&n%1==0&&n<e}function Qn(n,e,r){var t;if(Dn(r))return t=typeof e,(t=="number"?te(r)&&qe(e,r.length):t=="string"&&e in r)&&Ye(r[e],n)}function Mi(n,e){var r;if(!nn(n))return r=typeof n,r=="number"||r=="symbol"||r=="boolean"||n==null||he(n)||At.test(n)||!ke.test(n)||e!=null&&n in rn(e)}function Ai(n){var e=xo(n),r=u[e];if(typeof r=="function"&&e in ln.prototype)return n===r?1:(e=Xi(r),e&&n===e[0])}(Re&&qn(new Re(new ArrayBuffer(1)))!=tn||gt&&qn(new gt)!=X||_t&&qn(_t.resolve())!=Bn||$r&&qn(new $r)!=mn||pn&&qn(new pn)!=er)&&(qn=function(r){var e=Jn(r),r=e==Z?r.constructor:o,r=r?zr(r):"";if(r)switch(r){case mc:return tn;case wc:return X;case bc:return Bn;case xc:return mn;case Cc:return er}return e});var Wc=Fr?Ze:ou;function Dt(n){var e=n&&n.constructor;return n===(typeof e=="function"&&e.prototype||Nr)}function Ka(n){return n==n&&!Dn(n)}function Ga(n,e){return function(r){return r!=null&&r[n]===e&&(e!==o||n in rn(r))}}function Ja(n,e,r){return e=An(e===o?n.length-1:e,0),function(){for(var t=arguments,i=-1,a=An(t.length-e,0),c=y(a);++i<a;)c[i]=t[e+i];for(var i=-1,f=y(e+1);++i<e;)f[i]=t[i];return f[e]=r(c),fe(n,this,f)}}function Qa(n,e){return e.length<2?n:Dr(n,me(e,0,-1))}function Bi(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]}var nl=rl(Ca),Ot=ci||function(n,e){return Fn.setTimeout(n,e)},Wi=rl($n);function el(n,a,r){var t,i,a=a+"";return Wi(n,function(c,f){var h=f.length;if(!h)return c;var _=h-1;return f[_]=(1<h?"& ":"")+f[_],f=f.join(2<h?", ":" "),c.replace(Wt,`{
/* [wrapped with `+f+`] */
`)}(a,(t=(n=(n=a).match(Pt))?n[1].split(ft):[],i=r,ge(B,function(c){var f="_."+c[0];i&c[1]&&!Kt(t,f)&&t.push(f)}),t.sort())))}function rl(n){var e=0,r=0;return function(){var t=gc(),i=16-(t-r);if(r=t,0<i){if(800<=++e)return arguments[0]}else e=0;return n.apply(o,arguments)}}function So(n,e){var r=-1,t=n.length,i=t-1;for(e=e===o?t:e;++r<e;){var a=xi(r,i),c=n[a];n[a]=n[r],n[r]=c}return n.length=e,n}Pi=(Ur=zo(Ur=function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Bt,function(r,t,i,a){e.push(i?a.replace(Xr,"$1"):t||r)}),e},function(n){return Pi.size===500&&Pi.clear(),n})).cache;var Pi,tl=Ur;function Ie(n){if(typeof n=="string"||he(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function zr(n){if(n!=null){try{return no.call(n)}catch{}try{return n+""}catch{}}return""}function ol(n){if(n instanceof ln)return n.clone();var e=new Oe(n.__wrapped__,n.__chain__);return e.__actions__=re(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}Re=un(function(n,e){return Rn(n)?bt(n,Un(e,1,Rn,!0)):[]}),_t=un(function(n,e){var r=we(e);return Rn(r)&&(r=o),Rn(n)?bt(n,Un(e,1,Rn,!0),U(r,2)):[]}),pn=un(function(n,e){var r=we(e);return Rn(r)&&(r=o),Rn(n)?bt(n,Un(e,1,Rn,!0),o,r):[]});function il(n,e,r){var t=n==null?0:n.length;return t?(r=r==null?0:en(r),r<0&&(r=An(t+r,0)),Gt(n,U(e,3),r)):-1}function ul(n,e,r){var t=n==null?0:n.length;if(!t)return-1;var i=t-1;return r!==o&&(i=en(r),i=r<0?An(t+i,0):Vn(i,t-1)),Gt(n,U(e,3),i,!0)}function al(n){return n!=null&&n.length?Un(n,1):[]}function ll(n){return n&&n.length?n[0]:o}Fr=un(function(n){var e=kn(n,Oi);return e.length&&e[0]===n[0]?_i(e):[]}),ci=un(function(n){var e=we(n),r=kn(n,Oi);return e===we(r)?e=o:r.pop(),r.length&&r[0]===n[0]?_i(r,U(e,2)):[]}),$n=un(function(n){var e=we(n),r=kn(n,Oi);return(e=typeof e=="function"?e:o)&&r.pop(),r.length&&r[0]===n[0]?_i(r,o,e):[]});function we(n){var e=n==null?0:n.length;return e?n[e-1]:o}Ur=un(cl);function cl(n,e){return n&&n.length&&e&&e.length?bi(n,e):n}var Pc=Ve(function(n,e){var r=n==null?0:n.length,t=hi(n,e);return xa(n,kn(e,function(i){return qe(i,r)?+i:i}).sort(ja)),t});function Hi(n){return n==null?n:yc.call(n)}var Hc=un(function(n){return fr(Un(n,1,Rn,!0))}),Nc=un(function(n){var e=we(n);return Rn(e)&&(e=o),fr(Un(n,1,Rn,!0),U(e,2))}),Fc=un(function(n){var e=typeof(e=we(n))=="function"?e:o;return fr(Un(n,1,Rn,!0),o,e)});function Ni(n){if(!n||!n.length)return[];var e=0;return n=ur(n,function(r){return Rn(r)&&(e=An(r.length,e),1)}),ui(e,function(r){return kn(n,ti(r))})}function fl(n,e){return!n||!n.length?[]:(n=Ni(n),e==null?n:kn(n,function(r){return fe(e,o,r)}))}var Uc=un(function(n,e){return Rn(n)?bt(n,e):[]}),$c=un(function(n){return Di(ur(n,Rn))}),Vc=un(function(n){var e=we(n);return Rn(e)&&(e=o),Di(ur(n,Rn),U(e,2))}),qc=un(function(n){var e=typeof(e=we(n))=="function"?e:o;return Di(ur(n,Rn),o,e)}),Zc=un(Ni),Kc=un(function(n){var e=n.length,e=typeof(e=1<e?n[e-1]:o)=="function"?(n.pop(),e):o;return fl(n,e)});function sl(n){return n=u(n),n.__chain__=!0,n}function ko(n,e){return e(n)}var Gc=Ve(function(n){function e(a){return hi(a,n)}var r=n.length,t=r?n[0]:0,i=this.__wrapped__;return!(1<r||this.__actions__.length)&&i instanceof ln&&qe(t)?((i=i.slice(t,+t+(r?1:0))).__actions__.push({func:ko,args:[e],thisArg:o}),new Oe(i,this.__chain__).thru(function(a){return r&&!a.length&&a.push(o),a})):this.thru(e)}),Jc=_o(function(n,e,r){yn.call(n,r)?++n[r]:Ue(n,r,1)}),Qc=Aa(il),nf=Aa(ul);function pl(n,e){return(nn(n)?ge:cr)(n,U(e,3))}function hl(n,e){return(nn(n)?ec:ca)(n,U(e,3))}var ef=_o(function(n,e,r){yn.call(n,r)?n[r].push(e):Ue(n,r,[e])}),rf=un(function(n,e,r){var t=-1,i=typeof e=="function",a=te(n)?y(n.length):[];return cr(n,function(c){a[++t]=i?fe(e,c,r):xt(c,e,r)}),a}),tf=_o(function(n,e,r){Ue(n,r,e)});function Do(n,e){return(nn(n)?kn:ga)(n,U(e,3))}var of=_o(function(n,e,r){n[r?0:1].push(e)},function(){return[[],[]]}),uf=un(function(n,e){if(n==null)return[];var r=e.length;return 1<r&&Qn(n,e[0],e[1])?e=[]:2<r&&Qn(e[0],e[1],e[2])&&(e=[e[0]]),wa(n,Un(e,1),[])}),Oo=Ui||function(){return Fn.Date.now()};function dl(n,e,r){return e=r?o:e,e=n&&e==null?n.length:e,$e(n,b,o,o,o,o,e)}function vl(n,e){var r;if(typeof e!="function")throw new _e(p);return n=en(n),function(){return 0<--n&&(r=e.apply(this,arguments)),n<=1&&(e=o),r}}var Fi=un(function(n,e,r){var t,i=1;return r.length&&(t=lr(r,Gr(Fi)),i|=32),$e(n,i,e,r,t)}),gl=un(function(n,e,r){var t,i=3;return r.length&&(t=lr(r,Gr(gl)),i|=32),$e(e,i,n,r,t)});function _l(n,e,r){var t,i,a,c,f,h,_=0,m=!1,w=!1,C=!0;if(typeof n!="function")throw new _e(p);function P(j){var N=t,G=i;return t=i=o,_=j,c=n.apply(G,N)}function M(j){var N=j-h;return h===o||e<=N||N<0||w&&a<=j-_}function $(){var j,N=Oo();if(M(N))return E(N);f=Ot($,(j=e-((N=N)-h),w?Vn(j,a-(N-_)):j))}function E(j){return f=o,C&&t?P(j):(t=i=o,c)}function D(){var j=Oo(),N=M(j);if(t=arguments,i=this,h=j,N){if(f===o)return _=j=h,f=Ot($,e),m?P(j):c;if(w)return Ya(f),f=Ot($,e),P(h)}return f===o&&(f=Ot($,e)),c}return e=xe(e)||0,Dn(r)&&(m=!!r.leading,w="maxWait"in r,a=w?An(xe(r.maxWait)||0,e):a,C="trailing"in r?!!r.trailing:C),D.cancel=function(){f!==o&&Ya(f),_=0,t=h=i=f=o},D.flush=function(){return f===o?c:E(Oo())},D}var Ui=un(function(n,e){return la(n,1,e)}),af=un(function(n,e,r){return la(n,xe(e)||0,r)});function zo(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new _e(p);function r(){var t=arguments,i=e?e.apply(this,t):t[0],a=r.cache;return a.has(i)?a.get(i):(t=n.apply(this,t),r.cache=a.set(i,t)||a,t)}return r.cache=new(zo.Cache||Fe),r}function Yo(n){if(typeof n!="function")throw new _e(p);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}zo.Cache=Fe;var $i=$i(function(n,e){var r=(e=e.length==1&&nn(e[0])?kn(e[0],se(U())):kn(Un(e,1),se(U()))).length;return un(function(t){for(var i=-1,a=Vn(t.length,r);++i<a;)t[i]=e[i].call(this,t[i]);return fe(n,this,t)})}),Vi=un(function(n,e){var r=lr(e,Gr(Vi));return $e(n,32,o,e,r)}),yl=un(function(n,e){var r=lr(e,Gr(yl));return $e(n,64,o,e,r)}),lf=Ve(function(n,e){return $e(n,256,o,o,o,e)});function Ye(n,e){return n===e||n!=n&&e!=e}var cf=bo(gi),ff=bo(function(n,e){return e<=n}),Yr=ha(function(){return arguments}())?ha:function(n){return zn(n)&&yn.call(n,"callee")&&!Qu.call(n,"callee")},nn=y.isArray,sf=Xu?se(Xu):function(n){return zn(n)&&Jn(n)==R};function te(n){return n!=null&&Lo(n.length)&&!Ze(n)}function Rn(n){return zn(n)&&te(n)}var hr=be||ou,be=Eu?se(Eu):function(n){return zn(n)&&Jn(n)==Kn};function qi(n){if(!zn(n))return!1;var e=Jn(n);return e==Cn||e=="[object DOMException]"||typeof n.message=="string"&&typeof n.name=="string"&&!zt(n)}function Ze(n){return Dn(n)?(n=Jn(n),n==Ln||n==fn||n=="[object AsyncFunction]"||n=="[object Proxy]"):!1}function ml(n){return typeof n=="number"&&n==en(n)}function Lo(n){return typeof n=="number"&&-1<n&&n%1==0&&n<=T}function Dn(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function zn(n){return n!=null&&typeof n=="object"}var wl=Iu?se(Iu):function(n){return zn(n)&&qn(n)==X};function bl(n){return typeof n=="number"||zn(n)&&Jn(n)==hn}function zt(n){return!zn(n)||Jn(n)!=Z?!1:(n=to(n),n===null?!0:(n=yn.call(n,"constructor")&&n.constructor,typeof n=="function"&&n instanceof n&&no.call(n)==sc))}var Zi=Mu?se(Mu):function(n){return zn(n)&&Jn(n)==In},xl=Au?se(Au):function(n){return zn(n)&&qn(n)==mn};function To(n){return typeof n=="string"||!nn(n)&&zn(n)&&Jn(n)==ve}function he(n){return typeof n=="symbol"||zn(n)&&Jn(n)==nr}var Jr=Bu?se(Bu):function(n){return zn(n)&&Lo(n.length)&&!!xn[Jn(n)]},pf=bo(wi),hf=bo(function(n,e){return n<=e});function Cl(n){if(!n)return[];if(te(n))return(To(n)?De:re)(n);if(vt&&n[vt]){for(var e,r=n[vt](),t=[];!(e=r.next()).done;)t.push(e.value);return t}var i=qn(n);return(i==X?li:i==mn?Jt:Qr)(n)}function Ke(n){return n?(n=xe(n))===1/0||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:n===0?n:0}function en(e){var e=Ke(e),r=e%1;return e==e?r?e-r:e:0}function Sl(n){return n?kr(en(n),0,A):0}function xe(n){if(typeof n=="number")return n;if(he(n))return O;if(typeof(n=Dn(n)?Dn(e=typeof n.valueOf=="function"?n.valueOf():n)?e+"":e:n)!="string")return n===0?n:+n;n=Uu(n);var e=Nt.test(n);return e||Ut.test(n)?Ql(n.slice(2),e?2:8):He.test(n)?O:+n}function kl(n){return Ee(n,oe(n))}function _n(n){return n==null?"":pe(n)}var df=Zr(function(n,e){if(Dt(e)||te(e))Ee(e,Hn(e),n);else for(var r in e)yn.call(e,r)&&wt(n,r,e[r])}),Dl=Zr(function(n,e){Ee(e,oe(e),n)}),jo=Zr(function(n,e,r,t){Ee(e,oe(e),n,t)}),vf=Zr(function(n,e,r,t){Ee(e,Hn(e),n,t)}),gf=Ve(hi),_f=un(function(n,e){n=rn(n);var r=-1,t=e.length,i=2<t?e[2]:o;for(i&&Qn(e[0],e[1],i)&&(t=1);++r<t;)for(var a=e[r],c=oe(a),f=-1,h=c.length;++f<h;){var _=c[f],m=n[_];(m===o||Ye(m,Nr[_])&&!yn.call(n,_))&&(n[_]=a[_])}return n}),yf=un(function(n){return n.push(o,Ua),fe(Ol,o,n)});function Ki(n,e,r){return n=n==null?o:Dr(n,e),n===o?r:n}function Gi(n,e){return n!=null&&qa(n,e,Yc)}var mf=Wa(function(n,e,r){n[e=e!=null&&typeof e.toString!="function"?eo.call(e):e]=r},Qi(ie)),wf=Wa(function(n,e,r){e!=null&&typeof e.toString!="function"&&(e=eo.call(e)),yn.call(n,e)?n[e].push(r):n[e]=[r]},U),bf=un(xt);function Hn(n){return(te(n)?oa:mi)(n)}function oe(n){return te(n)?oa(n,!0):Lc(n)}var xf=Zr(function(n,e,r){ho(n,e,r)}),Ol=Zr(function(n,e,r,t){ho(n,e,r,t)}),Cf=Ve(function(n,e){var r={};if(n==null)return r;for(var t=!1,i=(e=kn(e,function(a){return a=sr(a,n),t=t||1<a.length,a}),Ee(n,Ri(n),r),t&&(r=ye(r,7,Ac)),e.length);i--;)ki(r,e[i]);return r}),Sf=Ve(function(n,e){return n==null?{}:ba(r=n,e,function(t,i){return Gi(r,i)});var r});function zl(n,e){if(n==null)return{};var r=kn(Ri(n),function(t){return[t]});return e=U(e),ba(n,r,function(t,i){return e(t,i[0])})}var Yl=Na(Hn),Ll=Na(oe);function Qr(n){return n==null?[]:ai(n,Hn(n))}var kf=Kr(function(n,e,r){return e=e.toLowerCase(),n+(r?Tl(e):e)});function Tl(n){return Ji(_n(n).toLowerCase())}function jl(n){return(n=_n(n))&&n.replace(Ko,ic).replace(or,"")}var Df=Kr(function(n,e,r){return n+(r?"-":"")+e.toLowerCase()}),Of=Kr(function(n,e,r){return n+(r?" ":"")+e.toLowerCase()}),zf=Ma("toLowerCase"),Yf=Kr(function(n,e,r){return n+(r?"_":"")+e.toLowerCase()}),Lf=Kr(function(n,e,r){return n+(r?" ":"")+Ji(e)}),Tf=Kr(function(n,e,r){return n+(r?" ":"")+e.toUpperCase()}),Ji=Ma("toUpperCase");function Rl(n,e,r){return n=_n(n),(e=r?o:e)===o?(r=n,ql.test(r)?n.match(mr)||[]:n.match(Ht)||[]):n.match(e)||[]}var Xl=un(function(n,e){try{return fe(n,o,e)}catch(r){return qi(r)?r:new H(r)}}),jf=Ve(function(n,e){return ge(e,function(r){r=Ie(r),Ue(n,r,Fi(n[r],n))}),n});function Qi(n){return function(){return n}}var Rf=Ba(),Xf=Ba(!0);function ie(n){return n}function nu(n){return va(typeof n=="function"?n:ye(n,1))}var Ef=un(function(n,e){return function(r){return xt(r,n,e)}}),If=un(function(n,e){return function(r){return xt(n,r,e)}});function eu(n,e,r){var t=Hn(e),i=po(e,t),a=(r!=null||Dn(e)&&(i.length||!t.length)||(r=e,e=n,n=this,i=po(e,Hn(e))),!(Dn(r)&&"chain"in r&&!r.chain)),c=Ze(n);return ge(i,function(f){var h=e[f];n[f]=h,c&&(n.prototype[f]=function(){var _,m=this.__chain__;return a||m?(((_=n(this.__wrapped__)).__actions__=re(this.__actions__)).push({func:h,args:arguments,thisArg:n}),_.__chain__=m,_):h.apply(n,ar([this.value()],arguments))})}),n}function ru(){}var Mf=Li(kn),Af=Li(Wu),Bf=Li(ri);function El(n){return Mi(n)?ti(Ie(n)):(e=n,function(r){return Dr(r,e)});var e}var Wf=Pa(),Pf=Pa(!0);function tu(){return[]}function ou(){return!1}var Hf=mo(function(n,e){return n+e},0),Nf=Ti("ceil"),Ff=mo(function(n,e){return n/e},1),Uf=Ti("floor"),iu,$f=mo(function(n,e){return n*e},1),Vf=Ti("round"),qf=mo(function(n,e){return n-e},0);return u.after=function(n,e){if(typeof e!="function")throw new _e(p);return n=en(n),function(){if(--n<1)return e.apply(this,arguments)}},u.ary=dl,u.assign=df,u.assignIn=Dl,u.assignInWith=jo,u.assignWith=vf,u.at=gf,u.before=vl,u.bind=Fi,u.bindAll=jf,u.bindKey=gl,u.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return nn(n)?n:[n]},u.chain=sl,u.chunk=function(n,e,r){e=(r?Qn(n,e,r):e===o)?1:An(en(e),0);var t=n==null?0:n.length;if(!t||e<1)return[];for(var i=0,a=0,c=y(uo(t/e));i<t;)c[a++]=me(n,i,i+=e);return c},u.compact=function(n){for(var e=-1,r=n==null?0:n.length,t=0,i=[];++e<r;){var a=n[e];a&&(i[t++]=a)}return i},u.concat=function(){var n=arguments.length;if(!n)return[];for(var e=y(n-1),r=arguments[0],t=n;t--;)e[t-1]=arguments[t];return ar(nn(r)?re(r):[r],Un(e,1))},u.cond=function(n){var e=n==null?0:n.length,r=U();return n=e?kn(n,function(t){if(typeof t[1]!="function")throw new _e(p);return[r(t[0]),t[1]]}):[],un(function(t){for(var i=-1;++i<e;){var a=n[i];if(fe(a[0],this,t))return fe(a[1],this,t)}})},u.conforms=function(n){return e=ye(n,1),r=Hn(e),function(t){return aa(t,e,r)};var e,r},u.constant=Qi,u.countBy=Jc,u.create=function(n,e){return n=qr(n),e==null?n:ua(n,e)},u.curry=function n(e,r,t){return e=$e(e,8,o,o,o,o,o,r=t?o:r),e.placeholder=n.placeholder,e},u.curryRight=function n(e,r,t){return e=$e(e,16,o,o,o,o,o,r=t?o:r),e.placeholder=n.placeholder,e},u.debounce=_l,u.defaults=_f,u.defaultsDeep=yf,u.defer=Ui,u.delay=af,u.difference=Re,u.differenceBy=_t,u.differenceWith=pn,u.drop=function(n,e,r){var t=n==null?0:n.length;return t?me(n,(e=r||e===o?1:en(e))<0?0:e,t):[]},u.dropRight=function(n,e,r){var t=n==null?0:n.length;return t?me(n,0,(e=t-(e=r||e===o?1:en(e)))<0?0:e):[]},u.dropRightWhile=function(n,e){return n&&n.length?go(n,U(e,3),!0,!0):[]},u.dropWhile=function(n,e){return n&&n.length?go(n,U(e,3),!0):[]},u.fill=function(n,e,r,t){if(!(h=n==null?0:n.length))return[];r&&typeof r!="number"&&Qn(n,e,r)&&(r=0,t=h);var i=n,a=e,c=r,f=t,h=i.length;for((c=en(c))<0&&(c=h<-c?0:h+c),(f=f===o||h<f?h:en(f))<0&&(f+=h),f=f<c?0:Sl(f);c<f;)i[c++]=a;return i},u.filter=function(n,e){return(nn(n)?ur:fa)(n,U(e,3))},u.flatMap=function(n,e){return Un(Do(n,e),1)},u.flatMapDeep=function(n,e){return Un(Do(n,e),1/0)},u.flatMapDepth=function(n,e,r){return r=r===o?1:en(r),Un(Do(n,e),r)},u.flatten=al,u.flattenDeep=function(n){return n!=null&&n.length?Un(n,1/0):[]},u.flattenDepth=function(n,e){return n!=null&&n.length?Un(n,e=e===o?1:en(e)):[]},u.flip=function(n){return $e(n,512)},u.flow=Rf,u.flowRight=Xf,u.fromPairs=function(n){for(var e=-1,r=n==null?0:n.length,t={};++e<r;){var i=n[e];t[i[0]]=i[1]}return t},u.functions=function(n){return n==null?[]:po(n,Hn(n))},u.functionsIn=function(n){return n==null?[]:po(n,oe(n))},u.groupBy=ef,u.initial=function(n){return n!=null&&n.length?me(n,0,-1):[]},u.intersection=Fr,u.intersectionBy=ci,u.intersectionWith=$n,u.invert=mf,u.invertBy=wf,u.invokeMap=rf,u.iteratee=nu,u.keyBy=tf,u.keys=Hn,u.keysIn=oe,u.map=Do,u.mapKeys=function(n,e){var r={};return e=U(e,3),Xe(n,function(t,i,a){Ue(r,e(t,i,a),t)}),r},u.mapValues=function(n,e){var r={};return e=U(e,3),Xe(n,function(t,i,a){Ue(r,i,e(t,i,a))}),r},u.matches=function(n){return _a(ye(n,1))},u.matchesProperty=function(n,e){return ya(n,ye(e,1))},u.memoize=zo,u.merge=xf,u.mergeWith=Ol,u.method=Ef,u.methodOf=If,u.mixin=eu,u.negate=Yo,u.nthArg=function(n){return n=en(n),un(function(e){return ma(e,n)})},u.omit=Cf,u.omitBy=function(n,e){return zl(n,Yo(U(e)))},u.once=function(n){return vl(2,n)},u.orderBy=function(n,e,r,t){return n==null?[]:wa(n,e=nn(e)?e:e==null?[]:[e],r=nn(r=t?o:r)?r:r==null?[]:[r])},u.over=Mf,u.overArgs=$i,u.overEvery=Af,u.overSome=Bf,u.partial=Vi,u.partialRight=yl,u.partition=of,u.pick=Sf,u.pickBy=zl,u.property=El,u.propertyOf=function(n){return function(e){return n==null?o:Dr(n,e)}},u.pull=Ur,u.pullAll=cl,u.pullAllBy=function(n,e,r){return n&&n.length&&e&&e.length?bi(n,e,U(r,2)):n},u.pullAllWith=function(n,e,r){return n&&n.length&&e&&e.length?bi(n,e,o,r):n},u.pullAt=Pc,u.range=Wf,u.rangeRight=Pf,u.rearg=lf,u.reject=function(n,e){return(nn(n)?ur:fa)(n,Yo(U(e,3)))},u.remove=function(n,e){var r=[];if(!n||!n.length)return r;var t=-1,i=[],a=n.length;for(e=U(e,3);++t<a;){var c=n[t];e(c,t,n)&&(r.push(c),i.push(t))}return xa(n,i),r},u.rest=function(n,e){if(typeof n!="function")throw new _e(p);return un(n,e=e===o?e:en(e))},u.reverse=Hi,u.sampleSize=function(n,e,r){return e=(r?Qn(n,e,r):e===o)?1:en(e),(nn(n)?Sc:jc)(n,e)},u.set=function(n,e,r){return n==null?n:St(n,e,r)},u.setWith=function(n,e,r,t){return t=typeof t=="function"?t:o,n==null?n:St(n,e,r,t)},u.shuffle=function(n){return(nn(n)?kc:Rc)(n)},u.slice=function(n,e,r){var t=n==null?0:n.length;return t?(r=r&&typeof r!="number"&&Qn(n,e,r)?(e=0,t):(e=e==null?0:en(e),r===o?t:en(r)),me(n,e,r)):[]},u.sortBy=uf,u.sortedUniq=function(n){return n&&n.length?Sa(n):[]},u.sortedUniqBy=function(n,e){return n&&n.length?Sa(n,U(e,2)):[]},u.split=function(n,e,r){return r&&typeof r!="number"&&Qn(n,e,r)&&(e=r=o),(r=r===o?A:r>>>0)?(n=_n(n))&&(typeof e=="string"||e!=null&&!Zi(e))&&!(e=pe(e))&&Wr(n)?pr(De(n),0,r):n.split(e,r):[]},u.spread=function(n,e){if(typeof n!="function")throw new _e(p);return e=e==null?0:An(en(e),0),un(function(i){var t=i[e],i=pr(i,0,e);return t&&ar(i,t),fe(n,this,i)})},u.tail=function(n){var e=n==null?0:n.length;return e?me(n,1,e):[]},u.take=function(n,e,r){return n&&n.length?me(n,0,(e=r||e===o?1:en(e))<0?0:e):[]},u.takeRight=function(n,e,r){var t=n==null?0:n.length;return t?me(n,(e=t-(e=r||e===o?1:en(e)))<0?0:e,t):[]},u.takeRightWhile=function(n,e){return n&&n.length?go(n,U(e,3),!1,!0):[]},u.takeWhile=function(n,e){return n&&n.length?go(n,U(e,3)):[]},u.tap=function(n,e){return e(n),n},u.throttle=function(n,e,r){var t=!0,i=!0;if(typeof n!="function")throw new _e(p);return Dn(r)&&(t="leading"in r?!!r.leading:t,i="trailing"in r?!!r.trailing:i),_l(n,e,{leading:t,maxWait:e,trailing:i})},u.thru=ko,u.toArray=Cl,u.toPairs=Yl,u.toPairsIn=Ll,u.toPath=function(n){return nn(n)?kn(n,Ie):he(n)?[n]:re(tl(_n(n)))},u.toPlainObject=kl,u.transform=function(n,e,r){var t,i=nn(n),a=i||hr(n)||Jr(n);return e=U(e,4),r==null&&(t=n&&n.constructor,r=a?i?new t:[]:Dn(n)&&Ze(t)?qr(to(n)):{}),(a?ge:Xe)(n,function(c,f,h){return e(r,c,f,h)}),r},u.unary=function(n){return dl(n,1)},u.union=Hc,u.unionBy=Nc,u.unionWith=Fc,u.uniq=function(n){return n&&n.length?fr(n):[]},u.uniqBy=function(n,e){return n&&n.length?fr(n,U(e,2)):[]},u.uniqWith=function(n,e){return e=typeof e=="function"?e:o,n&&n.length?fr(n,o,e):[]},u.unset=function(n,e){return n==null||ki(n,e)},u.unzip=Ni,u.unzipWith=fl,u.update=function(n,e,r){return n==null?n:Da(n,e,zi(r))},u.updateWith=function(n,e,r,t){return t=typeof t=="function"?t:o,n==null?n:Da(n,e,zi(r),t)},u.values=Qr,u.valuesIn=function(n){return n==null?[]:ai(n,oe(n))},u.without=Uc,u.words=Rl,u.wrap=function(n,e){return Vi(zi(e),n)},u.xor=$c,u.xorBy=Vc,u.xorWith=qc,u.zip=Zc,u.zipObject=function(n,e){return za(n||[],e||[],wt)},u.zipObjectDeep=function(n,e){return za(n||[],e||[],St)},u.zipWith=Kc,u.entries=Yl,u.entriesIn=Ll,u.extend=Dl,u.extendWith=jo,eu(u,u),u.add=Hf,u.attempt=Xl,u.camelCase=kf,u.capitalize=Tl,u.ceil=Nf,u.clamp=function(n,e,r){return r===o&&(r=e,e=o),r!==o&&(r=(r=xe(r))==r?r:0),e!==o&&(e=(e=xe(e))==e?e:0),kr(xe(n),e,r)},u.clone=function(n){return ye(n,4)},u.cloneDeep=function(n){return ye(n,5)},u.cloneDeepWith=function(n,e){return ye(n,5,e=typeof e=="function"?e:o)},u.cloneWith=function(n,e){return ye(n,4,e=typeof e=="function"?e:o)},u.conformsTo=function(n,e){return e==null||aa(n,e,Hn(e))},u.deburr=jl,u.defaultTo=function(n,e){return n==null||n!=n?e:n},u.divide=Ff,u.endsWith=function(n,e,r){n=_n(n),e=pe(e);var t=n.length,t=r=r===o?t:kr(en(r),0,t);return 0<=(r-=e.length)&&n.slice(r,t)==e},u.eq=Ye,u.escape=function(n){return(n=_n(n))&&Mt.test(n)?n.replace(ce,uc):n},u.escapeRegExp=function(n){return(n=_n(n))&&Zo.test(n)?n.replace(We,"\\$&"):n},u.every=function(n,e,r){return(nn(n)?Wu:Oc)(n,U(e=r&&Qn(n,e,r)?o:e,3))},u.find=Qc,u.findIndex=il,u.findKey=function(n,e){return Pu(n,U(e,3),Xe)},u.findLast=nf,u.findLastIndex=ul,u.findLastKey=function(n,e){return Pu(n,U(e,3),vi)},u.floor=Uf,u.forEach=pl,u.forEachRight=hl,u.forIn=function(n,e){return n==null?n:di(n,U(e,3),oe)},u.forInRight=function(n,e){return n==null?n:sa(n,U(e,3),oe)},u.forOwn=function(n,e){return n&&Xe(n,U(e,3))},u.forOwnRight=function(n,e){return n&&vi(n,U(e,3))},u.get=Ki,u.gt=cf,u.gte=ff,u.has=function(n,e){return n!=null&&qa(n,e,zc)},u.hasIn=Gi,u.head=ll,u.identity=ie,u.includes=function(n,e,r,t){return n=te(n)?n:Qr(n),r=r&&!t?en(r):0,t=n.length,r<0&&(r=An(t+r,0)),To(n)?r<=t&&-1<n.indexOf(e,r):!!t&&-1<Br(n,e,r)},u.indexOf=function(n,e,r){var t=n==null?0:n.length;return t?(r=r==null?0:en(r),Br(n,e,r=r<0?An(t+r,0):r)):-1},u.inRange=function(n,e,r){return e=Ke(e),r===o?(r=e,e=0):r=Ke(r),(n=n=xe(n))>=Vn(e=e,r=r)&&n<An(e,r)},u.invoke=bf,u.isArguments=Yr,u.isArray=nn,u.isArrayBuffer=sf,u.isArrayLike=te,u.isArrayLikeObject=Rn,u.isBoolean=function(n){return n===!0||n===!1||zn(n)&&Jn(n)==ne},u.isBuffer=hr,u.isDate=be,u.isElement=function(n){return zn(n)&&n.nodeType===1&&!zt(n)},u.isEmpty=function(n){if(n==null)return!0;if(te(n)&&(nn(n)||typeof n=="string"||typeof n.splice=="function"||hr(n)||Jr(n)||Yr(n)))return!n.length;var e,r=qn(n);if(r==X||r==mn)return!n.size;if(Dt(n))return!mi(n).length;for(e in n)if(yn.call(n,e))return!1;return!0},u.isEqual=function(n,e){return Ct(n,e)},u.isEqualWith=function(n,e,r){var t=(r=typeof r=="function"?r:o)?r(n,e):o;return t===o?Ct(n,e,o,r):!!t},u.isError=qi,u.isFinite=function(n){return typeof n=="number"&&ea(n)},u.isFunction=Ze,u.isInteger=ml,u.isLength=Lo,u.isMap=wl,u.isMatch=function(n,e){return n===e||yi(n,e,Ei(e))},u.isMatchWith=function(n,e,r){return r=typeof r=="function"?r:o,yi(n,e,Ei(e),r)},u.isNaN=function(n){return bl(n)&&n!=+n},u.isNative=function(n){if(Wc(n))throw new H("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return da(n)},u.isNil=function(n){return n==null},u.isNull=function(n){return n===null},u.isNumber=bl,u.isObject=Dn,u.isObjectLike=zn,u.isPlainObject=zt,u.isRegExp=Zi,u.isSafeInteger=function(n){return ml(n)&&-T<=n&&n<=T},u.isSet=xl,u.isString=To,u.isSymbol=he,u.isTypedArray=Jr,u.isUndefined=function(n){return n===o},u.isWeakMap=function(n){return zn(n)&&qn(n)==er},u.isWeakSet=function(n){return zn(n)&&Jn(n)=="[object WeakSet]"},u.join=function(n,e){return n==null?"":dc.call(n,e)},u.kebabCase=Df,u.last=we,u.lastIndexOf=function(n,e,r){var t=n==null?0:n.length;if(!t)return-1;var i=t;if(r!==o&&(i=(i=en(r))<0?An(t+i,0):Vn(i,t-1)),e!=e)return Gt(n,Hu,i,!0);for(var a=n,c=e,f=i+1;f--;)if(a[f]===c)return f;return f},u.lowerCase=Of,u.lowerFirst=zf,u.lt=pf,u.lte=hf,u.max=function(n){return n&&n.length?so(n,ie,gi):o},u.maxBy=function(n,e){return n&&n.length?so(n,U(e,2),gi):o},u.mean=function(n){return Nu(n,ie)},u.meanBy=function(n,e){return Nu(n,U(e,2))},u.min=function(n){return n&&n.length?so(n,ie,wi):o},u.minBy=function(n,e){return n&&n.length?so(n,U(e,2),wi):o},u.stubArray=tu,u.stubFalse=ou,u.stubObject=function(){return{}},u.stubString=function(){return""},u.stubTrue=function(){return!0},u.multiply=$f,u.nth=function(n,e){return n&&n.length?ma(n,en(e)):o},u.noConflict=function(){return Fn._===this&&(Fn._=pc),this},u.noop=ru,u.now=Oo,u.pad=function(n,e,r){n=_n(n);var t=(e=en(e))?Pr(n):0;return!e||e<=t?n:wo(ao(e=(e-t)/2),r)+n+wo(uo(e),r)},u.padEnd=function(n,e,r){n=_n(n);var t=(e=en(e))?Pr(n):0;return e&&t<e?n+wo(e-t,r):n},u.padStart=function(n,e,r){n=_n(n);var t=(e=en(e))?Pr(n):0;return e&&t<e?wo(e-t,r)+n:n},u.parseInt=function(n,e,r){return e=r||e==null?0:e&&+e,_c(_n(n).replace(je,""),e||0)},u.random=function(n,e,r){var t;return r&&typeof r!="boolean"&&Qn(n,e,r)&&(e=r=o),r===o&&(typeof e=="boolean"?(r=e,e=o):typeof n=="boolean"&&(r=n,n=o)),n===o&&e===o?(n=0,e=1):(n=Ke(n),e===o?(e=n,n=0):e=Ke(e)),e<n&&(t=n,n=e,e=t),r||n%1||e%1?(t=ra(),Vn(n+t*(e-n+Jl("1e-"+((t+"").length-1))),e)):xi(n,e)},u.reduce=function(n,e,r){var t=nn(n)?ei:Fu,i=arguments.length<3;return t(n,U(e,4),r,i,cr)},u.reduceRight=function(n,e,r){var t=nn(n)?rc:Fu,i=arguments.length<3;return t(n,U(e,4),r,i,ca)},u.repeat=function(n,e,r){return e=(r?Qn(n,e,r):e===o)?1:en(e),Ci(_n(n),e)},u.replace=function(){var n=arguments,e=_n(n[0]);return n.length<3?e:e.replace(n[1],n[2])},u.result=function(n,e,r){var t=-1,i=(e=sr(e,n)).length;for(i||(i=1,n=o);++t<i;){var a=n==null?o:n[Ie(e[t])];a===o&&(t=i,a=r),n=Ze(a)?a.call(n):a}return n},u.round=Vf,u.runInContext=v,u.sample=function(n){return(nn(n)?ia:Tc)(n)},u.size=function(n){if(n==null)return 0;if(te(n))return To(n)?Pr(n):n.length;var e=qn(n);return e==X||e==mn?n.size:mi(n).length},u.snakeCase=Yf,u.some=function(n,e,r){return(nn(n)?ri:Xc)(n,U(e=r&&Qn(n,e,r)?o:e,3))},u.sortedIndex=function(n,e){return vo(n,e)},u.sortedIndexBy=function(n,e,r){return Si(n,e,U(r,2))},u.sortedIndexOf=function(n,e){var r=n==null?0:n.length;if(r){var t=vo(n,e);if(t<r&&Ye(n[t],e))return t}return-1},u.sortedLastIndex=function(n,e){return vo(n,e,!0)},u.sortedLastIndexBy=function(n,e,r){return Si(n,e,U(r,2),!0)},u.sortedLastIndexOf=function(n,e){if(n!=null&&n.length){var r=vo(n,e,!0)-1;if(Ye(n[r],e))return r}return-1},u.startCase=Lf,u.startsWith=function(n,e,r){return n=_n(n),r=r==null?0:kr(en(r),0,n.length),e=pe(e),n.slice(r,r+e.length)==e},u.subtract=qf,u.sum=function(n){return n&&n.length?ii(n,ie):0},u.sumBy=function(n,e){return n&&n.length?ii(n,U(e,2)):0},u.template=function(n,e,m){var t,i,h=u.templateSettings;m&&Qn(n,e,m)&&(e=o),n=_n(n),e=jo({},e,h,Fa);var a=Hn(m=jo({},e.imports,h.imports,Fa)),c=ai(m,a),f=0,h=e.interpolate||_r,_="__p += '",m=dt((e.escape||_r).source+"|"+h.source+"|"+(h===tr?Er:_r).source+"|"+(e.evaluate||_r).source+"|$","g"),w="//# sourceURL="+(yn.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kl+"]")+`
`;if(n.replace(m,function(C,P,M,$,E,D){return M=M||$,_+=n.slice(f,D).replace(Go,ac),P&&(t=!0,_+=`' +
__e(`+P+`) +
'`),E&&(i=!0,_+=`';
`+E+`;
__p += '`),M&&(_+=`' +
((__t = (`+M+`)) == null ? '' : __t) +
'`),f=D+C.length,C}),_+=`';
`,h=yn.call(e,"variable")&&e.variable){if(st.test(h))throw new H("Invalid `variable` option passed into `_.template`")}else _=`with (obj) {
`+_+`
}
`;if(_=(i?_.replace(Tn,""):_).replace(le,"$1").replace(ct,"$1;"),_="function("+(h||"obj")+`) {
`+(h?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(t?", __e = _.escape":"")+(i?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_+`return __p
}`,(m=Xl(function(){return Q(a,w+"return "+_).apply(o,c)})).source=_,qi(m))throw m;return m},u.times=function(n,e){if((n=en(n))<1||T<n)return[];for(var r=A,t=Vn(n,A),t=(e=U(e),n-=A,ui(t,e));++r<n;)e(r);return t},u.toFinite=Ke,u.toInteger=en,u.toLength=Sl,u.toLower=function(n){return _n(n).toLowerCase()},u.toNumber=xe,u.toSafeInteger=function(n){return n?kr(en(n),-T,T):n===0?n:0},u.toString=_n,u.toUpper=function(n){return _n(n).toUpperCase()},u.trim=function(n,e,r){return(n=_n(n))&&(r||e===o)?Uu(n):n&&(e=pe(e))?(r=De(n),n=De(e),pr(r,$u(r,n),Vu(r,n)+1).join("")):n},u.trimEnd=function(n,e,r){return(n=_n(n))&&(r||e===o)?n.slice(0,Zu(n)+1):n&&(e=pe(e))?pr(r=De(n),0,Vu(r,De(e))+1).join(""):n},u.trimStart=function(n,e,r){return(n=_n(n))&&(r||e===o)?n.replace(je,""):n&&(e=pe(e))?pr(r=De(n),$u(r,De(e))).join(""):n},u.truncate=function(n,i){var r,c=30,t="...",i=(Dn(i)&&(r="separator"in i?i.separator:r,c="length"in i?en(i.length):c,t="omission"in i?pe(i.omission):t),(n=_n(n)).length);if((i=Wr(n)?(a=De(n)).length:i)<=c)return n;if((i=c-Pr(t))<1)return t;var a,c=a?pr(a,0,i).join(""):n.slice(0,i);if(r===o)return c+t;if(a&&(i+=c.length-i),Zi(r)){if(n.slice(i).search(r)){var f,h=c;for((r=r.global?r:dt(r.source,_n(Pe.exec(r))+"g")).lastIndex=0;f=r.exec(h);)var _=f.index;c=c.slice(0,_===o?i:_)}}else n.indexOf(pe(r),i)==i||-1<(a=c.lastIndexOf(r))&&(c=c.slice(0,a));return c+t},u.unescape=function(n){return(n=_n(n))&&It.test(n)?n.replace(bn,lc):n},u.uniqueId=function(n){var e=++fc;return _n(n)+e},u.upperCase=Tf,u.upperFirst=Ji,u.each=pl,u.eachRight=hl,u.first=ll,eu(u,(iu={},Xe(u,function(n,e){yn.call(u.prototype,e)||(iu[e]=n)}),iu),{chain:!1}),u.VERSION="4.17.21",ge(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),ge(["drop","take"],function(n,e){ln.prototype[n]=function(r){r=r===o?1:An(en(r),0);var t=this.__filtered__&&!e?new ln(this):this.clone();return t.__filtered__?t.__takeCount__=Vn(r,t.__takeCount__):t.__views__.push({size:Vn(r,A),type:n+(t.__dir__<0?"Right":"")}),t},ln.prototype[n+"Right"]=function(r){return this.reverse()[n](r).reverse()}}),ge(["filter","map","takeWhile"],function(n,e){var r=e+1,t=r==1||r==3;ln.prototype[n]=function(i){var a=this.clone();return a.__iteratees__.push({iteratee:U(i,3),type:r}),a.__filtered__=a.__filtered__||t,a}}),ge(["head","last"],function(n,e){var r="take"+(e?"Right":"");ln.prototype[n]=function(){return this[r](1).value()[0]}}),ge(["initial","tail"],function(n,e){var r="drop"+(e?"":"Right");ln.prototype[n]=function(){return this.__filtered__?new ln(this):this[r](1)}}),ln.prototype.compact=function(){return this.filter(ie)},ln.prototype.find=function(n){return this.filter(n).head()},ln.prototype.findLast=function(n){return this.reverse().find(n)},ln.prototype.invokeMap=un(function(n,e){return typeof n=="function"?new ln(this):this.map(function(r){return xt(r,n,e)})}),ln.prototype.reject=function(n){return this.filter(Yo(U(n)))},ln.prototype.slice=function(n,e){n=en(n);var r=this;return r.__filtered__&&(0<n||e<0)?new ln(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),e!==o?(e=en(e))<0?r.dropRight(-e):r.take(e-n):r)},ln.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ln.prototype.toArray=function(){return this.take(A)},Xe(ln.prototype,function(n,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),t=/^(?:head|last)$/.test(e),i=u[t?"take"+(e=="last"?"Right":""):e],a=t||/^find/.test(e);i&&(u.prototype[e]=function(){function c($){return $=i.apply(u,ar([$],_)),t&&w?$[0]:$}var f,h=this.__wrapped__,_=t?[1]:arguments,M=h instanceof ln,C=_[0],m=M||nn(h),w=(m&&r&&typeof C=="function"&&C.length!=1&&(M=m=!1),this.__chain__),C=!!this.__actions__.length,P=a&&!w,M=M&&!C;return!a&&m?(h=M?h:new ln(this),(f=n.apply(h,_)).__actions__.push({func:ko,args:[c],thisArg:o}),new Oe(f,w)):P&&M?n.apply(this,_):(f=this.thru(c),P?t?f.value()[0]:f.value():f)})}),ge(["pop","push","shift","sort","splice","unshift"],function(n){var e=Qt[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",t=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i,a=arguments;return t&&!this.__chain__?(i=this.value(),e.apply(nn(i)?i:[],a)):this[r](function(c){return e.apply(nn(c)?c:[],a)})}}),Xe(ln.prototype,function(n,e){var r,t=u[e];t&&(r=t.name+"",yn.call(Vr,r)||(Vr[r]=[]),Vr[r].push({name:e,func:t}))}),Vr[yo(o,2).name]=[{name:"wrapper",func:o}],ln.prototype.clone=function(){var n=new ln(this.__wrapped__);return n.__actions__=re(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=re(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=re(this.__views__),n},ln.prototype.reverse=function(){var n;return this.__filtered__?((n=new ln(this)).__dir__=-1,n.__filtered__=!0):(n=this.clone()).__dir__*=-1,n},ln.prototype.value=function(){var n=this.__wrapped__.value(),e=this.__dir__,r=nn(n),t=e<0,i=r?n.length:0,a=function(j,N,G){for(var cn=-1,On=G.length;++cn<On;){var ue=G[cn],Xn=ue.size;switch(ue.type){case"drop":j+=Xn;break;case"dropRight":N-=Xn;break;case"take":N=Vn(N,j+Xn);break;case"takeRight":j=An(j,N-Xn)}}return{start:j,end:N}}(0,i,this.__views__),c=a.start,f=(a=a.end)-c,h=t?a:c-1,_=this.__iteratees__,m=_.length,w=0,C=Vn(f,this.__takeCount__);if(!r||!t&&i==f&&C==f)return Oa(n,this.__actions__);var P=[];n:for(;f--&&w<C;){for(var M=-1,$=n[h+=e];++M<m;){var E=_[M],D=E.iteratee,E=E.type,D=D($);if(E==2)$=D;else if(!D){if(E==1)continue n;break n}}P[w++]=$}return P},u.prototype.at=Gc,u.prototype.chain=function(){return sl(this)},u.prototype.commit=function(){return new Oe(this.value(),this.__chain__)},u.prototype.next=function(){this.__values__===o&&(this.__values__=Cl(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?o:this.__values__[this.__index__++]}},u.prototype.plant=function(n){for(var e,i=this;i instanceof co;)var r=ol(i),t=(r.__index__=0,r.__values__=o,e?t.__wrapped__=r:e=r,r),i=i.__wrapped__;return t.__wrapped__=n,e},u.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof ln?(n=n,(n=(n=this.__actions__.length?new ln(this):n).reverse()).__actions__.push({func:ko,args:[Hi],thisArg:o}),new Oe(n,this.__chain__)):this.thru(Hi)},u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=function(){return Oa(this.__wrapped__,this.__actions__)},u.prototype.first=u.prototype.head,vt&&(u.prototype[vt]=function(){return this}),u}();br?((br.exports=Hr)._=Hr,wr._=Hr):Fn._=Hr}.call(tt);const Ge=1e5,Je=window.devicePixelRatio||1,Lr={daubConfig:{lineWidth:20,strokeStyle:"white"},tagConfig:{fontSize:20,showText:!0,fillStyle:"rgba(242, 88, 85, 0.5)",textFillStyle:"rgba(255, 255, 255, 0.6)",hoverStrokeStyle:"#F25856",hoverLineWidth:1,hoverLineDash:[5],highlightStrokeStyle:"yellow",highlightLineWidth:2,highlightLineDash:[5],customDraw(){}},layerConfig:{fillStyle:"rgba(0, 0, 0, 0.6)"},cropConfig:{lineDash:[],strokeStyle:"rgba(255, 255, 255, 1)",lineWidth:2,customDraw(){}},dotConfig:{lineDash:[],lineWidth:2,strokeStyle:"transparent",hoverFillStyle:"#69B1FF",fillStyle:"#24FF6E",radius:50}},ot={width:0,height:0},de={x:void 0,y:void 0};function vr(o){o.clearRect(-Ge/2,-Ge/2,Ge,Ge)}function du(o,p){let g=new Image;return p&&(g.crossOrigin="anonymous"),g.src=o,new Promise((l,b)=>{g.complete?l(g):(g.onload=function(){l(g)},g.onerror=function(){b("\u56FE\u7247\u52A0\u8F7D\u5931\u8D25:"+g.src)})})}function Tr(o,p,g,l,b,T){o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(p,g,l,b,T)}function vu(o,p){o.fillStyle=p.layerConfig.fillStyle,o.fillRect(-Ge/2,-Ge/2,Ge,Ge)}function gu(o,p,g,l,b){o.clearRect(p,g,l,b)}function _u(o,p,g,l,b,T,O){T=J.exports.cloneDeep(T.cropConfig),O&&O.cropConfig&&Object.assign(T,O.cropConfig),o.setLineDash(T.lineDash),o.strokeStyle=T.strokeStyle,o.lineWidth=T.lineWidth,o.strokeRect(p,g,l,b)}function yu(o){return o=o.getClientRects()[0],o?{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}:void 0}function jt(o,p){o.canvas.width=p.width,o.canvas.height=p.height}function Le(o,p=["width","height"],g=!1){try{var l=function(T){let O=Object.prototype.toString.call(T);return O.slice(8,O.length-1)}(o);let b=g?1/Je:Je;if(l==="Number")return o*b;p.forEach(T=>{o[T]*=b})}catch{}return o}function mu(o){return Array.from(o.touches||[]).map(p=>Le({clientX:p.clientX,clientY:p.clientY},["clientX","clientY"]))}function wu(o,p,g,l,b,T,O){O||(vr(o),vu(o,T)),gu(o,p,g,l,b),_u(o,p,g,l,b,T)}function Wo(o,p,g,l){let b,T;p.forEach((O,A)=>{o&&(b=p[A-1]||O,T=O,o.beginPath(),o.lineJoin="round",o.lineCap="round",o.lineWidth=O.lineWidth||l.daubConfig.lineWidth,o.strokeStyle=O.strokeStyle||l.daubConfig.strokeStyle,o.moveTo(b._x||b.x,b._y||b.y),o.lineTo(T._x||T.x,T._y||T.y),o.stroke())})}function Qe(o,p,g,l,b,T){T||(vr(o),vu(o,l)),p.forEach(O=>{var I;let A=Ae(O,O.__scale,g),B=(b&&(A[0]+=b.offsetX,A[1]+=b.offsetY),gu(o,...A),_u(o,...A,l,O),J.exports.cloneDeep(l.cropConfig));O&&O.cropConfig&&Object.assign(B,O.cropConfig),(I=B.customDraw)==null||I.call(B,o,{target:O,positions:A})})}function it(o,p,g=1,l={x:0,y:0}){let b=[],T=[];return p.map(A=>{{var B=g,I=l;let q=J.exports.cloneDeep(A);return q.startX=q.startX*B+I.x,q.endX=q.endX*B+I.x,q.startY=q.startY*B+I.y,q.endY=q.endY*B+I.y,q}}).forEach((A,B)=>{!function(I,q){if(I.x>=q.startX&&I.x<=q.endX&&I.y>=q.startY&&I.y<=q.endY)return 1}(o,A)||(b.push(p[B]),T.push(B))}),{boxList:b,indexList:T}}function Rt(o,p){let g=p[0],l=p[0]+p[2],b=p[1],T=p[1]+p[3];return o.x>=g&&o.x<=l&&o.y>=b&&o.y<=T}function Po(o,p){var g=Math.abs(p.x-o.x),l=Math.abs(p.y-o.y);return[Math.min(o.x,p.x),Math.min(o.y,p.y),g,l]}function Te(O){let p=O;var{startX:O,startY:A,endX:g,endY:l}=p,b=Math.abs(O-g),T=Math.abs(A-l),O=Math.min(O,g),A=Math.min(A,l);return p.startX=O,p.startY=A,p.endX=O+b,p.endY=A+T,{info:p,position:[O,A,b,T]}}function ut(g,l){var g=Te(g),l=Te(l),b=Math.min(g.info.startY,l.info.startY),T=Math.max(g.info.endY,l.info.endY);let O;Math.abs(T-b)<g.position[3]+l.position[3]&&(O={startY:Math.max(g.info.startY,l.info.startY),endY:Math.min(g.info.endY,l.info.endY)}),T=Math.min(g.info.startX,l.info.startX),b=Math.max(g.info.endX,l.info.endX),b=Math.abs(b-T),T=g.position[2]+l.position[2];let A;if((A=b<T?{startX:Math.max(g.info.startX,l.info.startX),endX:Math.min(g.info.endX,l.info.endX)}:A)!==void 0&&O!==void 0)return Object.assign(O,A)}function Ae(O,p=1,g={x:0,y:0}){var O=Te(O),{startX:l,startY:b}=O.info,T=O.position[2],O=O.position[3];return[l*p+g.x,b*p+g.y,T*p,O*p]}function Ho(o){return o=Ae(o),5<=o[2]&&5<=o[3]}function No(o,p,g,l,b,T,O,A,B,I,q,ne,Kn){let Cn=J.exports.cloneDeep(T.tagConfig);if(ne&&Object.assign(Cn,ne),o.font=Cn.fontSize+"px sans-serif",A||B){if(!B||A&&A.type==="move"||(o.fillStyle=Cn.fillStyle,o.fillRect(p,g,l,b),O&&Cn.showText&&(T=parseFloat(o.font.split(" ")[0]),o.fillStyle=Cn.textFillStyle,o.fillText(q||O+"",p+4,g+b/2+T/2))),I&&(o.strokeStyle=Cn.highlightStrokeStyle,o.lineWidth=Cn.highlightLineWidth,o.setLineDash(Cn.highlightLineDash),o.strokeRect(p,g,l,b)),A&&Rt(A,[p,g,l,b])){if(A.type==="click")return{isShow:B=!B,isCrash:!0};A.type!=="move"||B||(o.strokeStyle=Cn.hoverStrokeStyle,o.lineWidth=Cn.hoverLineWidth,o.setLineDash(Cn.hoverLineDash),o.strokeRect(p,g,l,b))}Cn.customDraw(o,{target:Kn,positions:[p,g,l,b]})}}function Be(o,p,g,l,b={offsetX:0,offsetY:0},T){let O=!1,A=[];return p.forEach(B=>{let I=Ae(B,B.__scale,g);I[0]+=b.offsetX,I[1]+=b.offsetY;var q=No(o,...I,l,(B.__index||0)+1,T,B.isShow,B.showOutLine,B.labelText,B.tagConfig,B);q!==void 0&&(B.isShow=q.isShow,q.isCrash&&(O=!0,A.push(B)))}),{isReDraw:O,redrawList:A}}function bu(o,p,g){return g=Et({x:o[0],y:o[1]},p,g),o[0]=g.x,o[1]=g.y,o[2]/=p/Je,o[3]/=p/Je,o}function Xt(o,p,g,l,b){p.forEach(q=>{o.beginPath();var O,A,B,I=J.exports.cloneDeep(l.dotConfig),q=(q.dotConfig&&Object.assign(I,q.dotConfig),o.fillStyle=q.__isHover?I.hoverFillStyle:I.fillStyle,o.strokeStyle=I.strokeStyle,o.lineWidth=I.lineWidth,o.setLineDash(I.lineDash),[q,I=1,O={x:0,y:0},A,B]=[q,q.__scale,g,I.radius,b],[q.x*I+O.x+((B==null?void 0:B.offsetX)||0),q.y*I+O.y+((B==null?void 0:B.offsetY)||0),A*I,0,2*Math.PI]);o.arc(...q),o.fill(),o.stroke()})}function xu(o,p){return(o.x<=p.x?"left":"right")+"-"+(o.y<=p.y?"top":"bottom")}function Cu(o,T,g){var l=Po(o,T),b=(T.x-o.x)/g,T=(T.y-o.y)/g;let O=!1;return{isStartMove:O=5<l[2]||5<l[3]?!0:O,offsetInfo:{offsetX:b,offsetY:T}}}function Et(o,p,g){return{x:o.x/p+g.x,y:o.y/p+g.y}}function at(o,p,g,l){return o=Et({x:o.layerX,y:o.layerY},p,g),{x:o.x,y:o.y,type:l}}function Su(o,p,g=-1,l){return o=Ae(o,o.__scale,p),p=l!=null?l:x.mobile()?6*Je:6,l=p/2,[{index:g,name:"left-top",type:"vertex",positions:[o[0]-l,o[1]-l,p,p]},{index:g,name:"right-top",type:"vertex",positions:[o[0]+o[2]-l,o[1]-l,p,p]},{index:g,name:"left-bottom",type:"vertex",positions:[o[0]-l,o[1]+o[3]-l,p,p]},{index:g,name:"right-bottom",type:"vertex",positions:[o[0]+o[2]-l,o[1]+o[3]-l,p,p]},{index:g,name:"left",type:"border",positions:[o[0]-l,o[1]+l,p,o[3]-l]},{index:g,name:"top",type:"border",positions:[o[0]+l,o[1]-l,o[2]-l,p]},{index:g,name:"right",type:"border",positions:[o[0]+o[2]-l,o[1]+l,p,o[3]-l]},{index:g,name:"bottom",type:"border",positions:[o[0]+l,o[1]+o[3]-l,o[2]-l,p]}]}function Fo(o,p,g,l,b){o=at(o,g,b,"move");let T=p.map((A,B)=>Su(A,l,B)).flat(),O=function(A,B){let I=!1,q=[],ne=[];return B.forEach((Kn,Cn)=>{Rt(A,Kn)&&(I=!0,q.push(Kn),ne.push(Cn))}),{hasIn:I,coverList:q,coverIndexList:ne}}(o,T.map(A=>A.positions));return{hasIn:O.hasIn,list:O.coverIndexList.map(A=>T[A])}}function Uo(o){if(o=o.find(p=>p.type==="vertex")||o[0],o)return o;throw new Error("findOneBorderOrVertex list may be empty.")}function ku(o,p,g,l,b,T,O){O||((O=Fo(p,g,l,b,T)).hasIn?((p=Uo(O.list).name)!=="left-top"&&p!=="right-bottom"||(o.style.cursor="nwse-resize"),p!=="right-top"&&p!=="left-bottom"||(o.style.cursor="nesw-resize"),p!=="left"&&p!=="right"||(o.style.cursor="col-resize"),p!=="top"&&p!=="bottom"||(o.style.cursor="row-resize")):o.style.cursor="auto")}function Du(o,p,g,l,b,T,O,A,B,I,q){if(p&&p.x!==void 0&&g&&g.x!==void 0){var p=Cu(p,g,T);if(p.isStartMove)return{offsetX:g,offsetY:T}=p.offsetInfo,p=Ae(function(hn,Cn,Z){if(!Z)return hn;let fn=J.exports.cloneDeep(hn),X=Z.name;var{offsetX:hn,offsetY:Z}=Cn;return X.includes("left")&&(fn.startX+=hn),X.includes("top")&&(fn.startY+=Z),X.includes("right")&&(fn.endX+=hn),X.includes("bottom")&&(fn.endY+=Z),fn}(l,{offsetX:g/b,offsetY:T/b},B),b,O),Qe(o,I,O,q),q.mode=="crop"&&wu(o,...p,q,!0),Be(o,A,O,q),q.mode=="tag"&&No(o,...p,q,(l.__index||0)+1,void 0,l.isShow,l.showOutLine,l.labelText,l.tagConfig,void 0),p}}function Ou(o,p){return Math.abs(o-p)}function zu(o){return{width:Ou(o[0].clientX,o[1].clientX),height:Ou(o[0].clientY,o[1].clientY)}}function $o(o,p,g=1){return Te({startX:(o[0]-p.x)/g,startY:(o[1]-p.y)/g,endX:(o[0]+o[2]-p.x)/g,endY:(o[1]+o[3]-p.y)/g}).info}function ae(o,p,g){return o.map((l,b)=>(l.__scale=p,l.__index=b,Te(qo(l,g)).info))}function jr(o,p,g){return o.map((l,b)=>(l.__scale=p,l.__index=b,b=g,(l=l).x=gr(l.x,b),l.y=gr(l.y,b),l.raduis=gr(l.raduis||0,b),l))}function Vo(o,p,g){return o.map(l=>l.map(b=>({...b,_x:b.x*g+p.x,_y:b.y*g+p.y})))}function Yu(o,p){for(const g of p)if(ut(o,g))return!0;return!1}function Lu(o,p){return p=ut(o,p),!(!p||p.startX!==o.startX||p.endX!==o.endX||p.startY!==o.startY||p.endY!==o.endY)}function Tu(o,p,g){let l=J.exports.cloneDeep(g);return o==="img"&&(l.startX=l.startX+p.startX,l.startY=l.startY+p.startY,l.endX=l.endX+p.startX,l.endY=l.endY+p.startY),o==="crop"&&(l.startX=l.startX-p.startX,l.startY=l.startY-p.startY,l.endX=l.endX-p.startX,l.endY=l.endY-p.startY),l}function qo(o,p){return o.startX=gr(o.startX,p),o.endX=gr(o.endX,p),o.startY=gr(o.startY,p),o.endY=gr(o.endY,p),o}function gr(o,p){return parseFloat(o.toFixed(p))}function ju(o,p,g){return g=J.exports.cloneDeep(g.dotConfig),p.dotConfig&&Object.assign(g,p.dotConfig),o=(o.x-p.x)**2+(o.y-p.y)**2,o<=g.radius**2}var Rr=(o,p)=>{const g=o.__vccOpts||o;for(var[l,b]of p)g[l]=b;return g},lt=o=>(V.pushScopeId("data-v-079c1b1a"),o=o(),V.popScopeId(),o);const Bl=["onTouchmove","onTouchstart","onTouchend"],Wl={key:0,class:"mode-panel"},Pl={class:"status"},Hl={class:"text"},Nl={class:"tip"},Fl=lt(()=>V.createElementVNode("kbd",null,"Ctrl",-1)),Ul=V.createTextVNode(" + "),$l=lt(()=>V.createElementVNode("kbd",null,"B",-1)),Vl=lt(()=>V.createElementVNode("span",{style:{"font-size":"14px","margin-left":"10px"}},"\u5207\u6362\u6A21\u5F0F",-1));lt=V.defineComponent({props:{cropConfig:{default:()=>Lr.cropConfig},daubConfig:{default:()=>Lr.daubConfig},layerConfig:{default:()=>Lr.layerConfig},tagConfig:{default:()=>Lr.tagConfig},dotConfig:{default:()=>Lr.dotConfig},drawingText:null,isShowTip:{type:Boolean,default:!1},enableScale:{type:Boolean,default:!0},enableMove:{type:Boolean,default:!0},enableDrawCrop:{type:Boolean,default:!0},enableDrawTag:{type:Boolean,default:!0},initScale:{type:Boolean,default:!0},enableInteractiveTagChangeStatus:{type:Boolean,default:!0},enableCropCross:{type:Boolean,default:!1},handleResizeCropCross:{default:"reset"},enableInteractiveCropDelete:{type:Boolean,default:!0},enableCropResize:{type:Boolean,default:!0},enableTagResize:{type:Boolean,default:!1},enableDrawCropOutOfImg:{type:Boolean,default:!0},enableDrawTagOutOfCrop:{type:Boolean,default:!0},enableDrawTagOutOfImg:{type:Boolean,default:!0},isImgCrop:{type:Boolean,default:!1},isCropSingle:{type:Boolean,default:!1},cropList:{default:()=>Array()},tagList:{default:()=>Array()},daubStack:{default:()=>Array()},dotList:{default:()=>Array()},mode:{default:"crop"},mobileOperation:{default:"move"},src:null,precision:{default:0},splitClickAndDoubleClickEvent:{type:Boolean,default:!1},disableDefaultShortcuts:{default:()=>Array()},customDrawTopCtx:null},emits:["update:cropList","update:daubStack","cropListChange","update:tagList","update:dotList","tagListChange","update:mode","update:mobileOperation","resizeStart","resizeEnd","delCrop","drawCropStart","drawTagStart","mouseOverInfo","onLoadImage"],setup(o,{expose:p,emit:g}){const l=o;let b=!1,T,O,A=null,B=null,I={last:{down:void 0,up:void 0},prev:{down:void 0,up:void 0}};const q=x.mobile()?.1/Je*1.5:.1;let ne=q,Kn=!1;function Cn(){B=null,Kn=!1,ne=q,F.resizeHovering=void 0}let Ln=!1,fn=null,X=null,hn,Z=J.exports.cloneDeep(ot),Bn=J.exports.cloneDeep(ot),In=J.exports.cloneDeep(de),mn=J.exports.cloneDeep(de),ve=J.exports.cloneDeep(de),nr={x:0,y:0},er=0,R={x:0,y:0},tn={x:0,y:0},W=V.ref(1),Ce,Se,rr=1,Sn,sn=V.ref(1),Wn,dn=[],an=[],Tn=[],le=[],ct=V.ref({scale:1,zoomScale:1}),bn=(V.watch(()=>[W.value,sn.value,rr],()=>{ct.value.scale=W.value,ct.value.zoomScale=sn.value}),V.computed(()=>{let s=J.exports.cloneDeep(Lr);return Object.assign(s.cropConfig,l.cropConfig),Object.assign(s.tagConfig,l.tagConfig),Object.assign(s.layerConfig,l.layerConfig),Object.assign(s.daubConfig,l.daubConfig),Object.assign(s.dotConfig,l.dotConfig),s.drawingText=l.drawingText,s.mode=l.mode,s})),ce=V.ref(),It=V.ref(),Mt=V.ref(),F={isScaleing:!1,isDrawRecting:!1,isMoving:!1,resizeHovering:void 0,isMouseDown:()=>In.x!==void 0,isMouseUpDownPoints:()=>In.x!==void 0&&mn.x!==void 0};const Gn={dragCreatRectInterrupt(){st()},dragCreatOrResizeRect(s){var d,S;X&&(s=="drawDot"&&Xt(X,Tn,R,bn.value),s=="drawCrop"&&(l.isCropSingle&&!F.isDrawRecting&&(an=[]),F.isDrawRecting||g("drawCropStart"),F.isDrawRecting=!0,Wn=function(k,Y,L,vn,K,Mn,Pn,jn){if(Y.x!==void 0&&L.x!==void 0){let gn=bu(Po(Y,L),vn,K);if(gn[2]=Le(gn[2],void 0,!0),gn[3]=Le(gn[3],void 0,!0),5<gn[2]||5<gn[3])return Qe(k,Mn,Pn,jn),wu(k,...gn,jn,!0),gn}}(X,In,mn,sn.value,tn,an,R,bn.value),Be(X,dn,R,bn.value),(d=l.customDrawTopCtx)==null||d.call(l,X,je)),s=="drawTag"&&(F.isDrawRecting||g("drawTagStart"),F.isDrawRecting=!0,Qe(X,an,R,bn.value),Wn=function(k,Y,L,vn,K,Mn,Pn,jn){if(Y.x!==void 0&&L.x!==void 0){let gn=bu(Po(Y,L),vn,K);if(gn[2]=Le(gn[2],void 0,!0),gn[3]=Le(gn[3],void 0,!0),5<gn[2]||5<gn[3])return Be(k,Mn,Pn,jn),No(k,...gn,jn,Mn.length+1,void 0,!0,void 0,jn.drawingText,void 0,void 0),gn}}(X,In,mn,sn.value,tn,dn,R,bn.value),(S=l.customDrawTopCtx)==null||S.call(l,X,je)),s=="resize")&&{crop(){var Y;l.enableCropResize&&F.resizeHovering&&X?(B=an[F.resizeHovering.index||0],F.resizeHovering&&B&&(F.isDrawRecting=!0,Wn=Du(X,In,mn,B,B.__scale||1,sn.value,R,dn,F.resizeHovering,an.filter((L,vn)=>{var K;return vn!==((K=F.resizeHovering)==null?void 0:K.index)}),bn.value),(Y=l.customDrawTopCtx)==null||Y.call(l,X,je))):Gn.move()},tag(){var Y;l.enableTagResize&&F.resizeHovering&&X?(B=dn[F.resizeHovering.index||0],F.resizeHovering&&B&&(F.isDrawRecting=!0,Wn=Du(X,In,mn,B,B.__scale||1,sn.value,R,dn.filter((L,vn)=>{var K;return vn!==((K=F.resizeHovering)==null?void 0:K.index)}),F.resizeHovering,an,bn.value),(Y=l.customDrawTopCtx)==null||Y.call(l,X,je))):Gn.move()},daub(){},dot(){}}[l.mode]()},changeMode(){l.mode==="tag"?g("update:mode","crop"):g("update:mode","tag")},scale(s,d){if(!hn||!fn||!X)throw new Error("can't find canvas ctx or img");F.isScaleing=!0,fn.translate(tn.x,tn.y),X.translate(tn.x,tn.y),tn={x:tn.x-(d.x/(sn.value*s)-d.x/sn.value),y:tn.y-(d.y/(sn.value*s)-d.y/sn.value)},fn.scale(s,s),X.scale(s,s),fn.translate(-tn.x,-tn.y),X.translate(-tn.x,-tn.y),sn.value*=s,vr(fn),vr(X),Tr(fn,hn,R.x,R.y,Bn.width*W.value,Bn.height*W.value),Nn(),Kn=!1,F.isScaleing=!1},move(){var s;if(l.enableMove&&fn&&X&&hn&&!F.isScaleing){F.isMoving=!0;let d=function(S,k,Y,L,vn,K,Mn,Pn,jn,gn,yr,Mr,or){if(Mn.x!==void 0&&Pn.x!==void 0&&(Mn=Cu(Mn,Pn,gn),Mn.isStartMove))return{offsetX:Pn,offsetY:gn}=Mn.offsetInfo,vr(S),Tr(S,Y,(S={x:K.x+Pn,y:K.y+gn}).x,S.y,L.width*vn,L.height*vn),Qe(k,jn,K,or,Mn.offsetInfo),Be(k,yr,K,or,{offsetX:Pn,offsetY:gn}),Xt(k,Mr,K,or,Mn.offsetInfo),{offsetX:Pn,offsetY:gn}}(fn,X,hn,Bn,W.value,R,In,mn,an,sn.value,dn,Tn,bn.value);(s=l.customDrawTopCtx)==null||s.call(l,X,S=>je(S).map(k=>(d&&(k[0]+=d.offsetX,k[1]+=d.offsetY),k))),d&&(Se=J.exports.cloneDeep(R))&&(Se.x+=d.offsetX,Se.y+=d.offsetY)}},scrollIntoView(s){if(fn&&X&&hn){var d=Ae(s,W.value,R);s.__scale=W.value;let S=J.exports.take(Su(s,R,void 0,0),4).map(Y=>({x:Y.positions[0]-tn.x,y:Y.positions[1]-tn.y})),k=[0,0,((Z==null?void 0:Z.width)||0)/sn.value,((Z==null?void 0:Z.height)||0)/sn.value];S.every(Y=>!Rt(Y,k))&&(R={x:R.x-d[0]+tn.x+(k[2]-d[2])/2,y:R.y-d[1]+tn.y+(k[3]-d[3])/2},vr(fn),vr(X),Tr(fn,hn,R.x,R.y,hn.width*W.value,hn.height*W.value),Nn())}},hoverRect(s){if(X&&(Kn=function(d,S,k,Y,L,vn,K,Mn,Pn,jn,gn){if(S==="tag"&&!Pn){let yr=k.filter(mr=>!mr.isShow),Mr=!1,or=at(K,Y,vn,"move"),Ar=[];yr.forEach(mr=>{var Jo=Ae(mr,mr.__scale,L);Rt(or,Jo)&&(Ar.push(mr),Mr=!0)}),Mr?(jn=!0,Be(d,Ar,L,gn,void 0,or)):jn&&(Qe(d,Mn,L,gn),Be(d,k,L,gn),jn=!1)}return jn}(X,l.mode,dn,sn.value,R,tn,s,an,F.isScaleing,Kn,bn.value),!b&&(l.enableCropResize&&l.mode==="crop"&&ku(ce.value,s,an,sn.value,R,tn,F.isScaleing),l.enableTagResize&&l.mode==="tag"&&ku(ce.value,s,dn,sn.value,R,tn,F.isScaleing),l.mode=="dot"))){s=at(s,sn.value,tn,"move");let d={x:(s.x-R.x)/W.value,y:(s.y-R.y)/W.value,raduis:0},S=(jr([d],W.value,l.precision),J.exports.cloneDeep(Tn));S.forEach(k=>{ju(d,k,bn.value)?(k.__isHover=!0,ce.value.style.cursor="pointer"):(k.__isHover=!1,ce.value.style.cursor="auto")}),Tn=S,Xt(X,Tn,R,bn.value)}}},tr={onMouseOverMove(s){x.mobile()?this.onHoldMouseLeftBtnMove(s):F.isMouseDown()||x.mobile()?l.mode==="dot"&&!b||this.onHoldMouseLeftBtnMove(s):Gn.hoverRect(s)},onHoldMouseLeftBtnMove(s){var d,S;mn={x:s.layerX,y:s.layerY},b?this.onDrawSwitchOnStartDraw():l.mode==="daub"?F.isScaleing||(s=Et(ve,sn.value,tn),S={x:(d=Et(mn,sn.value,tn)).x,y:d.y,lineWidth:l.daubConfig.lineWidth,strokeStyle:l.daubConfig.strokeStyle},X&&(Wo(X,[s,d],R,bn.value),ve=J.exports.cloneDeep(mn),le[le.length-1].push(S))):F.resizeHovering?Gn.dragCreatOrResizeRect("resize"):Gn.move()},onDoubleClick(s){l.mode==="crop"&&l.enableInteractiveCropDelete&&Zt(it(s,an,W.value,R).boxList),l.mode==="tag"&&it(s,dn,W.value,R).boxList.forEach(S=>{var k;(k=S==null?void 0:S.onDoubleClick)==null||k.call(S,"",S)})},onCick(s){if(l.mode=="dot"){var d=s;let S={x:(d.x-R.x)/W.value,y:(d.y-R.y)/W.value,raduis:0};return jr([S],W.value,l.precision),d=Tn.filter(k=>!ju(S,k,bn.value)),d.length!==Tn.length?(Tn=d,void Nn()):(Tn.push(S),void Gn.dragCreatOrResizeRect("drawDot"))}l.mode==="tag"&&X&&(it(s,dn,W.value,R).boxList.forEach(k=>{var Y;(Y=k==null?void 0:k.onClick)==null||Y.call(k,"",k)}),l.enableInteractiveTagChangeStatus&&(Qe(X,an,R,bn.value),{isReDraw:d,redrawList:s}=Be(X,dn,R,bn.value,void 0,s),d&&(Nn(),Er("statusChange",Pe(s)))))},onWheel(s,d,S){(l.enableScale||S)&&Gn.scale(s,d)},onDrawSwitchOnStartDraw(){l.mode==="dot"?Gn.move():l.mode==="crop"?l.enableDrawCrop&&Gn.dragCreatOrResizeRect("drawCrop"):l.enableDrawTag&&Gn.dragCreatOrResizeRect("drawTag")}},ke={shiftMode(){Gn.changeMode()},shiftDrawSwitch(s){V.nextTick(()=>{s==="on"&&((l.enableDrawCrop&&l.mode==="crop"||l.enableDrawTag&&l.mode==="tag")&&(ce.value.style.cursor="crosshair"),F.isMouseDown()||(b=!0)),s==="off"&&(F.isMoving||F.resizeHovering||Gn.dragCreatRectInterrupt(),b=!1)})},init(){(async function(){if(Cn(),Ln=!1,fn=null,X=null,hn=void 0,Z=J.exports.cloneDeep(ot),Bn=J.exports.cloneDeep(ot),In=J.exports.cloneDeep(de),mn=J.exports.cloneDeep(de),ve=J.exports.cloneDeep(de),R={x:0,y:0},tn={x:0,y:0},W.value=1,Ce=void 0,Se=void 0,rr=1,Sn=void 0,sn.value=1,Wn=void 0,dn=[],an=[],await V.nextTick(),1<l.cropList.length){let s={startX:1/0,startY:1/0,endX:-1/0,endY:-1/0};l.cropList.forEach(d=>{d=Te(d),d.info.startX<s.startX&&(s.startX=d.info.startX),d.info.startY<s.startY&&(s.startY=d.info.startY),d.info.endX>s.endX&&(s.endX=d.info.endX),d.info.endY>s.endY&&(s.endY=d.info.endY)}),Ce=s}return l.cropList.length==1&&(Ce=l.cropList[0]),dn=J.exports.cloneDeep(l.tagList),an=J.exports.cloneDeep(l.cropList),Tn=J.exports.cloneDeep(l.dotList),le=J.exports.cloneDeep(l.daubStack),We(),x.mobile()||(window.addEventListener("keydown",At),window.addEventListener("keyup",Bt)),Wt(),fn=It.value.getContext("2d"),X=Mt.value.getContext("2d"),fn&&X?(Z=Le(yu(fn.canvas)))?(jt(fn,Z),jt(X,Z),g("onLoadImage",{status:"loading"}),du(l.src).then(s=>{if(g("onLoadImage",{status:"success"}),!Z||!fn||!X)return Promise.reject("canvasWH or canvas var not has valid values.");if(hn=s,Bn={width:hn.width,height:hn.height},l.initScale){s=Z,Y=hn,L=s.width/Y.width,s=s.height/Y.height;var d,S,k,Y={scale:L<s?L:s,fit:L<s?"height":"width"};if(W.value=rr=Y.scale,Ce)return L=Ae(Ce,rr,R),s=(Z.width-.05*Z.width)/L[2],d=(Z.height-.05*Z.height)/L[3],d=Z.width/Z.height>L[2]/L[3]?d:s,S=L[0]+L[2],k=L[1]+L[3],(d=d)==s?(R.x=(Z.width-S*d-.05*Z.width/2)/d,R.y=((Z.height-L[3]*d)/2-L[1]*d)/d):(R.x=((Z.width-L[2]*d)/2-L[0]*d)/d,R.y=(Z.height-k*d-.05*Z.height/2)/d),an=ae(an,W.value,l.precision),dn=ae(dn,W.value,l.precision),Tn=jr(Tn,W.value,l.precision),le=Vo(le,R,W.value),ft({deltaY:1,clientX:0,clientY:0,preventDefault(){},stopPropagation(){},__zoom:d},!0),!0;Y.fit==="width"?R.x=(Z.width-Bn.width*W.value)/2:R.y=(Z.height-Bn.height*W.value)/2,Ce={startX:0,startY:0,endX:0+Bn.width,endY:0+Bn.height},l.isImgCrop&&Xr("add",an=[Ce])}var Y,L;return an=ae(an,W.value,l.precision),dn=ae(dn,W.value,l.precision),Tn=jr(Tn,W.value,l.precision),le=Vo(le,R,W.value),Tr(fn,hn,R.x,R.y,hn.width*W.value,hn.height*W.value),Nn(),!0}).catch(s=>{g("onLoadImage",{status:"error",msg:JSON.stringify(s)})})):Promise.reject("Error: can't get canvas height and width."):Promise.reject("Error: can't find canvas element.")})().then(()=>{Ln=!0})},resize(){requestAnimationFrame(()=>{(async function(){if(Zo(),await V.nextTick(),We(),fn&&X&&hn){if(!(Z=Le(yu(fn.canvas))))return Promise.reject("Error: can't get canvas height and width.");jt(fn,Z),jt(X,Z),fn.scale(sn.value,sn.value),X.scale(sn.value,sn.value),fn.translate(-tn.x,-tn.y),X.translate(-tn.x,-tn.y),Tr(fn,hn,R.x,R.y,hn.width*W.value,hn.height*W.value),an=ae(an,W.value,l.precision),dn=ae(dn,W.value,l.precision),Tn=jr(Tn,W.value,l.precision),Nn(),Ln=!0}})()})}};function At(s){s.code!=="Space"||l.disableDefaultShortcuts.includes("space")||(s.target===document.body&&s.preventDefault(),ke.shiftDrawSwitch("on"))}function Bt(s){if(s.code==="KeyB"&&s.ctrlKey){if(l.disableDefaultShortcuts.includes("ctrl+b"))return;ke.shiftMode()}s.code!=="Space"||l.disableDefaultShortcuts.includes("space")||ke.shiftDrawSwitch("off")}function We(){var s=ce.value.getBoundingClientRect();Sn={top:s.top,right:s.right,bottom:s.bottom,left:s.left,width:s.width,height:s.height,x:s.x,y:s.y}}function Zo(){B=null,Ln=!1,Z=J.exports.cloneDeep(ot),In=J.exports.cloneDeep(de),mn=J.exports.cloneDeep(de),ve=J.exports.cloneDeep(de),Sn=void 0}function je(s){return ae(s,W.value,l.precision).map(S=>Ae(S,W.value,R))}function Nn(){var s;X&&(Qe(X,an,R,bn.value),Be(X,dn,R,bn.value),Xt(X,Tn,R,bn.value),le.forEach(d=>{X&&Wo(X,d,R,bn.value)}),(s=l.customDrawTopCtx)==null||s.call(l,X,je))}function Wt(){x.mobile()&&(l.mobileOperation==="draw"&&ke.shiftDrawSwitch("on"),l.mobileOperation==="move"&&ke.shiftDrawSwitch("off"))}function Pt(){ke.resize()}function ft(s,d){l.enableScale&&(s.stopPropagation(),s.preventDefault());var S,k,Y;if(!Sn)throw new Error("can't find  containerInfo.");!Ln&&!s.__zoom||F.isDrawRecting||F.isMoving||(S=d?0:(s.clientX-Sn.left)*Je,k=d?0:(s.clientY-Sn.top)*Je,Y=s.deltaY<0?1:-1,s=d?s.__zoom:Math.exp(Y*ne),sn.value*s<.2||tr.onWheel(s,{x:S,y:k},d))}function Ht(s){if(F.resizeHovering){var d;let S={crop:{boxList:an,trigger:Xr,getBoxFunc:He},tag:{boxList:dn,trigger:Er,getBoxFunc:Pe},daub:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]},dot:{boxList:[],trigger:()=>{},getBoxFunc:()=>[]}}[l.mode];S.boxList[F.resizeHovering.index]=s,g("resizeEnd",{index:F.resizeHovering.index,box:s}),l.mode==="tag"&&(d=xu(In,mn),Object.assign(s,{__oprateType:"resize",__vertexPosition:d})),S.trigger("resize",S.getBoxFunc([s]))}}function st(){Ln&&(F.isMoving=!1,Se&&(R=J.exports.cloneDeep(Se)),Se=void 0,(F.isMouseUpDownPoints()||l.mode==="dot")&&{crop(){if(Wn){let d={...B,...$o(Wn,R,W.value)};B=null,F.resizeHovering?!l.enableCropCross&&Yu(d,an.filter((S,k)=>{var Y;return k!==((Y=F.resizeHovering)==null?void 0:Y.index)}))?(l.handleResizeCropCross==="reset"&&Nn(),l.handleResizeCropCross==="delete"&&Zt([an[F.resizeHovering.index]])):Ht(d):(d=ae([d],W.value,l.precision)[0],!l.enableCropCross&&Yu(d,an)?Nn():(an.push(d),Xr("add",He([d])))),Wn=void 0}},tag(){var d,S;Wn&&(d={...B,...$o(Wn,R,W.value)},B=null,F.resizeHovering?Ht(d):(d=xu(In,mn),S=ae([S=$o(Wn,R,W.value)],W.value,l.precision)[0],Object.assign(S,{isShow:!0,__oprateType:"add",__vertexPosition:d}),dn.push(S),Er("add",Pe([S]))),Wn=void 0)},daub(){Wn=Wn&&void 0;let d=J.exports.cloneDeep(le);g("update:daubStack",d.map(S=>S.map(k=>(k._x!=null&&k._y!=null?(delete k._x,delete k._y):(k.x=(k.x-R.x)/W.value,k.y=(k.y-R.y)/W.value),k))))},dot(){let d=J.exports.cloneDeep(Tn);g("update:dotList",d.map(S=>S))}}[l.mode](),F.resizeHovering=void 0,F.isDrawRecting=!1,In=J.exports.cloneDeep(de),mn=J.exports.cloneDeep(de),ve=J.exports.cloneDeep(de),ce.value.style.cursor="auto")}function Xr(s,d){var S=He(an);g("update:cropList",S),g("cropListChange",{type:s,list:d})}function Er(s,d){let S={type:s,list:d};if(s==="add"){let k=d.filter(Y=>Reflect.get(Y,"__parentCrop"))[0];k&&(S.parentCrop=He([Reflect.get(k,"__parentCrop")])[0],delete k.__parentCrop)}g("tagListChange",S),s=Pe(dn),g("update:tagList",s)}function Pe(s){let d=s||dn,S=an,k=[];return d.forEach(K=>{let L=K;if(!l.enableDrawTagOutOfCrop&&L.__oprateType&&L.__vertexPosition){if(vn=it((K=L,{x:(vn=(vn=L.__vertexPosition).split("-"))[0]==="left"?K.startX:K.endX,y:vn[1]==="top"?K.startY:K.endY}),S).boxList[0],!vn)return;K=ut(L,vn),K&&Ho(K)?(Object.assign(L,K),L.__parentCrop=vn):L.__isValidity=!1}delete L.__oprateType,Reflect.deleteProperty(L,"__vertexPosition"),l.enableDrawTagOutOfCrop&&!l.enableDrawTagOutOfImg&&(vn={startX:0,startY:0,endX:(K=Bn).width,endY:K.height},(K=ut(L,vn))&&Ho(K)?Object.assign(L,K):L.__isValidity=!1);var vn,K=Te(L);k.push(qo(K.info,l.precision))}),k.filter(Y=>Y.__isValidity!==!1)}function He(s){return(s||an).map(vn=>{let Y=vn;l.enableDrawCropOutOfImg||(L={startX:0,startY:0,endX:(L=Bn).width,endY:L.height},(L=ut(Y,L))&&Ho(L)?Y={...vn,...L}:Y._del=!0),Reflect.deleteProperty(Y,"__vertexPosition");var L,vn=Te(Y);return qo(vn.info,l.precision)}).filter(k=>!k._del)}function Nt(s){var d;Ln&&fn&&X&&(d=new Date().getTime(),T=d,I.prev.down?I.last.down=d:I.prev.down=d,d=Le(d={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),In={x:d.layerX,y:d.layerY},ve=J.exports.cloneDeep(In),l.mode=="daub"&&le.push([]),l.mode==="crop"&&!b&&l.enableCropResize&&(s=Fo(d,an,sn.value,R,tn)).hasIn&&(F.resizeHovering=Uo(s.list),g("resizeStart",{index:F.resizeHovering.index,box:an[F.resizeHovering.index]})),l.mode==="tag"&&!b&&l.enableTagResize&&(s=Fo(d,dn,sn.value,R,tn)).hasIn&&(F.resizeHovering=Uo(s.list),g("resizeStart",{index:F.resizeHovering.index,box:dn[F.resizeHovering.index]})))}V.onBeforeUnmount(()=>{window.removeEventListener("resize",Pt),x.mobile()||(window.removeEventListener("keydown",At),window.removeEventListener("keyup",Bt)),Cn()}),V.onMounted(()=>{ke.init(),window.addEventListener("resize",Pt)}),V.watch(()=>l.mode,s=>{s==="tag"&&(ce.value.style.cursor="auto")}),V.watch(()=>l.src,s=>{s&&ke.init()}),V.watch(()=>l.mobileOperation,s=>{Ln&&Wt()}),V.watch(()=>l.tagList,s=>{Ln&&(dn=ae(s,W.value,l.precision),Nn())},{deep:!0}),V.watch(()=>l.dotList,s=>{Ln&&(Tn=jr(s,W.value,l.precision),Nn())},{deep:!0}),V.watch(()=>l.daubStack,s=>{Ln&&(le=Vo(J.exports.cloneDeep(l.daubStack),R,W.value),Nn())},{deep:!0}),V.watch(()=>l.cropList,s=>{Ln&&(an=ae(s,W.value,l.precision),Nn())});let Ft=J.exports.throttle(function(s){if(s){s=at(s,sn.value,tn,"over");let d=J.exports.cloneDeep(s);d.x-=R.x,d.y-=R.y,d.x/=W.value,d.y/=W.value,g("mouseOverInfo",{canvas:s,img:d})}else g("mouseOverInfo",{canvas:null,img:null})},100,{leading:!1,trailing:!0});function Ut(s){Ln&&(s=Le(s={layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),O=new Date().getTime(),tr.onMouseOverMove(s),Ft(s))}function $t(){var s;Ln&&(s=new Date().getTime(),I.prev.up?I.last.up=s:I.prev.up=s,st())}function Ko(){Ln&&(ce.value.style.cursor="auto",st(),Ft())}function _r(){A&&clearTimeout(A),A=null}function Go(s){if(We(),Ln){let d=at(Le({layerX:Reflect.get(s,"layerX"),layerY:Reflect.get(s,"layerY")},["layerX","layerY"]),sn.value,tn,"click");var s=O&&T?O-T:0;T=void 0,O=void 0,100<s||(l.splitClickAndDoubleClickEvent?(_r(),A=setTimeout(()=>{tr.onCick(d),A=null},230)):tr.onCick(d),s=l.splitClickAndDoubleClickEvent?320:360,I.prev.up&&I.prev.down&&I.last.up&&I.last.down&&(I.last.up-I.prev.down<s?(l.splitClickAndDoubleClickEvent&&_r(),tr.onDoubleClick(d),I.prev.down=void 0,I.prev.up=void 0):(I.prev.down=I.last.down,I.prev.up=I.last.up),I.last.down=void 0,I.last.up=void 0))}}function Ir(s){We(),T=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Nt({layerX:d[0].clientX-((Sn==null?void 0:Sn.left)||0),layerY:d[0].clientY-((Sn==null?void 0:Sn.top)||0)}),s.touches.length==2){if(!Sn)throw new Error("can't find  containerInfo.");zu(mu(s)),nr={x:(d[0].clientX+d[1].clientX)/2,y:(d[0].clientY+d[1].clientY)/2}}}function Vt(s){O=new Date().getTime();var d=s.touches;if(s.touches.length===1&&Ut({layerX:d[0].clientX-((Sn==null?void 0:Sn.left)||0),layerY:d[0].clientY-((Sn==null?void 0:Sn.top)||0)}),s.touches.length==2){if(!Sn)throw new Error("can't find  containerInfo.");var{width:d,height:s}=zu(mu(s)),d=(s=s,Math.sqrt(Math.pow(d,2)+Math.pow(s,2))),s=-(d-er);er=d,ft({onTouchMove:!0,deltaY:s,preventDefault(){},stopPropagation(){},clientX:nr.x,clientY:nr.y})}}function qt(s){$t()}function Zt(s){if(s.length!==0){let d=[],S=[];He().forEach(Y=>{(s.find(L=>(L=Te(L).info,L.startX===Y.startX&&L.endX===Y.endX&&L.startY===Y.startY&&L.endY===Y.endY))?S:d).push(Y)}),an=ae(d,W.value,l.precision),g("delCrop",S),Nn(),Xr("delete",He(S))}}return p({render:Nn,removeTagItems:function(s){let d=[],S=[];s.length!==0&&Pe().forEach(Y=>{(s.find(L=>(L=Te(L).info,L.startX===Y.startX&&L.endX===Y.endX&&L.startY===Y.startY&&L.endY===Y.endY))?S:d).push(Y)}),dn=ae(d,W.value,l.precision),Nn(),Er("delete",S)},getTagListGroupByCropIndex:function(s="startPoint"){let d=Pe(),S=He();return d.forEach(k=>{var Y;s==="startPoint"&&(Y=it({x:k.startX,y:k.startY},S),k.__groupIndex=Y.indexList[0]),s==="allIn"&&(Y=function(L,vn){let K=[],Mn=[];return vn.forEach((Pn,jn)=>{Lu(L,Pn)&&(Mn.push(Pn),K.push(jn))}),{boxList:Mn,indexList:K}}(k,S),k.__groupIndex=Y.indexList[0])}),J.exports.groupBy(d,"__groupIndex")},getBase64ImageData:async function(s){const d=document.createElement("canvas");d.style.width=Bn.width+"px",d.style.height=Bn.height+"px",d.width=Bn.width,d.height=Bn.height;let S=d.getContext("2d");return du(l.src,s).then(k=>{if(S){let Y={x:0,y:0};return Tr(S,k,0,0,k.width,k.height),Qe(S,l.cropList,Y,bn.value,void 0,!0),Be(S,l.tagList,Y,bn.value),l.daubStack.forEach(L=>{S&&Wo(S,L,Y,bn.value)}),d.toDataURL("image/png")}throw new Error("ctx not exist")})},hooks:ke,scrollIntoView:Gn.scrollIntoView,scaleInfo:ct}),(s,d)=>(V.openBlock(),V.createElementBlock("div",{class:"comp-ocr-img",ref_key:"containerRef",ref:ce,onMousedown:Nt,onMouseenter:We,onClick:Go,onMouseup:$t,onMousemove:Ut,onMouseout:Ko,onMousewheel:ft,onTouchmove:V.withModifiers(Vt,["stop","prevent"]),onTouchstart:V.withModifiers(Ir,["stop"]),onTouchend:V.withModifiers(qt,["stop"])},[V.createElementVNode("canvas",{class:"canvas",ref_key:"canvasRef",ref:It},null,512),V.createElementVNode("canvas",{class:"canvas2",ref_key:"canvas2Ref",ref:Mt},null,512),V.unref(l).isShowTip?(V.openBlock(),V.createElementBlock("div",Wl,[V.createElementVNode("div",Pl,[V.createElementVNode("div",{class:V.normalizeClass(["circle",{crop:o.mode==="crop",tag:o.mode==="tag"}])},null,2),V.createElementVNode("div",Hl,V.toDisplayString(o.mode==="crop"?"\u88C1\u526A\u6A21\u5F0F":"\u6807\u8BB0\u9519\u8BEF\u884C"),1)]),V.createElementVNode("div",Nl,[V.renderSlot(s.$slots,"tip",{},()=>[Fl,Ul,$l,Vl],!0)])])):V.createCommentVNode("",!0)],40,Bl))}}),Me.ImgMark=Rr(lt,[["__scopeId","data-v-079c1b1a"]]),Me.boxIsAllInOtherBox=Lu,Me.transformTagBoxRelativeTo=Tu,Me.transformTagListBoxRelativeTo=function(o,p,g){return g.map(l=>Tu(o,p,l))},Object.defineProperties(Me,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
